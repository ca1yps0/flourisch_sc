<!DOCTYPE html><html><head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="static/style.css">
	<title>Flourish template: Basic slide</title></head>
	<body>
		<div id="wrapper"></div>
	

<script>window.Flourish = {"static_prefix":"static","environment":"live"};</script><script>!function(t){"use strict";function e(){var t=this;this.status={hasImage:"image"===xe.background_type&&xe.background_image_src.length>0,hasVideo:"video"===xe.background_type&&xe.background_video_src.length>0},this.html=gt.render(mt,{state:xe,status:t.status}),this.stopMedia=function(){this.status.hasVideo&&setTimeout(function(){t.el.querySelector(".video-container")&&(t.el.querySelector(".video-container").innerHTML="")},500)},this.render=function(){var t=document.createElement("div");return t.innerHTML=this.html,this.el=t.firstChild,this.el}}function n(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===vt&&e.documentElement.namespaceURI===vt?e.createElement(t):e.createElementNS(n,t)}}function i(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function o(){}function r(){return[]}function a(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function s(t,e,n,i,o,r){for(var s,u=0,l=e.length,c=r.length;u<c;++u)(s=e[u])?(s.__data__=r[u],i[u]=s):n[u]=new a(t,r[u]);for(;u<l;++u)(s=e[u])&&(o[u]=s)}function u(t,e,n,i,o,r,s){var u,l,c,h={},p=e.length,d=r.length,f=new Array(p);for(u=0;u<p;++u)(l=e[u])&&(f[u]=c=Ft+s.call(l,l.__data__,u,e),c in h?o[u]=l:h[c]=l);for(u=0;u<d;++u)c=Ft+s.call(t,r[u],u,r),(l=h[c])?(i[u]=l,l.__data__=r[u],h[c]=null):n[u]=new a(t,r[u]);for(u=0;u<p;++u)(l=e[u])&&h[f[u]]===l&&(o[u]=l)}function l(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function c(t){return function(){this.removeAttribute(t)}}function h(t){return function(){this.removeAttributeNS(t.space,t.local)}}function p(t,e){return function(){this.setAttribute(t,e)}}function d(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function f(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function _(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function g(t){return function(){this.style.removeProperty(t)}}function m(t,e,n){return function(){this.style.setProperty(t,e,n)}}function v(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function y(t,e){return t.style.getPropertyValue(e)||$t(t).getComputedStyle(t,null).getPropertyValue(e)}function w(t){return function(){delete this[t]}}function b(t,e){return function(){this[t]=e}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function k(t){return t.trim().split(/^|\s+/)}function A(t){return t.classList||new S(t)}function S(t){this._node=t,this._names=k(t.getAttribute("class")||"")}function E(t,e){for(var n=A(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function C(t,e){for(var n=A(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function z(t){return function(){E(this,t)}}function T(t){return function(){C(this,t)}}function q(t,e){return function(){(e.apply(this,arguments)?E:C)(this,t)}}function B(){this.textContent=""}function N(t){return function(){this.textContent=t}}function M(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function F(){this.innerHTML=""}function P(t){return function(){this.innerHTML=t}}function L(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function R(){this.nextSibling&&this.parentNode.appendChild(this)}function U(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function I(){return null}function V(){var t=this.parentNode;t&&t.removeChild(this)}function O(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function j(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function D(t,e,n){return t=H(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function H(t,e,n){return function(i){var o=se;se=i;try{t.call(this,this.__data__,e,n)}finally{se=o}}}function Q(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function W(t){return function(){var e=this.__on;if(e){for(var n,i=0,o=-1,r=e.length;i<r;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function $(t,e,n){var i=ae.hasOwnProperty(t.type)?D:H;return function(o,r,a){var s,u=this.__on,l=i(e,r,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function X(t,e,n){var i=$t(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function G(t,e){return function(){return X(this,t,e)}}function J(t,e){return function(){return X(this,t,e.apply(this,arguments))}}function K(t,e){this._groups=t,this._parents=e}function Y(){return new K([[document.documentElement]],ce)}function Z(){for(var t=document.querySelectorAll("input[type=url]"),e=0;e<t.length;e++)tt(t[e])}function tt(t){var e=t.ownerDocument,n=e.createElement("button");n.type="button",n.className="upload",n.setAttribute("title","Upload a file from your computer"),n.innerHTML=me,t.insertAdjacentElement("afterend",n),n.onclick=et}function et(){var t=this.previousSibling;Flourish.uploadImage({name:t.getAttribute("data-property"),accept:t.getAttribute("accept")})}function nt(){var t=_e(".slide-container[data-status='new']"),e=t.select("#slide-media"),n=t.select("#slide-content-foreground").append("div").attr("class","btn-container");t.append("button").attr("data-el","main").attr("class","settings-btn icon-columns").attr("data-settings","layout,slide_margin,background_color"),e.append("button").attr("data-el","media").attr("class","settings-btn icon-image").attr("data-settings","show_media,media_type,video_url,photo_url,photo_size,photo_position,video_size,video_autoplay,video_controls"),n.append("button").attr("data-el","content").attr("class","settings-btn icon-pen").attr("data-settings","text_background_color,text_background_size,text_background_opacity,text_align,text_color,text_position"),ge(".settings-btn").on("click",rt).classed("selected",function(){return _e(this).attr("data-el")==pe})}function it(){he=_e("#wrapper").append("div").attr("id","settings-panel"),he.append("div").attr("id","settings-background"),he.append("div").attr("id","settings-foreground"),_e("#settings-background").on("click",ot)}function ot(){_e("#settings-panel").classed("visible",!1),_e(".settings-btn.selected").classed("selected",!1),pe=null}function rt(){pe=_e(this).attr("data-el"),he.classed("visible",!0),_e(this).classed("selected",!0),he.style("top",0);var t=se.clientX>window.innerWidth/2?"right":"left",e="right"==t?"left":"right";he.style(e,"auto"),"left"==t?he.style("left",this.getBoundingClientRect().left+this.getBoundingClientRect().width+10+"px"):he.style("right",window.innerWidth-this.getBoundingClientRect().left+10+"px"),at(this);var n;n=this.getBoundingClientRect().top+he.node().getBoundingClientRect().height>_e(".slide-container").node().getBoundingClientRect().height?window.innerHeight-he.node().getBoundingClientRect().height-10:this.getBoundingClientRect().y,he.style("top",n+"px")}function at(t){he.select("#settings-foreground").html("");var e=_e(t).attr("data-settings").split(","),n=he.select("#settings-foreground").selectAll(".setting-container").data(e).enter().append("div").attr("class",function(t){return"setting-container type-"+ve[t].type});n.each(function(t){if(ve[t]){if(ve[t].show_if)if("object"==typeof ve[t].show_if[1]){var e=!1;if(ve[t].show_if[1].forEach(function(n){xe[ve[t].show_if[0]]==n&&(e=!0)}),!e)return!1}else if(xe[ve[t].show_if[0]]!==ve[t].show_if[1])return;if("checkbox"!==ve[t].type&&_e(this).append("p").text(ve[t].name).attr("class","label-title"),"dropdown"==ve[t].type){var n=_e(this).append("select");n.selectAll("option").data(ve[t].options).enter().append("option").attr("value",function(t){return t.id}).attr("selected",function(e){return e.id==xe[t]?"selected":null}).text(function(t){return t.name}),n.on("change",function(t){xe[t]=se.target.value,pt(ve[t].type)})}else if("button_group"==ve[t].type){var i=_e(this).append("div").attr("class","button-group");i.selectAll("button").data(ve[t].options).enter().append("button").attr("data-value",function(t){return t.id}).classed("selected",function(e){return e.id===xe[t]}).html(function(t){return t.name.indexOf("icon::")>-1?st(t.name):t.name}),i.selectAll("button").on("click",function(){var e=this.getAttribute("data-value");"false"==e&&(e=!1),"true"==e&&(e=!0),xe[t]=e,pt(ve[t].type)})}else if("keypad"==ve[t].type){var o=_e(this).append("div").attr("class","keypad"),r=["top-left","top-center","top-right","center-left","center-center","center-right","bottom-left","bottom-center","bottom-right"].filter(function(e){return"text-overlay"==xe.layout||"photo_position"==t||("text-top"==xe.layout||"text-bottom"==xe.layout?e.split("-")[0]==xe[t+"_v"]:"text-left"==xe.layout||"text-right"==xe.layout?e.split("-")[1]==xe[t+"_h"]:void 0)});o.classed("vertical","text_position"==t&&("text-left"==xe.layout||"text-right"==xe.layout));var a=o.selectAll(".position").data(r).enter().append("p").attr("class",function(t){return"position "+t}).classed("selected",function(e){return xe[t]==e});a.append("input").attr("type","radio").attr("value",function(t){return t}).attr("name",ve[t].name),a.append("label"),a.on("click",function(){xe[t]=_e(this).select("input").node().value,xe[t+"_v"]=xe[t].split("-")[0],xe[t+"_h"]=xe[t].split("-")[1],pt(ve[t].type)})}else _e(this).append("input").attr("type",function(){return ve[t].type}).attr("value",function(){return xe[t]}).attr("checked",function(){return"checkbox"!==ve[t].type?null:xe[t]?"checked":null}).attr("data-property",function(){return t}).on("change",function(){"checkbox"==ve[t].type?xe[t]=!xe[t]:xe[t]=se.target.value,pt(ve[t].type)})}}),n.each(function(t){ve[t]&&"checkbox"==ve[t].type&&_e(this).append("label").text(ve[t].name)}),Z()}function st(t){var e=t.replace("icon::","");return"<img src='"+Flourish.static_prefix+"/"+e+"' />"}function ut(t){_e(".settings-btn.selected").node()&&"color"!=t&&at(_e(".settings-btn.selected").node()),ge(".settings-btn").remove(),nt()}function lt(){it()}function ct(t){function e(){var e=_e(t).selectAll(".no-edit");0!==e.size()&&e.each(function(){var t=new Quill(this,{modules:{toolbar:[["bold","italic","underline"],["link"]],keyboard:{bindings:{tab:{key:9,handler:function(){return!0}}}}},placeholder:"",theme:"bubble"});Quill.import("formats/link").sanitize=function(t){return/^https?:\/\//.test(t)?t:"https://"+t},t.container.classList.remove("no-edit"),t.on("text-change",function(){var e=t.container.getAttribute("data-content");xe[e]=t.container.firstChild.innerHTML}),_e(this).append("span").attr("class","text-toggle").on("click",function(){var t=this.parentElement.getAttribute("data-content");xe["show_"+t]=!xe["show_"+t],pt()})})}if(document.querySelector("#Quill-script"))e();else{var n=document.createElement("script");n.src=Flourish.static_prefix+"/quill.min.js",n.id="Quill-script",document.body.appendChild(n),n.onload=e}}function ht(t,e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),i="";return i+=parseInt(n[1],16)+",",i+=parseInt(n[2],16)+",",i+=parseInt(n[3],16)+",",i+=Number(e/100)}function pt(t){if(xe.isPhoto="image"==xe.media_type,xe.editable="story_editor"===Flourish.environment||"sdk"===Flourish.environment,fe&&(clearInterval(de),we.querySelector("div[data-status='new']").style.opacity=1),be.length>1){var n=we.querySelector("[data-status='remove']");n.parentElement.removeChild(n),be.shift()}if(be.length>0){we.querySelector("div[data-status='new']").dataset.status="remove",be[0].stopMedia()}xe.text_background=ht(xe.text_background_color,xe.text_background_opacity);var i=new e;be.push(i);var o=i.render();we.appendChild(o),dt(),"story_editor"!==Flourish.environment&&"sdk"!==Flourish.environment||(ut(t),ct(o))}function dt(){var t=0,e=null,n=we.querySelector("div[data-status='new']"),i=function(o){e||(e=o);var r=o-e;t=r/500,n.style.opacity=t,r<500&&window.requestAnimationFrame(i)};window.requestAnimationFrame(i)}function ft(){"story_editor"!==Flourish.environment&&"sdk"!==Flourish.environment||lt(),pt()}var _t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gt=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t,e){!function(t,n){e&&"string"!=typeof e.nodeName?n(e):(t.Mustache={},n(t.Mustache))}(_t,function(t){function e(t){return"function"==typeof t}function n(t){return _(t)?"array":typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}function r(t,e){return g.call(t,e)}function a(t){return!r(m,t)}function s(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return v[t]})}function u(e,n){function o(t){if("string"==typeof t&&(t=t.split(w,2)),!_(t)||2!==t.length)throw new Error("Invalid tags: "+t);r=new RegExp(i(t[0])+"\\s*"),s=new RegExp("\\s*"+i(t[1])),u=new RegExp("\\s*"+i("}"+t[1]))}if(!e)return[];var r,s,u,p=[],d=[],f=[],g=!1,m=!1;o(n||t.tags);for(var v,A,S,E,C,z,T=new h(e);!T.eos();){if(v=T.pos,S=T.scanUntil(r))for(var q=0,B=S.length;q<B;++q)E=S.charAt(q),a(E)?f.push(d.length):m=!0,d.push(["text",E,v,v+1]),v+=1,"\n"===E&&function(){if(g&&!m)for(;f.length;)delete d[f.pop()];else f=[];g=!1,m=!1}();if(!T.scan(r))break;if(g=!0,A=T.scan(k)||"name",T.scan(y),"="===A?(S=T.scanUntil(b),T.scan(b),T.scanUntil(s)):"{"===A?(S=T.scanUntil(u),T.scan(x),T.scanUntil(s),A="&"):S=T.scanUntil(s),!T.scan(s))throw new Error("Unclosed tag at "+T.pos);if(C=[A,S,v,T.pos],d.push(C),"#"===A||"^"===A)p.push(C);else if("/"===A){if(!(z=p.pop()))throw new Error('Unopened section "'+S+'" at '+v);if(z[1]!==S)throw new Error('Unclosed section "'+z[1]+'" at '+v)}else"name"===A||"{"===A||"&"===A?m=!0:"="===A&&o(S)}if(z=p.pop())throw new Error('Unclosed section "'+z[1]+'" at '+T.pos);return c(l(d))}function l(t){for(var e,n,i=[],o=0,r=t.length;o<r;++o)(e=t[o])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}function c(t){for(var e,n,i=[],o=i,r=[],a=0,s=t.length;a<s;++a)switch(e=t[a],e[0]){case"#":case"^":o.push(e),r.push(e),o=e[4]=[];break;case"/":n=r.pop(),n[5]=e[2],o=r.length>0?r[r.length-1][4]:i;break;default:o.push(e)}return i}function h(t){this.string=t,this.tail=t,this.pos=0}function p(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function d(){this.cache={}}var f=Object.prototype.toString,_=Array.isArray||function(t){return"[object Array]"===f.call(t)},g=RegExp.prototype.test,m=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},y=/\s*/,w=/\s+/,b=/\s*=/,x=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},h.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},p.prototype.push=function(t){return new p(t,this)},p.prototype.lookup=function(t){var n,i=this.cache;if(i.hasOwnProperty(t))n=i[t];else{for(var r,a,s=this,u=!1;s;){if(t.indexOf(".")>0)for(n=s.view,r=t.split("."),a=0;null!=n&&a<r.length;)a===r.length-1&&(u=o(n,r[a])),n=n[r[a++]];else n=s.view[t],u=o(s.view,t);if(u)break;s=s.parent}i[t]=n}return e(n)&&(n=n.call(this.view)),n},d.prototype.clearCache=function(){this.cache={}},d.prototype.parse=function(t,e){var n=this.cache,i=n[t];return null==i&&(i=n[t]=u(t,e)),i},d.prototype.render=function(t,e,n){var i=this.parse(t),o=e instanceof p?e:new p(e);return this.renderTokens(i,o,n,t)},d.prototype.renderTokens=function(t,e,n,i){for(var o,r,a,s="",u=0,l=t.length;u<l;++u)a=void 0,o=t[u],r=o[0],"#"===r?a=this.renderSection(o,e,n,i):"^"===r?a=this.renderInverted(o,e,n,i):">"===r?a=this.renderPartial(o,e,n,i):"&"===r?a=this.unescapedValue(o,e):"name"===r?a=this.escapedValue(o,e):"text"===r&&(a=this.rawValue(o)),void 0!==a&&(s+=a);return s},d.prototype.renderSection=function(t,n,i,o){function r(t){return a.render(t,n,i)}var a=this,s="",u=n.lookup(t[1]);if(u){if(_(u))for(var l=0,c=u.length;l<c;++l)s+=this.renderTokens(t[4],n.push(u[l]),i,o);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(t[4],n.push(u),i,o);else if(e(u)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");u=u.call(n.view,o.slice(t[3],t[5]),r),null!=u&&(s+=u)}else s+=this.renderTokens(t[4],n,i,o);return s}},d.prototype.renderInverted=function(t,e,n,i){var o=e.lookup(t[1]);if(!o||_(o)&&0===o.length)return this.renderTokens(t[4],e,n,i)},d.prototype.renderPartial=function(t,n,i){if(i){var o=e(i)?i(t[1]):i[t[1]];return null!=o?this.renderTokens(this.parse(o),n,i,o):void 0}},d.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},d.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);if(null!=i)return t.escape(i)},d.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.3.0",t.tags=["{{","}}"];var A=new d;return t.clearCache=function(){return A.clearCache()},t.parse=function(t,e){return A.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+n(t)+'" was given as the first argument for mustache#render(template, view, partials)');return A.render(t,e,i)},t.to_html=function(n,i,o,r){var a=t.render(n,i,o);if(!e(r))return a;r(a)},t.escape=s,t.Scanner=h,t.Context=p,t.Writer=d,t})}),mt='<div class="slide-container theme-{{state.layout}} text-horizontal-{{state.text_position_h}} text-vertical-{{state.text_position_v}}" data-status="new" data-video={{status.hasVideo}} style="opacity:0; background-color: {{ state.background_color }}; padding: {{ state.slide_margin }}">\n\t<div id="slide-media">\n\t\t{{#state.show_media}}\n\t\t\t{{#state.isPhoto}}\n\t\t\t\t<div id="slide-media-photo" class="size-{{state.photo_size}}" style="background-image: url(\'{{state.photo_url}}\'); background-size: {{state.photo_size}}; background-position: {{state.photo_position_h}} {{state.photo_position_v}};"></div>\n\t\t\t{{/state.isPhoto}}\n\t\t\t{{^state.isPhoto}}\n\t\t\t\t<div class="slide-media-video size-{{state.video_size}}">\n\t\t\t\t\t<video src="{{state.video_url}}" loop{{#state.video_autoplay}} muted autoplay="true" {{/state.video_autoplay}}{{#state.video_controls}} controls {{/state.video_controls}}></video>\n\t\t\t\t</div>\n\t\t\t{{/state.isPhoto}}\n\t\t\t{{#state.show_logo_in_media}}\n\t\t\t\t<img id="slide-media-logo" src="{{state.logo_url}}">\n\t\t\t{{/state.show_logo_in_media}}\n\t\t{{/state.show_media}}\n\t</div>\n\t<div id="slide-content" style="color: {{state.text_color}}; text-align: {{state.text_align}};" class="align-v-{{state.text_position_v}} align-h-{{state.text_position_h}}">\n\t\t<div id="slide-content-background" class="size-{{state.text_background_size}}" style="background-color:rgba({{state.text_background}});"></div>\n\t\t<div id="slide-content-foreground">\n\t\t\t<h1 data-content="title" class="{{# state.editable}}no-edit editable{{/ state.editable}}{{^ state.editable}}{{/ state.editable}}{{^state.show_title}} invisible{{/state.show_title}}"><span>{{{state.title}}}</span></h1>\n\t\t\t<h2 data-content="subtitle" class="{{# state.editable}}no-edit editable{{/ state.editable}}{{^ state.editable}}{{/ state.editable}}{{^state.show_subtitle}} invisible{{/state.show_subtitle}}"><span>{{{state.subtitle}}}</span></h2>\n\t\t\t<div id="body-text" data-content="text" class="{{# state.editable}}no-edit editable{{/ state.editable}}{{^ state.editable}}{{/ state.editable}}{{^state.show_text}} invisible{{/state.show_text}}">{{{state.text}}}</div>\n\t\t</div>\n\t</div>\n</div>',vt="http://www.w3.org/1999/xhtml",yt={svg:"http://www.w3.org/2000/svg",xhtml:vt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),yt.hasOwnProperty(e)?{space:yt[e],local:t}:t},bt=function(t){var e=wt(t);return(e.local?i:n)(e)},xt=function(t){return null==t?o:function(){return this.querySelector(t)}},kt=function(t){"function"!=typeof t&&(t=xt(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a,s=e[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(r=s[c])&&(a=t.call(r,r.__data__,c,s))&&("__data__"in r&&(a.__data__=r.__data__),l[c]=a);return new K(i,this._parents)},At=function(t){return null==t?r:function(){return this.querySelectorAll(t)}},St=function(t){"function"!=typeof t&&(t=At(t));for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var a,s=e[r],u=s.length,l=0;l<u;++l)(a=s[l])&&(i.push(t.call(a,a.__data__,l,s)),o.push(a));return new K(i,o)},Et=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Ct=document.documentElement;if(!Ct.matches){var zt=Ct.webkitMatchesSelector||Ct.msMatchesSelector||Ct.mozMatchesSelector||Ct.oMatchesSelector;Et=function(t){return function(){return zt.call(this,t)}}}}var Tt=Et,qt=function(t){"function"!=typeof t&&(t=Tt(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a=e[o],s=a.length,u=i[o]=[],l=0;l<s;++l)(r=a[l])&&t.call(r,r.__data__,l,a)&&u.push(r);return new K(i,this._parents)},Bt=function(t){return new Array(t.length)},Nt=function(){return new K(this._enter||this._groups.map(Bt),this._parents)};a.prototype={constructor:a,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Mt=function(t){return function(){return t}},Ft="$",Pt=function(t,e){if(!t)return _=new Array(this.size()),h=-1,this.each(function(t){_[++h]=t}),_;var n=e?u:s,i=this._parents,o=this._groups;"function"!=typeof t&&(t=Mt(t));for(var r=o.length,a=new Array(r),l=new Array(r),c=new Array(r),h=0;h<r;++h){var p=i[h],d=o[h],f=d.length,_=t.call(p,p&&p.__data__,h,i),g=_.length,m=l[h]=new Array(g),v=a[h]=new Array(g);n(p,d,m,v,c[h]=new Array(f),_,e);for(var y,w,b=0,x=0;b<g;++b)if(y=m[b]){for(b>=x&&(x=b+1);!(w=v[x])&&++x<g;);y._next=w||null}}return a=new K(a,i),a._enter=l,a._exit=c,a},Lt=function(){return new K(this._exit||this._groups.map(Bt),this._parents)},Rt=function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),a=new Array(i),s=0;s<r;++s)for(var u,l=e[s],c=n[s],h=l.length,p=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(p[d]=u);for(;s<i;++s)a[s]=e[s];return new K(a,this._parents)},Ut=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],r=o.length-1,a=o[r];--r>=0;)(i=o[r])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},It=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=l);for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var a,s=n[r],u=s.length,c=o[r]=new Array(u),h=0;h<u;++h)(a=s[h])&&(c[h]=a);c.sort(e)}return new K(o,this._parents).order()},Vt=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Ot=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},jt=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var a=i[o];if(a)return a}return null},Dt=function(){var t=0;return this.each(function(){++t}),t},Ht=function(){return!this.node()},Qt=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,r=e[n],a=0,s=r.length;a<s;++a)(o=r[a])&&t.call(o,o.__data__,a,r);return this},Wt=function(t,e){var n=wt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?h:c:"function"==typeof e?n.local?_:f:n.local?d:p)(n,e))},$t=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Xt=function(t,e,n){return arguments.length>1?this.each((null==e?g:"function"==typeof e?v:m)(t,e,null==n?"":n)):y(this.node(),t)},Gt=function(t,e){return arguments.length>1?this.each((null==e?w:"function"==typeof e?x:b)(t,e)):this.node()[t]};S.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Jt=function(t,e){var n=k(t+"");if(arguments.length<2){for(var i=A(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?q:e?z:T)(n,e))},Kt=function(t){return arguments.length?this.each(null==t?B:("function"==typeof t?M:N)(t)):this.node().textContent},Yt=function(t){return arguments.length?this.each(null==t?F:("function"==typeof t?L:P)(t)):this.node().innerHTML},Zt=function(){return this.each(R)},te=function(){return this.each(U)},ee=function(t){var e="function"==typeof t?t:bt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},ne=function(t,e){var n="function"==typeof t?t:bt(t),i=null==e?I:"function"==typeof e?e:xt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},ie=function(){return this.each(V)},oe=function(t){return this.select(t?j:O)},re=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},ae={},se=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(ae={mouseenter:"mouseover",mouseleave:"mouseout"})}var ue=function(t,e,n){var i,o,r=Q(t+""),a=r.length;{if(!(arguments.length<2)){for(s=e?$:W,null==n&&(n=!1),i=0;i<a;++i)this.each(s(r[i],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(i=0,u=s[l];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}},le=function(t,e){return this.each(("function"==typeof e?J:G)(t,e))},ce=[null];K.prototype=Y.prototype={constructor:K,select:kt,selectAll:St,filter:qt,data:Pt,enter:Nt,exit:Lt,merge:Rt,order:Ut,sort:It,call:Vt,nodes:Ot,node:jt,size:Dt,empty:Ht,each:Qt,attr:Wt,style:Xt,property:Gt,classed:Jt,text:Kt,html:Yt,raise:Zt,lower:te,append:ee,insert:ne,remove:ie,clone:oe,datum:re,on:ue,dispatch:le};var he,pe,de,fe,_e=function(t){return"string"==typeof t?new K([[document.querySelector(t)]],[document.documentElement]):new K([[t]],ce)},ge=function(t){return"string"==typeof t?new K([document.querySelectorAll(t)],[document.documentElement]):new K([null==t?[]:t],ce)},me="⬆︎",ve={show_title:{type:"checkbox",name:"Show title"},show_subtitle:{type:"checkbox",name:"Show subtitle"},show_text:{type:"checkbox",name:"Show text"},show_media:{type:"checkbox",name:"Show media"},background_color:{type:"color",name:"Background color",show_if:["layout",["text-top","text-bottom","text-left","text-right"]]},slide_margin:{type:"string",name:"Slide margin"},layout:{type:"button_group",name:"Layout",options:[{id:"text-top",name:"icon::icon_text-top.png"},{id:"text-bottom",name:"icon::icon_text-bottom.png"},{id:"text-left",name:"icon::icon_text-left.png"},{id:"text-right",name:"icon::icon_text-right.png"},{id:"text-overlay",name:"icon::icon_text-overlay.png"}]},media_type:{type:"button_group",name:"Media type",options:[{id:"video",name:"Video"},{id:"image",name:"Image"}]},video_url:{type:"url",name:"Video URL",show_if:["media_type","video"]},photo_url:{type:"url",name:"Photo URL",show_if:["media_type","image"]},photo_size:{type:"dropdown",name:"Image size",show_if:["media_type","image"],options:[{id:"auto",name:"Original"},{id:"cover",name:"Fill"},{id:"contain",name:"Fit"},{id:"100% 100%",name:"Stretch"}]},video_autoplay:{type:"button_group",name:"Autoplay video",show_if:["media_type","video"],options:[{id:!0,name:"autoplay (muted)"},{id:!1,name:"no autoplay"}]},video_controls:{type:"button_group",name:"Video controls",show_if:["media_type","video"],options:[{id:!0,name:"On"},{id:!1,name:"Off"}]},video_size:{type:"dropdown",name:"Video size",show_if:["media_type","video"],options:[{id:"cover",name:"Fill"},{id:"width",name:"Fit width"},{id:"height",name:"Fit height"}]},text_background_color:{type:"color",name:"Background color",show_if:["layout","text-overlay"]},text_background_opacity:{type:"number",name:"Background opacity",show_if:["layout","text-overlay"]},text_background_size:{type:"dropdown",name:"Background size",show_if:["layout","text-overlay"],options:[{id:"full",name:"Whole slide"},{id:"text",name:"Text"}]},text_color:{type:"color",name:"Text color"},text_align:{type:"button_group",name:"Text align",options:[{id:"left",name:"icon::icon_align-left.svg"},{id:"center",name:"icon::icon_align-center.svg"},{id:"right",name:"icon::icon_align-right.svg"}]},photo_position:{type:"keypad",name:"Image position",show_if:["media_type","image"]},text_position:{type:"keypad",name:"Text position"}},ye={},we=document.querySelector("#wrapper"),be=[],xe={editable:"story_editor"===Flourish.environment||"sdk"===Flourish.environment,layout:"text-top",slide_margin:"0px",show_title:!0,show_subtitle:!0,show_text:!0,show_media:!0,title:"<strong>Title</strong>",subtitle:"Subtitle",text:"Text",media:!0,show_logo_in_media:!1,logo_url:"",background_type:"color",background_color:"#ffffff",text_background_color:"#ffffff",text_background_opacity:80,text_background_size:"full",text_color:"#333333",text_align:"left",text_position:"center-center",text_position_h:"center",text_position_v:"center",media_isPhoto:!0,media_type:"image",photo_url:"https://storage.googleapis.com/coverr-public/poster/Mt_Baker.jpg",photo_size:"cover",photo_position:"center-center",photo_position_h:"center",photo_position_v:"center",video_url:"https://public.flourish.studio/uploads/9e8af696-efce-44c6-9590-cdc6cfb99003.mp4",video_size:"cover",video_autoplay:!0,video_controls:!1};t.data=ye,t.state=xe,t.update=pt,t.draw=ft}(this.template=this.template||{});
//# sourceMappingURL=template.js.map
</script><script>
var path = document.location.href.match(/\/visualisation\/(\d+)/);
if (path) {
	path = path[0];
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga("create", "UA-44635456-19", "auto", { storage: "none" });
	ga("set", "transport", "beacon");
	ga("set", "dimension1", path.substr(1));
	ga("set", "dimension2", new Date().toISOString());
	ga("send", "pageview", path);
}</script><script src="https://public.flourish.studio/resources/v3/embedded.js"></script><script>
window.addEventListener("message", function(event) {
	var a = document.createElement("a");
	a.href = event.origin;
	var origin_okay = (a.hostname == window.location.hostname)
		|| window.location.hostname === "localhost"
		|| (a.hostname.match(/\.flourish\.local$/) && window.location.hostname.match(/\.flourish\.local$/))
		|| (a.hostname.match(/\.flourish\.rocks$/) && window.location.hostname.match(/\.flourish\.rocks$/))
		|| (a.hostname.match(/\.flourish\.studio$/) && window.location.hostname.match(/\.flourish\.studio$/));

	if (!origin_okay) return;
	var message = event.data;
	var port = event.ports[0];
	if (!port || typeof message !== "object" || message.sender !== "Flourish") return;
	var result = null;
	function assign(target, source) {
		for (var k in source) {
			target[k] = source[k];
		}
	}
	function deepAssign(target, source) {
		for (var k in source) {
			if (
				typeof target[k] === "object" && target[k] != null && !Array.isArray(target[k])
				&& typeof source[k] === "object" && source[k] != null && !Array.isArray(source[k])
			) {
				deepAssign(target[k], source[k]);
			}
			else target[k] = source[k];
		}
	}
	try {
		var i, a;
		switch(message.method) {
			case "getState":
			result = window.template.state;
			if (message.argument) for (a = message.argument.split("."), i = 0; i < a.length; i++) {
				result = result[a[i]];
			}
			break;

			case "setState":
			deepAssign(window.template.state, message.argument);
			break;

			case "hasData":
			result = !!window.template.data;
			break;

			case "setData":
			assign(window.template.data, message.argument);
			break;

			case "getData":
			result = window.template.data;
			break;

			case "draw":
			window.template.draw();
			break;

			case "update":
			window.template.update();
			break;

			case "snapshot":
			result = window.snapshot(message.argument, port);
			break;

			case "setFixedHeight":
			if (window.Flourish) {
				window.Flourish.fixed_height = message.argument != null;
				window.Flourish.__container_height = message.argument;
				if (window.Flourish.checkHeight) window.Flourish.checkHeight();
			}
			break;

			case "sync":
			var spec = message.argument;
			if (spec.data) {
				assign(window.template.data, spec.data);
			}
			if (spec.state) {
				deepAssign(window.template.state, spec.state);
			}
			// only allow draw or update, not both
			if (spec.draw) {
				window.template.draw();
			}
			else if (spec.update) {
				window.template.update();
			}
			result = "success";
			break;
		}

		port.postMessage({result: result});
	}
	catch (e) {
		port.postMessage({error: e.message});
		throw e;
	}
}, false);
</script></body></html>