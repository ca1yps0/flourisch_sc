<!DOCTYPE html><html><head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700">
		<link rel="stylesheet" href="static/choices/styles/css/choices.min.css">
		<link rel="stylesheet" type="text/css" href="static/style.css">
	<title>Flourish template: Line, bar and pie charts</title></head>
	<body>

<script>window.Flourish = {"static_prefix":"static","environment":"live"};</script><script>var template=function(t){"use strict";var h={},D={title:"",subtitle:"",title_padding:10,title_color:"#000000",layout_mode:"auto",layout:"single",facet_aspect:66,facet_by_series:null,facet_min_w:100,facet_fixed_cols:!1,facet_cols:2,facet_gutter_w:15,facet_gutter_h:20,facet_header_font_size:16,chart_type:"line",mode:null,stack:null,series_filter_enabled:!1,series_filter:[],series_filter_text:"Enter series to show",series_filter_none_text:"No more series to show",series_filter_hidden:!1,max_series:50,show_popups:!0,popup_font_size:12,highlighted:null,current_series:0,palette:"flourish_default_1",bg_color_style:"none",bg_color:"#f7f7f7",legend_show:!0,labels:!1,labels_styles_auto:!0,labels_responsive:!0,labels_font_size_min:9,labels_font_size_max:16,labels_font_size:12,labels_bg_mode:"auto",labels_bg_size:15,labels_color_mode:"auto",labels_fixed_color:"#333333",labels_show_value:"auto",labels_show_label:"auto",line_width:2,line_opacity:1,line_curve:"curveMonotoneX",line_end_labels:!1,line_end_labels_width:50,area_opacity:.7,donut_inner_radius:50,donut_pad_angle:.5,donut_corner_radius:0,donut_auto_scale:!0,column_opacity:.9,column_padding_inner:10,column_padding_outer:10,dot_radius:3,dot_radius_last:null,dot_opacity:1,data_trans_duration:800,data_trans_delay:0,data_trans_stagger:0,animate_on_load:!0,margin_top:10,margin_right:10,margin_bottom:10,margin_left:10,x_axis_tick_style:"ticks",x_axis_last_row_only:!0,x_axis_matching:!0,x_axis_tick_h:35,x_axis_label:"",x_axis_label_font_size:12,x_axis_min:null,x_axis_max:null,x_axis_num_ticks:null,x_axis_ticks_inline:!1,x_axis_tick_angle:"45",x_axis_tick_font_size:10,x_axis_color:"#aaaaaa",x_axis_tick_color:"#eeeeee",x_axis_tick_dashed:0,y_axis_tick_style:"gridlines",y_axis_first_col_only:!0,y_axis_matching:!0,y_axis_tick_w:35,y_axis_log:!1,y_axis_label:"",y_axis_label_font_size:12,y_axis_min:null,y_axis_max:null,y_axis_num_ticks:null,y_axis_tick_font_size:10,y_axis_ticks_inline:!1,y_axis_color:"#aaaaaa",y_axis_tick_color:"#eeeeee",y_axis_tick_dashed:0,anno_x_enabled:!1,anno_x_lines:"",anno_x_line_color:"#333333",anno_x_line_width:2,anno_x_line_dash:"2",anno_x_areas:"",anno_x_fill_color:"#555555",anno_x_fill_opacity:.1,anno_x_label_align:"right",anno_x_label_color:"#888888",anno_x_stack:"below",anno_y_enabled:!1,anno_y_lines:"",anno_y_line_color:"#333333",anno_y_line_width:2,anno_y_line_dash:"2",anno_y_areas:"",anno_y_fill_color:"#555555",anno_y_fill_opacity:.1,anno_y_label_align:"right",anno_y_label_color:"#888888",anno_y_stack:"below",decimal_separator_in_data:".",number_prefix:"",decimal_separator:".",multiplier:null,decimals:2,number_suffix:""},a="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function r(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t}function o(t){var e=r(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===a&&t.documentElement.namespaceURI===a?t.createElement(n):t.createElementNS(e,n)}})(e)}function e(){}function d(t){return null==t?e:function(){return this.querySelector(t)}}function n(){return[]}function g(t){return null==t?n:function(){return this.querySelectorAll(t)}}var s=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var c=document.documentElement;if(!c.matches){var l=c.webkitMatchesSelector||c.msMatchesSelector||c.mozMatchesSelector||c.oMatchesSelector;s=function(t){return function(){return l.call(this,t)}}}}var f=s;function u(t){return new Array(t.length)}function p(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var _="$";function w(t,e,n,a,i,r){for(var o,s=0,c=e.length,l=r.length;s<l;++s)(o=e[s])?(o.__data__=r[s],a[s]=o):n[s]=new p(t,r[s]);for(;s<c;++s)(o=e[s])&&(i[s]=o)}function M(t,e,n,a,i,r,o){var s,c,l,f={},u=e.length,h=r.length,d=new Array(u);for(s=0;s<u;++s)(c=e[s])&&(d[s]=l=_+o.call(c,c.__data__,s,e),l in f?i[s]=c:f[l]=c);for(s=0;s<h;++s)(c=f[l=_+o.call(t,r[s],s,r)])?((a[s]=c).__data__=r[s],f[l]=null):n[s]=new p(t,r[s]);for(s=0;s<u;++s)(c=e[s])&&f[d[s]]===c&&(i[s]=c)}function b(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function v(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function x(t,e){return t.style.getPropertyValue(e)||v(t).getComputedStyle(t,null).getPropertyValue(e)}function m(t){return t.trim().split(/^|\s+/)}function y(t){return t.classList||new k(t)}function k(t){this._node=t,this._names=m(t.getAttribute("class")||"")}function A(t,e){for(var n=y(t),a=-1,i=e.length;++a<i;)n.add(e[a])}function E(t,e){for(var n=y(t),a=-1,i=e.length;++a<i;)n.remove(e[a])}function C(){this.textContent=""}function S(){this.innerHTML=""}function T(){this.nextSibling&&this.parentNode.appendChild(this)}function L(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function I(){return null}function N(){var t=this.parentNode;t&&t.removeChild(this)}function O(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function P(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}k.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var F={},R=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(F={mouseenter:"mouseover",mouseleave:"mouseout"}));function B(n,t,e){return n=z(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function z(n,a,i){return function(t){var e=R;R=t;try{n.call(this,this.__data__,a,i)}finally{R=e}}}function q(r){return function(){var t=this.__on;if(t){for(var e,n=0,a=-1,i=t.length;n<i;++n)e=t[n],r.type&&e.type!==r.type||e.name!==r.name?t[++a]=e:this.removeEventListener(e.type,e.listener,e.capture);++a?t.length=a:delete this.__on}}}function U(c,l,f){var u=F.hasOwnProperty(c.type)?B:z;return function(t,e,n){var a,i=this.__on,r=u(l,e,n);if(i)for(var o=0,s=i.length;o<s;++o)if((a=i[o]).type===c.type&&a.name===c.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=r,a.capture=f),void(a.value=l);this.addEventListener(c.type,r,f),a={type:c.type,name:c.name,value:l,listener:r,capture:f},i?i.push(a):this.__on=[a]}}function j(t,e,n){var a=v(t),i=a.CustomEvent;"function"==typeof i?i=new i(e,n):(i=a.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var H=[null];function V(t,e){this._groups=t,this._parents=e}function Y(){return new V([[document.documentElement]],H)}function G(t){return"string"==typeof t?new V([[document.querySelector(t)]],[document.documentElement]):new V([[t]],H)}V.prototype=Y.prototype={constructor:V,select:function(t){"function"!=typeof t&&(t=d(t));for(var e=this._groups,n=e.length,a=new Array(n),i=0;i<n;++i)for(var r,o,s=e[i],c=s.length,l=a[i]=new Array(c),f=0;f<c;++f)(r=s[f])&&(o=t.call(r,r.__data__,f,s))&&("__data__"in r&&(o.__data__=r.__data__),l[f]=o);return new V(a,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=g(t));for(var e=this._groups,n=e.length,a=[],i=[],r=0;r<n;++r)for(var o,s=e[r],c=s.length,l=0;l<c;++l)(o=s[l])&&(a.push(t.call(o,o.__data__,l,s)),i.push(o));return new V(a,i)},filter:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,a=new Array(n),i=0;i<n;++i)for(var r,o=e[i],s=o.length,c=a[i]=[],l=0;l<s;++l)(r=o[l])&&t.call(r,r.__data__,l,o)&&c.push(r);return new V(a,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),f=-1,this.each(function(t){p[++f]=t}),p;var n,a=e?M:w,i=this._parents,r=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=r.length,s=new Array(o),c=new Array(o),l=new Array(o),f=0;f<o;++f){var u=i[f],h=r[f],d=h.length,p=t.call(u,u&&u.__data__,f,i),_=p.length,b=c[f]=new Array(_),g=s[f]=new Array(_);a(u,h,b,g,l[f]=new Array(d),p,e);for(var v,m,y=0,x=0;y<_;++y)if(v=b[y]){for(x<=y&&(x=y+1);!(m=g[x])&&++x<_;);v._next=m||null}}return(s=new V(s,i))._enter=c,s._exit=l,s},enter:function(){return new V(this._enter||this._groups.map(u),this._parents)},exit:function(){return new V(this._exit||this._groups.map(u),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,a=e.length,i=n.length,r=Math.min(a,i),o=new Array(a),s=0;s<r;++s)for(var c,l=e[s],f=n[s],u=l.length,h=o[s]=new Array(u),d=0;d<u;++d)(c=l[d]||f[d])&&(h[d]=c);for(;s<a;++s)o[s]=e[s];return new V(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var a,i=t[e],r=i.length-1,o=i[r];0<=--r;)(a=i[r])&&(o&&o!==a.nextSibling&&o.parentNode.insertBefore(a,o),o=a);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=b);for(var e=this._groups,a=e.length,i=new Array(a),r=0;r<a;++r){for(var o,s=e[r],c=s.length,l=i[r]=new Array(c),f=0;f<c;++f)(o=s[f])&&(l[f]=o);l.sort(t)}return new V(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var a=t[e],i=0,r=a.length;i<r;++i){var o=a[i];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,a=e.length;n<a;++n)for(var i,r=e[n],o=0,s=r.length;o<s;++o)(i=r[o])&&t.call(i,i.__data__,o,r);return this},attr:function(t,e){var n=r(t);if(arguments.length<2){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,a){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,a)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):x(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=m(t+"");if(arguments.length<2){for(var a=y(this.node()),i=-1,r=n.length;++i<r;)if(!a.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?A:E)(this,t)}}:e?function(t){return function(){A(this,t)}}:function(t){return function(){E(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?C:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?S:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(T)},lower:function(){return this.each(L)},append:function(t){var e="function"==typeof t?t:o(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:o(t),a=null==e?I:"function"==typeof e?e:d(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})},remove:function(){return this.each(N)},clone:function(t){return this.select(t?P:O)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var a,i,r=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),o=r.length;if(!(arguments.length<2)){for(s=e?U:q,null==n&&(n=!1),a=0;a<o;++a)this.each(s(r[a],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,f=s.length;l<f;++l)for(a=0,c=s[l];a<o;++a)if((i=r[a]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return j(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return j(this,t,e)}})(t,e))}};var W=0,X=25,Z=["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"];function $(){this.unique_id=W++,this._container=document.body,this._maxWidth="70%",this._point=null,this._html=null,this._directions=Z,this._fallbackFit="horizontal",this.handlers={click:[]}}function K(t,e){0<e.length&&"_"==e.charAt(0)&&(t[e.substr(1)]=function(t){return void 0===t?this[e]:(this[e]=t,this)})}for(var Q in new $("*"))K($.prototype,Q);function J(t,e,n){var a,i=document.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(a in e)i.setAttribute(a,e[a]);var r=i.style;if(n)for(a in n)r[a]=n[a];return i}$.prototype.point=function(t,e){if(void 0===t)return this._point;if(void 0!==e)this._point=[t,e];else if(t instanceof HTMLElement||t instanceof SVGElement){var n=t.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Popup: could not understand argument");return this},$.prototype.text=function(t){return this._html=t.replace(/[&<>]/g,function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[t]}),this},$.prototype.on=function(t,e){if(!(t in this.handlers))throw new Error("Popup.on: No such event: "+t);return this.handlers[t].push(e),this},$.prototype.fire=function(t,e){if(!(t in this.handlers))throw new Error("Popup.fire: No such event: "+t);for(var n=this.handlers[t],a=0;a<n.length;a++)n[a].call(this,e);return this},$.prototype._getElement=function(){var e=this,t="flourish-popup-"+this.unique_id,n=document.getElementById(t);if(!n){(n=document.createElement("div")).className="flourish-popup",n.id=t;var a=n.style;a.display="none",a.margin=a.padding=0,a.position="absolute",a.width="80px",a.height="40px",a.boxSizing="border-box",n.addEventListener("click",function(t){e.fire("click",t)},!1);var i=J("svg",{class:"flourish-popup-svg"},{position:"absolute",top:0,left:0,bottom:0,right:0}),r=J("filter",{id:"dropshadow-"+this.unique_id,height:"130%"});r.appendChild(J("feGaussianBlur",{in:"SourceAlpha",stdDeviation:5})),r.appendChild(J("feOffset",{dx:0,dy:2,result:"offsetblur"}));var o=J("feComponentTransfer");o.appendChild(J("feFuncA",{type:"linear",slope:.2})),r.appendChild(o);var s=J("feMerge");r.appendChild(s),s.appendChild(J("feMergeNode")),s.appendChild(J("feMergeNode",{in:"SourceGraphic"})),i.appendChild(r);var c=J("g",{filter:"url(#dropshadow-"+this.unique_id+")",fill:"white",stroke:"none"});c.appendChild(J("rect",{x:X,y:X,rx:5})),c.appendChild(J("path")),i.appendChild(c),n.appendChild(i);var l=document.createElement("div");l.className="flourish-popup-content",(a=l.style).position="absolute",a.top=a.left=X+"px",a.padding="10px",n.appendChild(l),document.body.appendChild(n)}return n};var tt={};function et(t,e,n,a,i,r,o){var s=n-t/2-10,c=n+t/2+10,l=t/2+Math.min(0,s-i.left)+Math.max(0,c-i.right);return{pos:[l,o],shape:l-10<5?[-l,-15*r,Math.max(10,5-l),-10*r]:t-5<l+10?[Math.min(-10,t-l-5),-10*r,Math.min(10,t-l),-15*r]:[-10,-10*r,10,-10*r]}}function nt(t,e,n,a,i,r,o){var s=a-e/2-10,c=a+e/2+10,l=e/2+Math.min(0,s-i.top)+Math.max(0,c-i.bottom);return{pos:[o,l],shape:l-10<5?[-15*r,-l,-10*r,Math.max(10,5-l)]:e-5<l+10?[-10*r,Math.min(-10,e-l-5),-15*r,Math.min(10,e-l)]:[-10*r,-10,-10*r,10]}}function at(){return new $}tt.bottom=function(t,e){return{shape:[-10,-10,10,-10],pos:[t/2,e+10]}},tt.top=function(t,e){return{shape:[-10,10,10,10],pos:[t/2,-10]}},tt.left=function(t,e){return{shape:[10,10,10,-10],pos:[-10,e/2]}},tt.right=function(t,e){return{shape:[-10,10,-10,-10],pos:[t+10,e/2]}},tt.topLeft=function(t,e){return{shape:[15,10,10,15],pos:[-10,-10]}},tt.bottomLeft=function(t,e){return{shape:[15,-10,10,-15],pos:[-10,e+10]}},tt.topRight=function(t,e){return{shape:[-15,10,-10,15],pos:[t+10,-10]}},tt.bottomRight=function(t,e){return{shape:[-15,-10,-10,-15],pos:[t+10,e+10]}},tt.bottomFlexible=function(t,e,n,a,i){return et(t,0,n,0,i,1,e+10)},tt.topFlexible=function(t,e,n,a,i){return et(t,0,n,0,i,-1,-10)},tt.rightFlexible=function(t,e,n,a,i){return nt(0,e,0,a,i,1,t+10)},tt.leftFlexible=function(t,e,n,a,i){return nt(0,e,0,a,i,-1,-10)},$.prototype.__maxContentWidth=function(t){return this._maxWidth.match(/^\d+(?:\.\d+)?%$/)?t.width*parseFloat(this._maxWidth)/100:this._maxWidth.match(/^\d+(?:\.\d+)?(?:px)?$/)?parseFloat(this._maxWidth):(null!=this._maxWidth&&console.error("Popup: Unknown value for maxWidth: "+this._maxWidth),t.width)},$.prototype.draw=function(){if(this._point){var t=document.documentElement.getBoundingClientRect(),e=this._point[0],n=this._point[1],a=this._container.getBoundingClientRect();e<a.left?e=a.left:e>a.right&&(e=a.right),n<a.top?n=a.top:n>a.bottom&&(n=a.bottom);var i=e-t.left,r=n-t.top,o=this._getElement(),s=o.style,c=o.querySelector(".flourish-popup-svg"),l=c.querySelector("g"),f=l.querySelector("rect"),u=l.querySelector("path"),h=o.querySelector(".flourish-popup-content");s.display="block",h.style.maxWidth=this.__maxContentWidth(a)+"px",h.innerHTML=this._html;for(var d,p,_=h.getBoundingClientRect();d=Math.ceil(_.width),p=Math.ceil(_.height),s.width=d+2*X+"px",s.height=p+2*X+"px",_=h.getBoundingClientRect(),d!=Math.ceil(_.width)||p!=Math.ceil(_.height););f.setAttribute("width",d),f.setAttribute("height",p),c.setAttribute("width",d+2*X),c.setAttribute("height",p+2*X);for(var b,g,v,m,y,x,w,M,k,A,E,C,S,T,L,I,N,O,P,F,D=X-10,R=null,B=null,z=null,q=1/0,U=1/0,j=0;j<this._directions.length;j++){var H=this._directions[j],V=(v=d,m=p,y=e,x=n,w=a,void 0,M=tt[H](v,m,y,x,w),k=y-X-M.pos[0],A=x-X-M.pos[1],{left:k,top:A,right:k+v+2*X,bottom:A+m+2*X}),Y=Math.max(0,Math.floor(a.left)-V.left-D)+Math.max(0,V.right-Math.ceil(a.right)-D),G=Math.max(0,Math.floor(a.top)-V.top-D)+Math.max(0,V.bottom-Math.ceil(a.bottom)-D);if(0==Y&&0==G){R=H;break}(Y<q||Y==q&&G<b)&&(q=Y,b=G,B=H),(G<U||G==U&&Y<g)&&(U=G,g=Y,z=H)}return R?H=R:"horizontal"==this._fallbackFit?H=B:"vertical"==this._fallbackFit?H=z:(console.warn("Popup: failed to point box of size ("+d+", "+p+") at ("+e+", "+n+") within ("+a.left+", "+a.top+", "+a.right+", "+a.bottom+")"),H=this._directions[0]),E=s,C=u,S=d,T=p,L=i,I=r,N=e,O=n,P=a,F=tt[H](S,T,N,O,P),E.left=L-X-F.pos[0]+"px",E.top=I-X-F.pos[1]+"px",C.setAttribute("d","M0,0L"+F.shape.join(",")+"Z"),C.setAttribute("transform","translate("+(F.pos[0]+X)+","+(F.pos[1]+X)+")"),this}console.error("Popup: cannot draw popup till point() has been specified")},$.prototype.hide=function(){return this._getElement().style.display="none",this};var it={line:{mode:"line",stack:!(at.version="1.1.1"),has_axes:!0},area:{mode:"line",stack:!1,has_axes:!0,area:!0},area_stacked:{mode:"line",stack:!0,has_axes:!0,area:!0},area_prop:{mode:"line",stack:!0,proportional:!0,has_axes:!0,area:!0},donut:{mode:"donut",stack:!1,has_axes:!1,legend_type:"row",single_series:!0},bar_grouped:{mode:"bar",stack:!1,has_axes:!0,values_on_x:!0},bar_stacked:{mode:"bar",stack:!0,has_axes:!0,values_on_x:!0},bar_stacked_prop:{mode:"bar",stack:!0,proportional:!0,has_axes:!0,values_on_x:!0},column_grouped:{mode:"column",stack:!1,has_axes:!0},column_stacked:{mode:"column",stack:!0,has_axes:!0},column_stacked_prop:{mode:"column",stack:!0,proportional:!0,has_axes:!0}},rt={},ot=D.mode;"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var st,ct,lt,ft,ut,ht,dt,pt=(function(t,e){t.exports=function(n){function a(t){if(i[t])return i[t].exports;var e=i[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,a),e.loaded=!0,e.exports}var i={};return a.m=n,a.c=i,a.p="/assets/scripts/dist/",a(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=function(){function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}}(),r=n(2),l=a(r),o=n(3),s=a(o),c=n(4),f=a(c),p=n(31),m=n(32);n(33);var u=function(){function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[data-choice]",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(0,m.isType)("String",t)){var n=document.querySelectorAll(t);if(1<n.length)for(var a=1;a<n.length;a++){var i=n[a];new c(i,e)}}var r={silent:!1,items:[],choices:[],renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItems:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,regexFilter:null,shouldSort:!0,shouldSortItems:!1,sortFilter:m.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",addItemText:function(t){return'Press Enter to add <b>"'+(0,m.stripHTML)(t)+'"</b>'},maxItemText:function(t){return"Only "+t+" values can be added."},itemComparer:function(t,e){return t===e},uniqueItemText:"Only unique values can be added.",classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",hiddenState:"is-hidden",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},fuseOptions:{include:"score"},callbackOnInit:null,callbackOnCreateTemplates:null};if(this.idNames={itemChoice:"item-choice"},this.config=(0,m.extend)(r,e),"auto"!==this.config.renderSelectedChoices&&"always"!==this.config.renderSelectedChoices&&(this.config.silent||console.warn("renderSelectedChoices: Possible values are 'auto' and 'always'. Falling back to 'auto'."),this.config.renderSelectedChoices="auto"),this.store=new f.default(this.render),this.initialised=!1,this.currentState={},this.prevState={},this.currentValue="",this.element=t,this.passedElement=(0,m.isType)("String",t)?document.querySelector(t):t,this.passedElement){this.isTextElement="text"===this.passedElement.type,this.isSelectOneElement="select-one"===this.passedElement.type,this.isSelectMultipleElement="select-multiple"===this.passedElement.type,this.isSelectElement=this.isSelectOneElement||this.isSelectMultipleElement,this.isValidElementType=this.isTextElement||this.isSelectElement,this.isIe11=!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/)),!(this.isScrollingOnIe=!1)===this.config.shouldSortItems&&this.isSelectOneElement&&(this.config.silent||console.warn("shouldSortElements: Type of passed element is 'select-one', falling back to false.")),this.highlightPosition=0,this.canSearch=this.config.searchEnabled,this.placeholder=!1,this.isSelectOneElement||(this.placeholder=!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.getAttribute("placeholder"))),this.presetChoices=this.config.choices,this.presetItems=this.config.items,this.passedElement.value&&(this.presetItems=this.presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.baseId=(0,m.generateId)(this.passedElement,"choices-"),this.render=this.render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this.wasTap=!0;var o="classList"in document.documentElement;o||this.config.silent||console.error("Choices: Your browser doesn't support Choices");var s=(0,m.isElement)(this.passedElement)&&this.isValidElementType;if(s){if("active"===this.passedElement.getAttribute("data-choice"))return;this.init()}else this.config.silent||console.error("Incompatible input passed")}else this.config.silent||console.error("Passed element not found")}return i(c,[{key:"init",value:function(){if(!0!==this.initialised){var t=this.config.callbackOnInit;this.initialised=!0,this._createTemplates(),this._createInput(),this.store.subscribe(this.render),this.render(),this._addEventListeners(),t&&(0,m.isType)("Function",t)&&t.call(this)}}},{key:"destroy",value:function(){if(!1!==this.initialised){this._removeEventListeners(),this.passedElement.classList.remove(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.removeAttribute("tabindex");var t=this.passedElement.getAttribute("data-choice-orig-style");Boolean(t)?(this.passedElement.removeAttribute("data-choice-orig-style"),this.passedElement.setAttribute("style",t)):this.passedElement.removeAttribute("style"),this.passedElement.removeAttribute("aria-hidden"),this.passedElement.removeAttribute("data-choice"),this.passedElement.value=this.passedElement.value,this.containerOuter.parentNode.insertBefore(this.passedElement,this.containerOuter),this.containerOuter.parentNode.removeChild(this.containerOuter),this.clearStore(),this.config.templates=null,this.initialised=!1}}},{key:"renderGroups",value:function(t,a,e){var i=this,r=e||document.createDocumentFragment(),n=this.config.sortFilter;return this.config.shouldSort&&t.sort(n),t.forEach(function(e){var t=a.filter(function(t){return i.isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&!t.selected});if(1<=t.length){var n=i._getTemplate("choiceGroup",e);r.appendChild(n),i.renderChoices(t,r,!0)}}),r}},{key:"renderChoices",value:function(t,e){var a=this,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=e||document.createDocumentFragment(),r=this.config,o=r.renderSelectedChoices,s=r.searchResultLimit,c=r.renderChoiceLimit,l=this.isSearching?m.sortByScore:this.config.sortFilter,f=function(t){var e="auto"!==o||a.isSelectOneElement||!t.selected;if(e){var n=a._getTemplate("choice",t);i.appendChild(n)}},u=t;"auto"!==o||this.isSelectOneElement||(u=t.filter(function(t){return!t.selected}));var h=u.reduce(function(t,e){return e.placeholder?t.placeholderChoices.push(e):t.normalChoices.push(e),t},{placeholderChoices:[],normalChoices:[]}),d=h.placeholderChoices,p=h.normalChoices;(this.config.shouldSort||this.isSearching)&&p.sort(l);var _=u.length,b=[].concat(v(d),v(p));this.isSearching?_=s:0<c&&!n&&(_=c);for(var g=0;g<_;g++)b[g]&&f(b[g]);return i}},{key:"renderItems",value:function(t){var n=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=e||document.createDocumentFragment();if(this.config.shouldSortItems&&!this.isSelectOneElement&&t.sort(this.config.sortFilter),this.isTextElement){var i=this.store.getItemsReducedToValues(t),r=i.join(this.config.delimiter);this.passedElement.setAttribute("value",r),this.passedElement.value=r}else{var o=document.createDocumentFragment();t.forEach(function(t){var e=n._getTemplate("option",t);o.appendChild(e)}),this.passedElement.innerHTML="",this.passedElement.appendChild(o)}return t.forEach(function(t){var e=n._getTemplate("item",t);a.appendChild(e)}),a}},{key:"render",value:function(){if(!this.store.isLoading()&&(this.currentState=this.store.getState(),this.currentState!==this.prevState)){if((this.currentState.choices!==this.prevState.choices||this.currentState.groups!==this.prevState.groups||this.currentState.items!==this.prevState.items)&&this.isSelectElement){var t=this.store.getGroupsFilteredByActive(),e=this.store.getChoicesFilteredByActive(),n=document.createDocumentFragment();this.choiceList.innerHTML="",this.config.resetScrollPosition&&(this.choiceList.scrollTop=0),1<=t.length&&!0!==this.isSearching?n=this.renderGroups(t,e,n):1<=e.length&&(n=this.renderChoices(e,n));var a=this.store.getItemsFilteredByActive(),i=this._canAddItem(a,this.input.value);if(n.childNodes&&0<n.childNodes.length)i.response?(this.choiceList.appendChild(n),this._highlightChoice()):this.choiceList.appendChild(this._getTemplate("notice",i.notice));else{var r=void 0,o=void 0;this.isSearching?(o=(0,m.isType)("Function",this.config.noResultsText)?this.config.noResultsText():this.config.noResultsText,r=this._getTemplate("notice",o,"no-results")):(o=(0,m.isType)("Function",this.config.noChoicesText)?this.config.noChoicesText():this.config.noChoicesText,r=this._getTemplate("notice",o,"no-choices")),this.choiceList.appendChild(r)}}if(this.currentState.items!==this.prevState.items){var s=this.store.getItemsFilteredByActive();if(this.itemList.innerHTML="",s&&s){var c=this.renderItems(s);c.childNodes&&this.itemList.appendChild(c)}}this.prevState=this.currentState}}},{key:"highlightItem",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!t)return this;var n=t.id,a=t.groupId,i=0<=a?this.store.getGroupById(a):null;return this.store.dispatch((0,p.highlightItem)(n,!0)),e&&(i&&i.value?(0,m.triggerEvent)(this.passedElement,"highlightItem",{id:n,value:t.value,label:t.label,groupValue:i.value}):(0,m.triggerEvent)(this.passedElement,"highlightItem",{id:n,value:t.value,label:t.label})),this}},{key:"unhighlightItem",value:function(t){if(!t)return this;var e=t.id,n=t.groupId,a=0<=n?this.store.getGroupById(n):null;return this.store.dispatch((0,p.highlightItem)(e,!1)),a&&a.value?(0,m.triggerEvent)(this.passedElement,"unhighlightItem",{id:e,value:t.value,label:t.label,groupValue:a.value}):(0,m.triggerEvent)(this.passedElement,"unhighlightItem",{id:e,value:t.value,label:t.label}),this}},{key:"highlightAll",value:function(){var e=this,t=this.store.getItems();return t.forEach(function(t){e.highlightItem(t)}),this}},{key:"unhighlightAll",value:function(){var e=this,t=this.store.getItems();return t.forEach(function(t){e.unhighlightItem(t)}),this}},{key:"removeItemsByValue",value:function(e){var n=this;if(!e||!(0,m.isType)("String",e))return this;var t=this.store.getItemsFilteredByActive();return t.forEach(function(t){t.value===e&&n._removeItem(t)}),this}},{key:"removeActiveItems",value:function(e){var n=this,t=this.store.getItemsFilteredByActive();return t.forEach(function(t){t.active&&e!==t.id&&n._removeItem(t)}),this}},{key:"removeHighlightedItems",value:function(){var e=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.store.getItemsFilteredByActive();return t.forEach(function(t){t.highlighted&&t.active&&(e._removeItem(t),n&&e._triggerChange(t.value))}),this}},{key:"showDropdown",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=document.body,n=document.documentElement,a=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);this.containerOuter.classList.add(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","true"),this.dropdown.classList.add(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","true");var i=this.dropdown.getBoundingClientRect(),r=Math.ceil(i.top+window.scrollY+this.dropdown.offsetHeight),o=!1;return"auto"===this.config.position?o=a<=r:"top"===this.config.position&&(o=!0),o&&this.containerOuter.classList.add(this.config.classNames.flippedState),t&&this.canSearch&&document.activeElement!==this.input&&this.input.focus(),(0,m.triggerEvent)(this.passedElement,"showDropdown",{}),this}},{key:"hideDropdown",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.containerOuter.classList.contains(this.config.classNames.flippedState);return this.containerOuter.classList.remove(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","false"),this.dropdown.classList.remove(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","false"),e&&this.containerOuter.classList.remove(this.config.classNames.flippedState),t&&this.canSearch&&document.activeElement===this.input&&this.input.blur(),(0,m.triggerEvent)(this.passedElement,"hideDropdown",{}),this}},{key:"toggleDropdown",value:function(){var t=this.dropdown.classList.contains(this.config.classNames.activeState);return t?this.hideDropdown():this.showDropdown(!0),this}},{key:"getValue",value:function(){var e=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.store.getItemsFilteredByActive(),a=[];return t.forEach(function(t){e.isTextElement?a.push(n?t.value:t):t.active&&a.push(n?t.value:t)}),this.isSelectOneElement?a[0]:a}},{key:"setValue",value:function(t){var n=this;if(!0===this.initialised){var e=[].concat(v(t)),a=function(t){var e=(0,m.getType)(t);if("Object"===e){if(!t.value)return;n.isTextElement?n._addItem(t.value,t.label,t.id,void 0,t.customProperties,t.placeholder):n._addChoice(t.value,t.label,!0,!1,-1,t.customProperties,t.placeholder)}else"String"===e&&(n.isTextElement?n._addItem(t):n._addChoice(t,t,!0,!1,-1,null))};1<e.length?e.forEach(function(t){a(t)}):a(e[0])}return this}},{key:"setValueByChoice",value:function(t){var n=this;if(!this.isTextElement){var a=this.store.getChoices(),e=(0,m.isType)("Array",t)?t:[t];e.forEach(function(e){var t=a.find(function(t){return n.config.itemComparer(t.value,e)});t?t.selected?n.config.silent||console.warn("Attempting to select choice already selected"):n._addItem(t.value,t.label,t.id,t.groupId,t.customProperties,t.placeholder,t.keyCode):n.config.silent||console.warn("Attempting to select choice that does not exist")})}return this}},{key:"setChoices",value:function(t,e,n){var a=this,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!0===this.initialised&&this.isSelectElement){if(!(0,m.isType)("Array",t)||!e)return this;i&&this._clearChoices(),this._setLoading(!0),t&&t.length&&(this.containerOuter.classList.remove(this.config.classNames.loadingState),t.forEach(function(t){t.choices?a._addGroup(t,t.id||null,e,n):a._addChoice(t[e],t[n],t.selected,t.disabled,void 0,t.customProperties,t.placeholder)})),this._setLoading(!1)}return this}},{key:"clearStore",value:function(){return this.store.dispatch((0,p.clearAll)()),this}},{key:"clearInput",value:function(){return this.input.value&&(this.input.value=""),this.isSelectOneElement||this._setInputWidth(),!this.isTextElement&&this.config.searchEnabled&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0))),this}},{key:"enable",value:function(){if(this.initialised){this.passedElement.disabled=!1;var t=this.containerOuter.classList.contains(this.config.classNames.disabledState);t&&(this._addEventListeners(),this.passedElement.removeAttribute("disabled"),this.input.removeAttribute("disabled"),this.containerOuter.classList.remove(this.config.classNames.disabledState),this.containerOuter.removeAttribute("aria-disabled"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","0"))}return this}},{key:"disable",value:function(){if(this.initialised){this.passedElement.disabled=!0;var t=!this.containerOuter.classList.contains(this.config.classNames.disabledState);t&&(this._removeEventListeners(),this.passedElement.setAttribute("disabled",""),this.input.setAttribute("disabled",""),this.containerOuter.classList.add(this.config.classNames.disabledState),this.containerOuter.setAttribute("aria-disabled","true"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","-1"))}return this}},{key:"ajax",value:function(t){var e=this;return!0===this.initialised&&this.isSelectElement&&(requestAnimationFrame(function(){e._handleLoadingState(!0)}),t(this._ajaxCallback())),this}},{key:"_triggerChange",value:function(t){t&&(0,m.triggerEvent)(this.passedElement,"change",{value:t})}},{key:"_handleButtonAction",value:function(t,e){if(t&&e&&this.config.removeItems&&this.config.removeItemButton){var n=e.parentNode.getAttribute("data-id"),a=t.find(function(t){return t.id===parseInt(n,10)});this._removeItem(a),this._triggerChange(a.value),this.isSelectOneElement&&this._selectPlaceholderChoice()}}},{key:"_selectPlaceholderChoice",value:function(){var t=this.store.getPlaceholderChoice();t&&(this._addItem(t.value,t.label,t.id,t.groupId,null,t.placeholder),this._triggerChange(t.value))}},{key:"_handleItemAction",value:function(t,e){var n=this,a=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(t&&e&&this.config.removeItems&&!this.isSelectOneElement){var i=e.getAttribute("data-id");t.forEach(function(t){t.id!==parseInt(i,10)||t.highlighted?a||t.highlighted&&n.unhighlightItem(t):n.highlightItem(t)}),document.activeElement!==this.input&&this.input.focus()}}},{key:"_handleChoiceAction",value:function(t,e){if(t&&e){var n=e.getAttribute("data-id"),a=this.store.getChoiceById(n),i=t[0]&&t[0].keyCode?t[0].keyCode:null,r=this.dropdown.classList.contains(this.config.classNames.activeState);if(a.keyCode=i,(0,m.triggerEvent)(this.passedElement,"choice",{choice:a}),a&&!a.selected&&!a.disabled){var o=this._canAddItem(t,a.value);o.response&&(this._addItem(a.value,a.label,a.id,a.groupId,a.customProperties,a.placeholder,a.keyCode),this._triggerChange(a.value))}this.clearInput(),r&&this.isSelectOneElement&&(this.hideDropdown(),this.containerOuter.focus())}}},{key:"_handleBackspace",value:function(t){if(this.config.removeItems&&t){var e=t[t.length-1],n=t.some(function(t){return t.highlighted});this.config.editItems&&!n&&e?(this.input.value=e.value,this._setInputWidth(),this._removeItem(e),this._triggerChange(e.value)):(n||this.highlightItem(e,!1),this.removeHighlightedItems(!0))}}},{key:"_canAddItem",value:function(t,e){var n=!0,a=(0,m.isType)("Function",this.config.addItemText)?this.config.addItemText(e):this.config.addItemText;(this.isSelectMultipleElement||this.isTextElement)&&0<this.config.maxItemCount&&this.config.maxItemCount<=t.length&&(n=!1,a=(0,m.isType)("Function",this.config.maxItemText)?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),this.isTextElement&&this.config.addItems&&n&&this.config.regexFilter&&(n=this._regexFilter(e));var i=!t.some(function(t){return(0,m.isType)("String",e)?t.value===e.trim():t.value===e});return i||this.config.duplicateItems||this.isSelectOneElement||!n||(n=!1,a=(0,m.isType)("Function",this.config.uniqueItemText)?this.config.uniqueItemText(e):this.config.uniqueItemText),{response:n,notice:a}}},{key:"_handleLoadingState",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=this.itemList.querySelector("."+this.config.classNames.placeholder);t?(this.containerOuter.classList.add(this.config.classNames.loadingState),this.containerOuter.setAttribute("aria-busy","true"),this.isSelectOneElement?e?e.innerHTML=this.config.loadingText:(e=this._getTemplate("placeholder",this.config.loadingText),this.itemList.appendChild(e)):this.input.placeholder=this.config.loadingText):(this.containerOuter.classList.remove(this.config.classNames.loadingState),this.isSelectOneElement?e.innerHTML=this.placeholder||"":this.input.placeholder=this.placeholder||"")}},{key:"_ajaxCallback",value:function(){var i=this;return function(t,n,a){if(t&&n){var e=(0,m.isType)("Object",t)?[t]:t;e&&(0,m.isType)("Array",e)&&e.length?(i._handleLoadingState(!1),i._setLoading(!0),e.forEach(function(t){if(t.choices){var e=t.id||null;i._addGroup(t,e,n,a)}else i._addChoice(t[n],t[a],t.selected,t.disabled,void 0,t.customProperties,t.placeholder)}),i._setLoading(!1),i.isSelectOneElement&&i._selectPlaceholderChoice()):i._handleLoadingState(!1),i.containerOuter.removeAttribute("aria-busy")}}}},{key:"_searchChoices",value:function(t){var e=(0,m.isType)("String",t)?t.trim():t,n=(0,m.isType)("String",this.currentValue)?this.currentValue.trim():this.currentValue;if(1<=e.length&&e!==n+" "){var a=this.store.getSearchableChoices(),i=e,r=(0,m.isType)("Array",this.config.searchFields)?this.config.searchFields:[this.config.searchFields],o=Object.assign(this.config.fuseOptions,{keys:r}),s=new l.default(a,o),c=s.search(i);return this.currentValue=e,this.highlightPosition=0,this.isSearching=!0,this.store.dispatch((0,p.filterChoices)(c)),c.length}return 0}},{key:"_handleSearch",value:function(t){if(t){var e=this.store.getChoices(),n=e.some(function(t){return!t.active});if(this.input===document.activeElement)if(t&&t.length>=this.config.searchFloor){var a=0;this.config.searchChoices&&(a=this._searchChoices(t)),(0,m.triggerEvent)(this.passedElement,"search",{value:t,resultCount:a})}else n&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0)))}}},{key:"_addEventListeners",value:function(){document.addEventListener("keyup",this._onKeyUp),document.addEventListener("keydown",this._onKeyDown),document.addEventListener("click",this._onClick),document.addEventListener("touchmove",this._onTouchMove),document.addEventListener("touchend",this._onTouchEnd),document.addEventListener("mousedown",this._onMouseDown),document.addEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.addEventListener("focus",this._onFocus),this.containerOuter.addEventListener("blur",this._onBlur)),this.input.addEventListener("input",this._onInput),this.input.addEventListener("paste",this._onPaste),this.input.addEventListener("focus",this._onFocus),this.input.addEventListener("blur",this._onBlur)}},{key:"_removeEventListeners",value:function(){document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("click",this._onClick),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("mousedown",this._onMouseDown),document.removeEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.removeEventListener("focus",this._onFocus),this.containerOuter.removeEventListener("blur",this._onBlur)),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("paste",this._onPaste),this.input.removeEventListener("focus",this._onFocus),this.input.removeEventListener("blur",this._onBlur)}},{key:"_setInputWidth",value:function(){this.placeholder?this.input.value&&this.input.value.length>=this.placeholder.length/1.25&&(this.input.style.width=(0,m.getWidthOfInput)(this.input)):this.input.style.width=(0,m.getWidthOfInput)(this.input)}},{key:"_onKeyDown",value:function(i){var t,r=this;if(i.target===this.input||this.containerOuter.contains(i.target)){var a=i.target,o=this.store.getItemsFilteredByActive(),e=this.input===document.activeElement,s=this.dropdown.classList.contains(this.config.classNames.activeState),n=this.itemList&&this.itemList.children,c=String.fromCharCode(i.keyCode),l=i.ctrlKey||i.metaKey;this.isTextElement||!/[a-zA-Z0-9-_ ]/.test(c)||s||this.showDropdown(!0),this.canSearch=this.config.searchEnabled;var f=function(){if(s||r.isSelectOneElement){s||r.showDropdown(!0),r.canSearch=!1;var t=40===i.keyCode||34===i.keyCode?1:-1,e=i.metaKey||34===i.keyCode||33===i.keyCode,n=void 0;if(e)n=0<t?Array.from(r.dropdown.querySelectorAll("[data-choice-selectable]")).pop():r.dropdown.querySelector("[data-choice-selectable]");else{var a=r.dropdown.querySelector("."+r.config.classNames.highlightedState);n=a?(0,m.getAdjacentEl)(a,"[data-choice-selectable]",t):r.dropdown.querySelector("[data-choice-selectable]")}n&&((0,m.isScrolledIntoView)(n,r.choiceList,t)||r._scrollToChoice(n,t),r._highlightChoice(n)),i.preventDefault()}},u=function(){!e||i.target.value||r.isSelectOneElement||(r._handleBackspace(o),i.preventDefault())},h=(d(t={},65,function(){l&&n&&(r.canSearch=!1,r.config.removeItems&&!r.input.value&&r.input===document.activeElement&&r.highlightAll())}),d(t,13,function(){if(r.isTextElement&&a.value){var t=r.input.value,e=r._canAddItem(o,t);e.response&&(s&&r.hideDropdown(),r._addItem(t),r._triggerChange(t),r.clearInput())}if(a.hasAttribute("data-button")&&(r._handleButtonAction(o,a),i.preventDefault()),s){i.preventDefault();var n=r.dropdown.querySelector("."+r.config.classNames.highlightedState);n&&(o[0]&&(o[0].keyCode=13),r._handleChoiceAction(o,n))}else r.isSelectOneElement&&(s||(r.showDropdown(!0),i.preventDefault()))}),d(t,27,function(){s&&(r.toggleDropdown(),r.containerOuter.focus())}),d(t,38,f),d(t,33,f),d(t,40,f),d(t,34,f),d(t,8,u),d(t,46,u),t);h[i.keyCode]&&h[i.keyCode]()}}},{key:"_onKeyUp",value:function(t){if(t.target===this.input){var e=this.input.value,n=this.store.getItemsFilteredByActive(),a=this._canAddItem(n,e);if(this.isTextElement){var i=this.dropdown.classList.contains(this.config.classNames.activeState);if(e){if(a.notice){var r=this._getTemplate("notice",a.notice);this.dropdown.innerHTML=r.outerHTML}!0===a.response?i||this.showDropdown():!a.notice&&i&&this.hideDropdown()}else i&&this.hideDropdown()}else 46!==t.keyCode&&8!==t.keyCode||t.target.value?this.canSearch&&a.response&&this._handleSearch(this.input.value):!this.isTextElement&&this.isSearching&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0)));this.canSearch=this.config.searchEnabled}}},{key:"_onInput",value:function(){this.isSelectOneElement||this._setInputWidth()}},{key:"_onTouchMove",value:function(){!0===this.wasTap&&(this.wasTap=!1)}},{key:"_onTouchEnd",value:function(t){var e=t.target||t.touches[0].target,n=this.dropdown.classList.contains(this.config.classNames.activeState);!0===this.wasTap&&this.containerOuter.contains(e)&&(e!==this.containerOuter&&e!==this.containerInner||this.isSelectOneElement||(this.isTextElement?document.activeElement!==this.input&&this.input.focus():n||this.showDropdown(!0)),t.stopPropagation()),this.wasTap=!0}},{key:"_onMouseDown",value:function(t){var e=t.target;if(e===this.choiceList&&this.isIe11&&(this.isScrollingOnIe=!0),this.containerOuter.contains(e)&&e!==this.input){var n=void 0,a=this.store.getItemsFilteredByActive(),i=t.shiftKey;(n=(0,m.findAncestorByAttrName)(e,"data-button"))?this._handleButtonAction(a,n):(n=(0,m.findAncestorByAttrName)(e,"data-item"))?this._handleItemAction(a,n,i):(n=(0,m.findAncestorByAttrName)(e,"data-choice"))&&this._handleChoiceAction(a,n),t.preventDefault()}}},{key:"_onClick",value:function(t){var e=t.target,n=this.dropdown.classList.contains(this.config.classNames.activeState),a=this.store.getItemsFilteredByActive();if(this.containerOuter.contains(e))e.hasAttribute("data-button")&&this._handleButtonAction(a,e),n?this.isSelectOneElement&&e!==this.input&&!this.dropdown.contains(e)&&this.hideDropdown(!0):this.isTextElement?document.activeElement!==this.input&&this.input.focus():this.canSearch?this.showDropdown(!0):(this.showDropdown(),this.containerOuter.focus());else{var i=a.some(function(t){return t.highlighted});i&&this.unhighlightAll(),this.containerOuter.classList.remove(this.config.classNames.focusState),n&&this.hideDropdown()}}},{key:"_onMouseOver",value:function(t){(t.target===this.dropdown||this.dropdown.contains(t.target))&&t.target.hasAttribute("data-choice")&&this._highlightChoice(t.target)}},{key:"_onPaste",value:function(t){t.target!==this.input||this.config.paste||t.preventDefault()}},{key:"_onFocus",value:function(t){var e=this,n=t.target;if(this.containerOuter.contains(n)){var a=this.dropdown.classList.contains(this.config.classNames.activeState),i={text:function(){n===e.input&&e.containerOuter.classList.add(e.config.classNames.focusState)},"select-one":function(){e.containerOuter.classList.add(e.config.classNames.focusState),n===e.input&&(a||e.showDropdown())},"select-multiple":function(){n===e.input&&(e.containerOuter.classList.add(e.config.classNames.focusState),a||e.showDropdown(!0))}};i[this.passedElement.type]()}}},{key:"_onBlur",value:function(t){var e=this,n=t.target;if(this.containerOuter.contains(n)&&!this.isScrollingOnIe){var a=this.store.getItemsFilteredByActive(),i=this.dropdown.classList.contains(this.config.classNames.activeState),r=a.some(function(t){return t.highlighted}),o={text:function(){n===e.input&&(e.containerOuter.classList.remove(e.config.classNames.focusState),r&&e.unhighlightAll(),i&&e.hideDropdown())},"select-one":function(){e.containerOuter.classList.remove(e.config.classNames.focusState),n===e.containerOuter&&i&&!e.canSearch&&e.hideDropdown(),n===e.input&&i&&e.hideDropdown()},"select-multiple":function(){n===e.input&&(e.containerOuter.classList.remove(e.config.classNames.focusState),i&&e.hideDropdown(),r&&e.unhighlightAll())}};o[this.passedElement.type]()}else this.isScrollingOnIe=!1,this.input.focus()}},{key:"_regexFilter",value:function(t){if(!t)return!1;var e=this.config.regexFilter,n=new RegExp(e.source,"i");return n.test(t)}},{key:"_scrollToChoice",value:function(t,r){var o=this;if(t){var e=this.choiceList.offsetHeight,n=t.offsetHeight,a=t.offsetTop+n,i=this.choiceList.scrollTop+e,s=0<r?this.choiceList.scrollTop+a-i:t.offsetTop;requestAnimationFrame(function(t){!function e(){var t=o.choiceList.scrollTop,n=!1,a=void 0,i=void 0;0<r?(i=1<(a=(s-t)/4)?a:1,o.choiceList.scrollTop=t+i,t<s&&(n=!0)):(i=1<(a=(t-s)/4)?a:1,o.choiceList.scrollTop=t-i,s<t&&(n=!0)),n&&requestAnimationFrame(function(t){e()})}()})}}},{key:"_highlightChoice",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=Array.from(this.dropdown.querySelectorAll("[data-choice-selectable]")),a=t;if(n&&n.length){var i=Array.from(this.dropdown.querySelectorAll("."+this.config.classNames.highlightedState));i.forEach(function(t){t.classList.remove(e.config.classNames.highlightedState),t.setAttribute("aria-selected","false")}),a?this.highlightPosition=n.indexOf(a):(a=n.length>this.highlightPosition?n[this.highlightPosition]:n[n.length-1])||(a=n[0]),a.classList.add(this.config.classNames.highlightedState),a.setAttribute("aria-selected","true"),this.containerOuter.setAttribute("aria-activedescendant",a.id)}}},{key:"_addItem",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,r=5<arguments.length&&void 0!==arguments[5]&&arguments[5],o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null,s=(0,m.isType)("String",t)?t.trim():t,c=o,l=this.store.getItems(),f=e||s,u=parseInt(n,10)||-1,h=0<=a?this.store.getGroupById(a):null,d=l?l.length+1:1;return this.config.prependValue&&(s=this.config.prependValue+s.toString()),this.config.appendValue&&(s+=this.config.appendValue.toString()),this.store.dispatch((0,p.addItem)(s,f,d,u,a,i,r,c)),this.isSelectOneElement&&this.removeActiveItems(d),h&&h.value?(0,m.triggerEvent)(this.passedElement,"addItem",{id:d,value:s,label:f,groupValue:h.value,keyCode:c}):(0,m.triggerEvent)(this.passedElement,"addItem",{id:d,value:s,label:f,keyCode:c}),this}},{key:"_removeItem",value:function(t){if(!t||!(0,m.isType)("Object",t))return this;var e=t.id,n=t.value,a=t.label,i=t.choiceId,r=t.groupId,o=0<=r?this.store.getGroupById(r):null;return this.store.dispatch((0,p.removeItem)(e,i)),o&&o.value?(0,m.triggerEvent)(this.passedElement,"removeItem",{id:e,value:n,label:a,groupValue:o.value}):(0,m.triggerEvent)(this.passedElement,"removeItem",{id:e,value:n,label:a}),this}},{key:"_addChoice",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:-1,r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,o=6<arguments.length&&void 0!==arguments[6]&&arguments[6],s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:null;if(null!=t){var c=this.store.getChoices(),l=e||t,f=c?c.length+1:1,u=this.baseId+"-"+this.idNames.itemChoice+"-"+f;this.store.dispatch((0,p.addChoice)(t,l,f,i,a,u,r,o,s)),n&&this._addItem(t,l,f,void 0,r,o,s)}}},{key:"_clearChoices",value:function(){this.store.dispatch((0,p.clearChoices)())}},{key:"_addGroup",value:function(t,e){var n=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"value",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"label",r=(0,m.isType)("Object",t)?t.choices:Array.from(t.getElementsByTagName("OPTION")),o=e||Math.floor((new Date).valueOf()*Math.random()),s=!!t.disabled&&t.disabled;r?(this.store.dispatch((0,p.addGroup)(t.label,o,!0,s)),r.forEach(function(t){var e=t.disabled||t.parentNode&&t.parentNode.disabled;n._addChoice(t[a],(0,m.isType)("Object",t)?t[i]:t.innerHTML,t.selected,e,o,t.customProperties,t.placeholder)})):this.store.dispatch((0,p.addGroup)(t.label,t.id,!1,t.disabled))}},{key:"_getTemplate",value:function(t){var e=arguments;if(!t)return null;for(var n=this.config.templates,a=arguments.length,i=Array(1<a?a-1:0),r=1;r<a;r++)i[r-1]=e[r];return n[t].apply(n,i)}},{key:"_createTemplates",value:function(){var i=this,r=this.config.classNames,t={containerOuter:function(t){return(0,m.strToEl)('\n          <div\n            class="'+r.containerOuter+'"\n            '+(i.isSelectElement?i.config.searchEnabled?'role="combobox" aria-autocomplete="list"':'role="listbox"':"")+'\n            data-type="'+i.passedElement.type+'"\n            '+(i.isSelectOneElement?'tabindex="0"':"")+'\n            aria-haspopup="true"\n            aria-expanded="false"\n            dir="'+t+'"\n            >\n          </div>\n        ')},containerInner:function(){return(0,m.strToEl)('\n          <div class="'+r.containerInner+'"></div>\n        ')},itemList:function(){var t,e=(0,s.default)(r.list,(d(t={},r.listSingle,i.isSelectOneElement),d(t,r.listItems,!i.isSelectOneElement),t));return(0,m.strToEl)('\n          <div class="'+e+'"></div>\n        ')},placeholder:function(t){return(0,m.strToEl)('\n          <div class="'+r.placeholder+'">\n            '+t+"\n          </div>\n        ")},item:function(t){var e,n,a=(0,s.default)(r.item,(d(e={},r.highlightedState,t.highlighted),d(e,r.itemSelectable,!t.highlighted),d(e,r.placeholder,t.placeholder),e));return i.config.removeItemButton?(a=(0,s.default)(r.item,(d(n={},r.highlightedState,t.highlighted),d(n,r.itemSelectable,!t.disabled),d(n,r.placeholder,t.placeholder),n)),(0,m.strToEl)('\n            <div\n              class="'+a+'"\n              data-item\n              data-id="'+t.id+'"\n              data-value="'+t.value+'"\n              data-deletable\n              '+(t.active?'aria-selected="true"':"")+"\n              "+(t.disabled?'aria-disabled="true"':"")+"\n              >\n              "+t.label+'\x3c!--\n           --\x3e<button\n                type="button"\n                class="'+r.button+'"\n                data-button\n                aria-label="Remove item: \''+t.value+"'\"\n                >\n                Remove item\n              </button>\n            </div>\n          ")):(0,m.strToEl)('\n          <div\n            class="'+a+'"\n            data-item\n            data-id="'+t.id+'"\n            data-value="'+t.value+'"\n            '+(t.active?'aria-selected="true"':"")+"\n            "+(t.disabled?'aria-disabled="true"':"")+"\n            >\n            "+t.label+"\n          </div>\n        ")},choiceList:function(){return(0,m.strToEl)('\n          <div\n            class="'+r.list+'"\n            dir="ltr"\n            role="listbox"\n            '+(i.isSelectOneElement?"":'aria-multiselectable="true"')+"\n            >\n          </div>\n        ")},choiceGroup:function(t){var e=(0,s.default)(r.group,d({},r.itemDisabled,t.disabled));return(0,m.strToEl)('\n          <div\n            class="'+e+'"\n            data-group\n            data-id="'+t.id+'"\n            data-value="'+t.value+'"\n            role="group"\n            '+(t.disabled?'aria-disabled="true"':"")+'\n            >\n            <div class="'+r.groupHeading+'">'+t.value+"</div>\n          </div>\n        ")},choice:function(t){var e,n=(0,s.default)(r.item,r.itemChoice,(d(e={},r.itemDisabled,t.disabled),d(e,r.itemSelectable,!t.disabled),d(e,r.placeholder,t.placeholder),e));return(0,m.strToEl)('\n          <div\n            class="'+n+'"\n            data-select-text="'+i.config.itemSelectText+'"\n            data-choice\n            data-id="'+t.id+'"\n            data-value="'+t.value+'"\n            '+(t.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable")+'\n            id="'+t.elementId+'"\n            '+(0<t.groupId?'role="treeitem"':'role="option"')+"\n            >\n            "+t.label+"\n          </div>\n        ")},input:function(){var t=(0,s.default)(r.input,r.inputCloned);return(0,m.strToEl)('\n          <input\n            type="text"\n            class="'+t+'"\n            autocomplete="off"\n            autocapitalize="off"\n            spellcheck="false"\n            role="textbox"\n            aria-autocomplete="list"\n            >\n        ')},dropdown:function(){var t=(0,s.default)(r.list,r.listDropdown);return(0,m.strToEl)('\n          <div\n            class="'+t+'"\n            aria-expanded="false"\n            >\n          </div>\n        ')},notice:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a=(0,s.default)(r.item,r.itemChoice,(d(e={},r.noResults,"no-results"===n),d(e,r.noChoices,"no-choices"===n),e));return(0,m.strToEl)('\n          <div class="'+a+'">\n            '+t+"\n          </div>\n        ")},option:function(t){return(0,m.strToEl)('\n          <option value="'+t.value+'" selected>'+t.label+"</option>\n        ")}},e=this.config.callbackOnCreateTemplates,n={};e&&(0,m.isType)("Function",e)&&(n=e.call(this,m.strToEl)),this.config.templates=(0,m.extend)(t,n)}},{key:"_setLoading",value:function(t){this.store.dispatch((0,p.setIsLoading)(t))}},{key:"_createInput",value:function(){var a=this,t=this.passedElement.getAttribute("dir")||"ltr",e=this._getTemplate("containerOuter",t),n=this._getTemplate("containerInner"),i=this._getTemplate("itemList"),r=this._getTemplate("choiceList"),o=this._getTemplate("input"),s=this._getTemplate("dropdown");this.containerOuter=e,this.containerInner=n,this.input=o,this.choiceList=r,this.itemList=i,this.dropdown=s,this.passedElement.classList.add(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.tabIndex="-1";var c=this.passedElement.getAttribute("style");if(Boolean(c)&&this.passedElement.setAttribute("data-choice-orig-style",c),this.passedElement.setAttribute("style","display:none;"),this.passedElement.setAttribute("aria-hidden","true"),this.passedElement.setAttribute("data-choice","active"),(0,m.wrap)(this.passedElement,n),(0,m.wrap)(n,e),this.isSelectOneElement?o.placeholder=this.config.searchPlaceholderValue||"":this.placeholder&&(o.placeholder=this.placeholder,o.style.width=(0,m.getWidthOfInput)(o)),this.config.addItems||this.disable(),e.appendChild(n),e.appendChild(s),n.appendChild(i),this.isTextElement||s.appendChild(r),this.isSelectMultipleElement||this.isTextElement?n.appendChild(o):this.canSearch&&s.insertBefore(o,s.firstChild),this.isSelectElement){var l=Array.from(this.passedElement.getElementsByTagName("OPTGROUP"));if(this.highlightPosition=0,this.isSearching=!1,this._setLoading(!0),l&&l.length)l.forEach(function(t){a._addGroup(t,t.id||null)});else{var f=Array.from(this.passedElement.options),u=this.config.sortFilter,h=this.presetChoices;f.forEach(function(t){h.push({value:t.value,label:t.innerHTML,selected:t.selected,disabled:t.disabled||t.parentNode.disabled,placeholder:t.hasAttribute("placeholder")})}),this.config.shouldSort&&h.sort(u);var d=h.some(function(t){return t.selected});h.forEach(function(t,e){if(a.isSelectOneElement){var n=d||!d&&0<e;a._addChoice(t.value,t.label,!n||t.selected,!!n&&t.disabled,void 0,t.customProperties,t.placeholder)}else a._addChoice(t.value,t.label,t.selected,t.disabled,void 0,t.customProperties,t.placeholder)})}this._setLoading(!1)}else this.isTextElement&&this.presetItems.forEach(function(t){var e=(0,m.getType)(t);if("Object"===e){if(!t.value)return;a._addItem(t.value,t.label,t.id,void 0,t.customProperties,t.placeholder)}else"String"===e&&a._addItem(t)})}}]),c}();t.exports=u},function(i,t,e){!function(t){function M(){console.log.apply(console,arguments)}function e(t,e){var n;for(n in this.list=t,this.options=e=e||{},a)a.hasOwnProperty(n)&&("boolean"==typeof a[n]?this.options[n]=n in e?e[n]:a[n]:this.options[n]=e[n]||a[n])}function k(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t,e){e=e||{},this.options=e,this.options.location=e.location||n.defaultOptions.location,this.options.distance="distance"in e?e.distance:n.defaultOptions.distance,this.options.threshold="threshold"in e?e.threshold:n.defaultOptions.threshold,this.options.maxPatternLength=e.maxPatternLength||n.defaultOptions.maxPatternLength,this.pattern=e.caseSensitive?t:t.toLowerCase(),this.patternLen=t.length,this.patternLen<=this.options.maxPatternLength&&(this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet())}var a={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:n,sortFn:function(t,e){return t.score-e.score},getFn:function t(e,n,a){var i,r,o,s,c,l;if(n){if(-1!==(o=n.indexOf("."))?(i=n.slice(0,o),r=n.slice(o+1)):i=n,null!=(s=e[i]))if(r||"string"!=typeof s&&"number"!=typeof s)if(k(s))for(c=0,l=s.length;c<l;c++)t(s[c],r,a);else r&&t(s,r,a);else a.push(s)}else a.push(e);return a},keys:[],verbose:!1,tokenize:!1,matchAllTokens:!1,tokenSeparator:/ +/g,minMatchCharLength:1,findAllMatches:!1};e.VERSION="2.7.3",e.prototype.set=function(t){return this.list=t},e.prototype.search=function(t){this.options.verbose&&M("\nSearch term:",t,"\n"),this.pattern=t,this.results=[],this.resultMap={},this._keyMap=null,this._prepareSearchers(),this._startSearch(),this._computeScore(),this._sort();var e=this._format();return e},e.prototype._prepareSearchers=function(){var t=this.options,e=this.pattern,n=t.searchFn,a=e.split(t.tokenSeparator),i=0,r=a.length;if(this.options.tokenize)for(this.tokenSearchers=[];i<r;i++)this.tokenSearchers.push(new n(a[i],t));this.fullSeacher=new n(e,t)},e.prototype._startSearch=function(){var t,e,n,a,i=this.options,r=i.getFn,o=this.list,s=o.length,c=this.options.keys,l=c.length,f=null;if("string"==typeof o[0])for(n=0;n<s;n++)this._analyze("",o[n],n,n);else for(this._keyMap={},n=0;n<s;n++)for(f=o[n],a=0;a<l;a++){if("string"!=typeof(t=c[a])){if(e=1-t.weight||1,this._keyMap[t.name]={weight:e},t.weight<=0||1<t.weight)throw new Error("Key weight has to be > 0 and <= 1");t=t.name}else this._keyMap[t]={weight:1};this._analyze(t,r(f,t,[]),f,n)}},e.prototype._analyze=function(t,e,n,a){var i,r,o,s,c,l,f,u,h,d,p,_,b,g,v,m=this.options,y=!1;if(null!=e){r=[];var x=0;if("string"==typeof e){if(i=e.split(m.tokenSeparator),m.verbose&&M("---------\nKey:",t),this.options.tokenize){for(g=0;g<this.tokenSearchers.length;g++){for(u=this.tokenSearchers[g],m.verbose&&M("Pattern:",u.pattern),_=!(h=[]),v=0;v<i.length;v++){d=i[v],p=u.search(d);var w={};p.isMatch?(w[d]=p.score,_=y=!0,r.push(p.score)):(w[d]=1,this.options.matchAllTokens||r.push(1)),h.push(w)}_&&x++,m.verbose&&M("Token scores:",h)}for(s=r[0],l=r.length,g=1;g<l;g++)s+=r[g];s/=l,m.verbose&&M("Token score average:",s)}f=this.fullSeacher.search(e),m.verbose&&M("Full text score:",f.score),c=f.score,void 0!==s&&(c=(c+s)/2),m.verbose&&M("Score average:",c),b=!this.options.tokenize||!this.options.matchAllTokens||x>=this.tokenSearchers.length,m.verbose&&M("Check Matches",b),(y||f.isMatch)&&b&&((o=this.resultMap[a])?o.output.push({key:t,score:c,matchedIndices:f.matchedIndices}):(this.resultMap[a]={item:n,output:[{key:t,score:c,matchedIndices:f.matchedIndices}]},this.results.push(this.resultMap[a])))}else if(k(e))for(g=0;g<e.length;g++)this._analyze(t,e[g],n,a)}},e.prototype._computeScore=function(){var t,e,n,a,i,r,o,s,c,l=this._keyMap,f=this.results;for(this.options.verbose&&M("\n\nComputing score:\n"),t=0;t<f.length;t++){for(n=0,a=f[t].output,i=a.length,s=1,e=0;e<i;e++)r=a[e].score,o=l?l[a[e].key].weight:1,c=r*o,1!==o?s=Math.min(s,c):(n+=c,a[e].nScore=c);f[t].score=1===s?n/i:s,this.options.verbose&&M(f[t])}},e.prototype._sort=function(){var t=this.options;t.shouldSort&&(t.verbose&&M("\n\nSorting...."),this.results.sort(t.sortFn))},e.prototype._format=function(){var t,e,n,a,i=this.options,r=i.getFn,o=[],s=this.results,c=i.include;for(i.verbose&&M("\n\nOutput:\n\n",s),n=i.id?function(t){s[t].item=r(s[t].item,i.id,[])[0]}:function(){},a=function(t){var e,n,a,i,r,o=s[t];if(0<c.length){if(e={item:o.item},-1!==c.indexOf("matches"))for(a=o.output,e.matches=[],n=0;n<a.length;n++)i=a[n],r={indices:i.matchedIndices},i.key&&(r.key=i.key),e.matches.push(r);-1!==c.indexOf("score")&&(e.score=s[t].score)}else e=o.item;return e},t=0,e=s.length;t<e;t++)n(t),o.push(a(t));return o},n.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},n.prototype._calculatePatternAlphabet=function(){var t={},e=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},n.prototype._bitapScore=function(t,e){var n=t/this.patternLen,a=Math.abs(this.options.location-e);return this.options.distance?n+a/this.options.distance:a?1:n},n.prototype.search=function(t){var e,n,a,i,r,o,s,c,l,f,u,h,d,p,_,b,g,v,m,y,x,w,M,k=this,A=this.options;if(t=A.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0,matchedIndices:[[0,t.length-1]]};if(this.patternLen>A.maxPatternLength){if(v=t.match(new RegExp(this.pattern.replace(A.tokenSeparator,"|"))),m=!!v)for(x=[],e=0,w=v.length;e<w;e++)M=v[e],x.push([t.indexOf(M),M.length-1]);return{isMatch:m,score:m?.5:1,matchedIndices:x}}for(i=A.findAllMatches,r=A.location,a=t.length,o=A.threshold,s=t.indexOf(this.pattern,r),y=[],e=0;e<a;e++)y[e]=0;for(-1!=s&&(o=Math.min(this._bitapScore(0,s),o),-1!=(s=t.lastIndexOf(this.pattern,r+this.patternLen))&&(o=Math.min(this._bitapScore(0,s),o))),s=-1,b=1,g=[],f=this.patternLen+a,e=0;e<this.patternLen;e++){for(c=0,l=f;c<l;)k._bitapScore(e,r+l)<=o?c=l:f=l,l=Math.floor((f-c)/2+c);for(f=l,u=Math.max(1,r-l+1),h=i?a:Math.min(r+l,a)+this.patternLen,(d=Array(h+2))[h+1]=(1<<e)-1,n=h;u<=n;n--)if((_=k.patternAlphabet[t.charAt(n-1)])&&(y[n-1]=1),d[n]=(d[n+1]<<1|1)&_,0!==e&&(d[n]|=(p[n+1]|p[n])<<1|1|p[n+1]),d[n]&k.matchmask&&(b=k._bitapScore(e,n-1))<=o){if(o=b,s=n-1,g.push(s),s<=r)break;u=Math.max(1,2*r-s)}if(k._bitapScore(e+1,r)>o)break;p=d}return x=this._getMatchedIndices(y),{isMatch:0<=s,score:0===b?.001:b,matchedIndices:x}},n.prototype._getMatchedIndices=function(t){for(var e,n=[],a=-1,i=-1,r=0,o=t.length;r<o;r++)(e=t[r])&&-1===a?a=r:e||-1===a||((i=r-1)-a+1>=this.options.minMatchCharLength&&n.push([a,i]),a=-1);return t[r-1]&&r-1-a+1>=this.options.minMatchCharLength&&n.push([a,r-1]),n},i.exports=e}()},function(t,e,n){var a;!function(){function o(){for(var t=arguments,e=[],n=0;n<arguments.length;n++){var a=t[n];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a))e.push(o.apply(null,a));else if("object"===i)for(var r in a)s.call(a,r)&&a[r]&&e.push(r)}}return e.join(" ")}var s={}.hasOwnProperty;void 0!==t&&t.exports?t.exports=o:void 0===(a=function(){return o}.apply(e,[]))||(t.exports=a)}()},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var a,i=function(){function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}}(),r=n(5),o=n(26),s=(a=o)&&a.__esModule?a:{default:a},c=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.store=(0,r.createStore)(s.default,window.devToolsExtension?window.devToolsExtension():void 0)}return i(t,[{key:"getState",value:function(){return this.store.getState()}},{key:"dispatch",value:function(t){this.store.dispatch(t)}},{key:"subscribe",value:function(t){this.store.subscribe(t)}},{key:"isLoading",value:function(){var t=this.store.getState();return t.general.loading}},{key:"getItems",value:function(){var t=this.store.getState();return t.items}},{key:"getItemsFilteredByActive",value:function(){var t=this.getItems(),e=t.filter(function(t){return!0===t.active},[]);return e}},{key:"getItemsReducedToValues",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getItems(),e=t.reduce(function(t,e){return t.push(e.value),t},[]);return e}},{key:"getChoices",value:function(){var t=this.store.getState();return t.choices}},{key:"getChoicesFilteredByActive",value:function(){var t=this.getChoices(),e=t.filter(function(t){return!0===t.active});return e}},{key:"getChoicesFilteredBySelectable",value:function(){var t=this.getChoices(),e=t.filter(function(t){return!0!==t.disabled});return e}},{key:"getSearchableChoices",value:function(){var t=this.getChoicesFilteredBySelectable();return t.filter(function(t){return!0!==t.placeholder})}},{key:"getChoiceById",value:function(e){if(e){var t=this.getChoicesFilteredByActive(),n=t.find(function(t){return t.id===parseInt(e,10)});return n}return!1}},{key:"getGroups",value:function(){var t=this.store.getState();return t.groups}},{key:"getGroupsFilteredByActive",value:function(){var t=this.getGroups(),a=this.getChoices(),e=t.filter(function(t){var e=!0===t.active&&!1===t.disabled,n=a.some(function(t){return!0===t.active&&!1===t.disabled});return e&&n},[]);return e}},{key:"getGroupById",value:function(e){var t=this.getGroups(),n=t.find(function(t){return t.id===e});return n}},{key:"getPlaceholderChoice",value:function(){var t=this.getChoices(),e=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t)).reverse().find(function(t){return!0===t.placeholder});return e}}]),t}();e.default=c,t.exports=c},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var i=n(6),r=a(i),o=n(21),s=a(o),c=n(23),l=a(c),f=n(24),u=a(f),h=n(25),d=a(h),p=n(22);a(p),e.createStore=r.default,e.combineReducers=s.default,e.bindActionCreators=l.default,e.applyMiddleware=u.default,e.compose=d.default},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.ActionTypes=void 0,e.default=function t(e,n,a){function i(){h===u&&(h=u.slice())}function r(){return f}function o(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var n=!0;return i(),h.push(e),function(){if(n){n=!1,i();var t=h.indexOf(e);h.splice(t,1)}}}function s(t){if(!(0,p.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,f=l(f,t)}finally{d=!1}for(var e=u=h,n=0;n<e.length;n++){var a=e[n];a()}return t}var c;if("function"==typeof n&&void 0===a&&(a=n,n=void 0),void 0!==a){if("function"!=typeof a)throw new Error("Expected the enhancer to be a function.");return a(t)(e,n)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var l=e,f=n,u=[],h=u,d=!1;return s({type:b.INIT}),(c={dispatch:s,subscribe:o,getState:r,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");l=t,s({type:b.INIT})}})[_.default]=function(){var t,a=o;return(t={subscribe:function(t){function e(){t.next&&t.next(r())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");e();var n=a(e);return{unsubscribe:n}}})[_.default]=function(){return this},t},c};var i=n(7),p=a(i),r=n(17),_=a(r),b=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){var a=n(8),i=n(14),r=n(16),o=Function.prototype,s=Object.prototype,c=o.toString,l=s.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!r(t)||"[object Object]"!=a(t))return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e,n){var a=n(9),i=n(12),r=n(13),o=a?a.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):r(t)}},function(t,e,n){var a=n(10),i=a.Symbol;t.exports=i},function(t,e,n){var a=n(11),i="object"==typeof self&&self&&self.Object===Object&&self,r=a||i||Function("return this")();t.exports=r},function(n,t){(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.exports=e}).call(t,function(){return this}())},function(t,e,n){var a=n(9),i=Object.prototype,r=i.hasOwnProperty,o=i.toString,s=a?a.toStringTag:void 0;t.exports=function(t){var e=r.call(t,s),n=t[s];try{t[s]=void 0}catch(t){}var a=o.call(t);return e?t[s]=n:delete t[s],a}},function(t,e){var n=Object.prototype,a=n.toString;t.exports=function(t){return a.call(t)}},function(t,e,n){var a=n(15),i=a(Object.getPrototypeOf,Object);t.exports=i},function(t,e){t.exports=function(e,n){return function(t){return e(n(t))}}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){t.exports=n(18)},function(t,s,c){(function(t,e){Object.defineProperty(s,"__esModule",{value:!0});var n,a,i=c(20),r=(a=i)&&a.__esModule?a:{default:a};n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:e;var o=(0,r.default)(n);s.default=o}).call(s,function(){return this}(),c(19)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(t){for(var e=Object.keys(t),d={},n=0;n<e.length;n++){var a=e[n];"function"==typeof t[a]&&(d[a]=t[a])}var i,p=Object.keys(d),_=void 0;try{i=d,Object.keys(i).forEach(function(t){var e=i[t],n=e(void 0,{type:r.ActionTypes.INIT});if(void 0===n)throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var a="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===e(void 0,{type:a}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}catch(t){_=t}return function(){var t,e,n,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1];if(_)throw _;for(var r=!1,o={},s=0;s<p.length;s++){var c=p[s],l=d[c],f=a[c],u=l(f,i);if(void 0===u){var h=(t=c,n=void 0,"Given action "+((n=(e=e=i)&&e.type)&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.');throw new Error(h)}o[c]=u,r=r||u!==f}return r?o:a}};var r=n(6),i=n(7),o=(a(i),n(22));a(o)},function(t,e){e.__esModule=!0,e.default=function(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}},function(t,e){function s(t,e){return function(){return e(t.apply(void 0,arguments))}}e.__esModule=!0,e.default=function(t,e){if("function"==typeof t)return s(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),a={},i=0;i<n.length;i++){var r=n[i],o=t[r];"function"==typeof o&&(a[r]=s(o,e))}return a}},function(t,e,n){e.__esModule=!0;var l=Object.assign||function(t){for(var e=arguments,n=1;n<arguments.length;n++){var a=e[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.default=function(){for(var t=arguments,e=arguments.length,c=Array(e),n=0;n<e;n++)c[n]=t[n];return function(s){return function(t,e,n){var a=s(t,e,n),i=a.dispatch,r=[],o={getState:a.getState,dispatch:function(t){return i(t)}};return r=c.map(function(t){return t(o)}),i=f.default.apply(void 0,r)(a.dispatch),l({},a,{dispatch:i})}}};var a,i=n(25),f=(a=i)&&a.__esModule?a:{default:a}},function(t,e){e.__esModule=!0,e.default=function(){for(var t=arguments,e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=t[a];return 0===n.length?function(t){return t}:1===n.length?n[0]:n.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}},function(t,e,n){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=n(27),o=a(r),s=n(28),c=a(s),l=n(29),f=a(l),u=n(30),h=a(u),d=(0,i.combineReducers)({items:o.default,groups:c.default,choices:f.default,general:h.default});e.default=function(t,e){var n=t;return"CLEAR_ALL"===e.type&&(n=void 0),d(n,e)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];switch(e.type){case"ADD_ITEM":var n=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t),[{id:e.id,choiceId:e.choiceId,groupId:e.groupId,value:e.value,label:e.label,active:!0,highlighted:!1,customProperties:e.customProperties,placeholder:e.placeholder||!1,keyCode:null}]);return n.map(function(t){return t.highlighted&&(t.highlighted=!1),t});case"REMOVE_ITEM":return t.map(function(t){return t.id===e.id&&(t.active=!1),t});case"HIGHLIGHT_ITEM":return t.map(function(t){return t.id===e.id&&(t.highlighted=e.highlighted),t});default:return t}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];switch(e.type){case"ADD_GROUP":return[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t),[{id:e.id,value:e.value,active:e.active,disabled:e.disabled}]);case"CLEAR_CHOICES":return t.groups=[];default:return t}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];switch(e.type){case"ADD_CHOICE":return[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t),[{id:e.id,elementId:e.elementId,groupId:e.groupId,value:e.value,label:e.label||e.value,disabled:e.disabled||!1,selected:!1,active:!0,score:9999,customProperties:e.customProperties,placeholder:e.placeholder||!1,keyCode:null}]);case"ADD_ITEM":var n=t;return e.activateOptions&&(n=t.map(function(t){return t.active=e.active,t})),-1<e.choiceId&&(n=t.map(function(t){return t.id===parseInt(e.choiceId,10)&&(t.selected=!0),t})),n;case"REMOVE_ITEM":return-1<e.choiceId?t.map(function(t){return t.id===parseInt(e.choiceId,10)&&(t.selected=!1),t}):t;case"FILTER_CHOICES":var a=e.results,i=t.map(function(e){return e.active=a.some(function(t){return t.item.id===e.id&&(e.score=t.score,!0)}),e});return i;case"ACTIVATE_CHOICES":return t.map(function(t){return t.active=e.active,t});case"CLEAR_CHOICES":return t.choices=[];default:return t}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{loading:!1},e=arguments[1];switch(e.type){case"LOADING":return{loading:e.isLoading};default:return t}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.addItem=function(t,e,n,a,i,r,o,s){return{type:"ADD_ITEM",value:t,label:e,id:n,choiceId:a,groupId:i,customProperties:r,placeholder:o,keyCode:s}},e.removeItem=function(t,e){return{type:"REMOVE_ITEM",id:t,choiceId:e}},e.highlightItem=function(t,e){return{type:"HIGHLIGHT_ITEM",id:t,highlighted:e}},e.addChoice=function(t,e,n,a,i,r,o,s,c){return{type:"ADD_CHOICE",value:t,label:e,id:n,groupId:a,disabled:i,elementId:r,customProperties:o,placeholder:s,keyCode:c}},e.filterChoices=function(t){return{type:"FILTER_CHOICES",results:t}},e.activateChoices=function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return{type:"ACTIVATE_CHOICES",active:t}},e.clearChoices=function(){return{type:"CLEAR_CHOICES"}},e.addGroup=function(t,e,n,a){return{type:"ADD_GROUP",value:t,id:e,active:n,disabled:a}},e.clearAll=function(){return{type:"CLEAR_ALL"}},e.setIsLoading=function(t){return{type:"LOADING",isLoading:t}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var a,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=(e.capitalise=function(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},e.generateChars=function(t){for(var e="",n=0;n<t;n++){var a=l(0,36);e+=a.toString(36)}return e}),r=(e.generateId=function(t,e){var n=t.id||t.name&&t.name+"-"+i(2)||i(4);return n=n.replace(/(:|\.|\[|\]|,)/g,""),n=e+n},e.getType=function(t){return Object.prototype.toString.call(t).slice(8,-1)}),s=e.isType=function(t,e){var n=r(e);return null!=e&&n===t},o=(e.isNode=function(t){return"object"===("undefined"==typeof Node?"undefined":n(Node))?t instanceof Node:t&&"object"===(void 0===t?"undefined":n(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},e.isElement=function(t){return"object"===("undefined"==typeof HTMLElement?"undefined":n(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":n(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},e.extend=function n(){for(var t=arguments,a={},e=arguments.length,i=function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s("Object",t[e])?a[e]=n(!0,a[e],t[e]):a[e]=t[e])},r=0;r<e;r++){var o=t[r];s("Object",o)&&i(o)}return a},e.whichTransitionEvent=function(){var t,e=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]},e.whichAnimationEvent=function(){var t,e=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}),c=(e.getParentsUntil=function(t,e,n){for(var a=[];t&&t!==document;t=t.parentNode){if(e){var i=e.charAt(0);if("."===i&&t.classList.contains(e.substr(1)))break;if("#"===i&&t.id===e.substr(1))break;if("["===i&&t.hasAttribute(e.substr(1,e.length-1)))break;if(t.tagName.toLowerCase()===e)break}if(n){var r=n.charAt(0);"."===r&&t.classList.contains(n.substr(1))&&a.push(t),"#"===r&&t.id===n.substr(1)&&a.push(t),"["===r&&t.hasAttribute(n.substr(1,n.length-1))&&a.push(t),t.tagName.toLowerCase()===n&&a.push(t)}else a.push(t)}return 0===a.length?null:a},e.wrap=function(t,e){return e=e||document.createElement("div"),t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e.appendChild(t)},e.getSiblings=function(t){for(var e=[],n=t.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==t&&e.push(n);return e},e.findAncestor=function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t},e.findAncestorByAttrName=function(t,e){for(var n=t;n;){if(n.hasAttribute(e))return n;n=n.parentElement}return null},e.debounce=function(a,i,r){var o;return function(){var t=this,e=arguments,n=r&&!o;clearTimeout(o),o=setTimeout(function(){o=null,r||a.apply(t,e)},i),n&&a.apply(t,e)}},e.getElemDistance=function(t){var e=0;if(t.offsetParent)for(;e+=t.offsetTop,t=t.offsetParent;);return 0<=e?e:0},e.getElementOffset=function(t,e){var n=e;return 1<n&&(n=1),0<n&&(n=0),Math.max(t.offsetHeight*n)},e.getAdjacentEl=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(t&&e){var a=t.parentNode.parentNode,i=Array.from(a.querySelectorAll(e)),r=i.indexOf(t),o=0<n?1:-1;return i[r+o]}},e.getScrollPosition=function(t){return"bottom"===t?Math.max((window.scrollY||window.pageYOffset)+(window.innerHeight||document.documentElement.clientHeight)):window.scrollY||window.pageYOffset},e.isInView=function(t,e,n){return this.getScrollPosition(e)>this.getElemDistance(t)+this.getElementOffset(t,n)},e.isScrolledIntoView=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(t)return 0<n?e.scrollTop+e.offsetHeight>=t.offsetTop+t.offsetHeight:t.offsetTop>=e.scrollTop},e.stripHTML=function(t){return t.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}),l=(e.addAnimation=function(e,n){var a=o();e.classList.add(n),e.addEventListener(a,function t(){e.classList.remove(n),e.removeEventListener(a,t,!1)},!1)},e.getRandomNumber=function(t,e){return Math.floor(Math.random()*(e-t)+t)}),f=e.strToEl=(a=document.createElement("div"),function(t){var e=t.trim(),n=void 0;for(a.innerHTML=e,n=a.children[0];a.firstChild;)a.removeChild(a.firstChild);return n});e.getWidthOfInput=function(t){var e=t.value||t.placeholder,n=t.offsetWidth;if(e){var a=f("<span>"+c(e)+"</span>");if(a.style.position="absolute",a.style.padding="0",a.style.top="-9999px",a.style.left="-9999px",a.style.width="auto",a.style.whiteSpace="pre",document.body.contains(t)&&window.getComputedStyle){var i=window.getComputedStyle(t);i&&(a.style.fontSize=i.fontSize,a.style.fontFamily=i.fontFamily,a.style.fontWeight=i.fontWeight,a.style.fontStyle=i.fontStyle,a.style.letterSpacing=i.letterSpacing,a.style.textTransform=i.textTransform,a.style.padding=i.padding)}document.body.appendChild(a),e&&a.offsetWidth!==t.offsetWidth&&(n=a.offsetWidth+4),document.body.removeChild(a)}return n+"px"},e.sortByAlpha=function(t,e){var n=(t.label||t.value).toLowerCase(),a=(e.label||e.value).toLowerCase();return n<a?-1:a<n?1:0},e.sortByScore=function(t,e){return t.score-e.score},e.triggerEvent=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0});return t.dispatchEvent(a)}},function(t,e){!function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}var e,c,a,l;Array.from||(Array.from=(e=Object.prototype.toString,c=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},a=Math.pow(2,53)-1,l=function(t){var e,n=(e=Number(t),isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e);return Math.min(Math.max(n,0),a)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,a=1<arguments.length?arguments[1]:void 0;if(void 0!==a){if(!c(a))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var i,r=l(e.length),o=c(this)?Object(new this(r)):new Array(r),s=0;s<r;)i=e[s],o[s]=a?void 0===n?a(i,s):a.call(n,i,s):i,s+=1;return o.length=r,o})),Array.prototype.find||(Array.prototype.find=function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),a=n.length>>>0,i=arguments[1],r=0;r<a;r++)if(e=n[r],t.call(i,e,r,n))return e}),t.prototype=window.Event.prototype,window.CustomEvent=t}()}])}(st={exports:{}},st.exports),st.exports),_t=(ct=pt)&&ct.__esModule&&Object.prototype.hasOwnProperty.call(ct,"default")?ct.default:ct;pt.Choices;function bt(){Cf()}function gt(){lt.style.display="block",(ut=new _t(lt,{removeItemButton:!0,placeholderValue:D.series_filter_text,noChoicesText:D.series_filter_none_text})).setValueByChoice(D.series_filter),lt.addEventListener("change",function(){D.series_filter=ut.getValue().map(function(t){return t.value}),ut.hideDropdown(),bt()}),ft=document.querySelector(".choices")}function vt(){var t=G(lt).selectAll("option").data(h.data.column_names.value),e=t.enter().append("option");t.merge(e).attr("value",function(t){return t}).text(function(t){return t}),t.exit().remove()}function mt(){lt||(lt=document.getElementById("series-filter"));var t=ht!=D.series_filter_text||dt!=D.series_filter_none_text;if(!D.series_filter_enabled)return ut&&ut.destroy(),lt.style.display="none",void(ut=null);vt(),ut?t&&(ut.destroy(),vt(),gt()):gt(),ut.removeActiveItems(),ut.setValueByChoice(D.series_filter),ft.style.marginTop=""==D.title&&""==D.subtitle?0:"10px",ft.style.display=D.series_filter_hidden?"none":null,ht=D.series_filter_text,dt=D.series_filter_none_text}var yt="$";function xt(){}function wt(t,e){var n=new xt;if(t instanceof xt)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var a,i=-1,r=t.length;if(null==e)for(;++i<r;)n.set(i,t[i]);else for(;++i<r;)n.set(e(a=t[i],i,t),a)}else if(t)for(var o in t)n.set(o,t[o]);return n}function Mt(){var h,d,e,p=[],o=[];function _(t,n,a,i){if(n>=p.length)return null!=h&&t.sort(h),null!=d?d(t):t;for(var e,r,o,s=-1,c=t.length,l=p[n++],f=wt(),u=a();++s<c;)(o=f.get(e=l(r=t[s])+""))?o.push(r):f.set(e,[r]);return f.each(function(t,e){i(u,e,_(t,n,a,i))}),u}return e={object:function(t){return _(t,0,kt,At)},map:function(t){return _(t,0,Et,Ct)},entries:function(t){return function n(t,a){if(++a>p.length)return t;var i,r=o[a-1];return null!=d&&a>=p.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:n(t,a)})})),null!=r?i.sort(function(t,e){return r(t.key,e.key)}):i}(_(t,0,Et,Ct),0)},key:function(t){return p.push(t),e},sortKeys:function(t){return o[p.length-1]=t,e},sortValues:function(t){return h=t,e},rollup:function(t){return d=t,e}}}function kt(){return{}}function At(t,e,n){t[e]=n}function Et(){return wt()}function Ct(t,e,n){t.set(e,n)}function St(){}xt.prototype=wt.prototype={constructor:xt,has:function(t){return yt+t in this},get:function(t){return this[yt+t]},set:function(t,e){return this[yt+t]=e,this},remove:function(t){var e=yt+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===yt&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===yt&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===yt&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===yt&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===yt&&++t;return t},empty:function(){for(var t in this)if(t[0]===yt)return!1;return!0},each:function(t){for(var e in this)e[0]===yt&&t(this[e],e.slice(1),this)}};var Tt=wt.prototype;function Lt(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}St.prototype=function(t,e){var n=new St;if(t instanceof St)t.each(function(t){n.add(t)});else if(t){var a=-1,i=t.length;if(null==e)for(;++a<i;)n.add(t[a]);else for(;++a<i;)n.add(e(t[a],a,t))}return n}.prototype={constructor:St,has:Tt.has,add:function(t){return this[yt+(t+="")]=t,this},remove:Tt.remove,clear:Tt.clear,values:Tt.keys,size:Tt.size,empty:Tt.empty,each:Tt.each};var It,Nt,Ot=(1===(It=Lt).length&&(Nt=It,It=function(t,e){return Lt(Nt(t),e)}),{left:function(t,e,n,a){for(null==n&&(n=0),null==a&&(a=t.length);n<a;){var i=n+a>>>1;It(t[i],e)<0?n=i+1:a=i}return n},right:function(t,e,n,a){for(null==n&&(n=0),null==a&&(a=t.length);n<a;){var i=n+a>>>1;0<It(t[i],e)?a=i:n=i+1}return n}}).right;var Pt,Ft,Dt,Rt,Bt,zt,qt,Ut,jt,Ht,Vt,Yt,Gt=Math.sqrt(50),Wt=Math.sqrt(10),Xt=Math.sqrt(2);function Zt(t,e,n){var a,i,r,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((a=e<t)&&(i=t,t=e,e=i),0===(o=$t(t,e,n))||!isFinite(o))return[];if(0<o)for(t=Math.ceil(t/o),e=Math.floor(e/o),r=new Array(i=Math.ceil(e-t+1));++s<i;)r[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),r=new Array(i=Math.ceil(t-e+1));++s<i;)r[s]=(t-s)/o;return a&&r.reverse(),r}function $t(t,e,n){var a=(e-t)/Math.max(0,n),i=Math.floor(Math.log(a)/Math.LN10),r=a/Math.pow(10,i);return 0<=i?(Gt<=r?10:Wt<=r?5:Xt<=r?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(Gt<=r?10:Wt<=r?5:Xt<=r?2:1)}function Kt(t,e){var n,a,i=t.length,r=-1;if(null==e){for(;++r<i;)if(null!=(n=t[r])&&n<=n)for(a=n;++r<i;)null!=(n=t[r])&&a<n&&(a=n)}else for(;++r<i;)if(null!=(n=e(t[r],r,t))&&n<=n)for(a=n;++r<i;)null!=(n=e(t[r],r,t))&&a<n&&(a=n);return a}function Qt(t,e){var n,a,i=t.length,r=-1;if(null==e){for(;++r<i;)if(null!=(n=t[r])&&n<=n)for(a=n;++r<i;)null!=(n=t[r])&&n<a&&(a=n)}else for(;++r<i;)if(null!=(n=e(t[r],r,t))&&n<=n)for(a=n;++r<i;)null!=(n=e(t[r],r,t))&&n<a&&(a=n);return a}function Jt(t){return""==t||void 0===t?NaN:+t.replace(Ft,"").replace(D.decimal_separator_in_data,".")}function te(t){if(""==t)return!1;if(t.match(/[/:]/))return!1;if(t.match(/\d\s*-/))return!1;var e=parseFloat(t.replace(/[$]/g,""));return isFinite(e)}function ee(t){if("number"==Pt.label_type){var e=Jt(t);return isNaN(e)?null:e}return""==t?null:t}function ne(){if(!h.data.processed||Dt!=rt.facets_show||D.decimal_separator_in_data!=Rt||D.series_filter.toString()!=zt||D.series_filter_enabled!=qt||D.max_series!=Bt){h.data.forEach(function(t,e){t.row_index=e}),Ft=new RegExp("[^-0-9eE"+D.decimal_separator_in_data+"]","g");for(var a={},t=0;t<D.series_filter.length;t++){var e=h.data.column_names.value.indexOf(D.series_filter[t]);a[e]=!0}var n,i,r=D.series_filter_enabled&&0<D.series_filter.length,d=h.data.map(function(t){var e=r?t.value.filter(function(t,e){return a[e]}):t.value,n={row_index:t.row_index,label:t.label,value:e.slice(0,D.max_series)};return t.hasOwnProperty("facet")&&(n.facet=t.facet),n});for(var o in d.column_names={},h.data.column_names)"value"!=o?d.column_names[o]=h.data.column_names[o]:d.column_names.value=h.data.column_names.value.filter(function(t,e){return!r||a[e]}).slice(0,D.max_series);if(Pt=[],rt.facet_by_series)for(var s=0;s<d.column_names.value.length;s++)Pt.push({key:d.column_names.value[s],values:d.slice()});else Pt=Mt().key(function(t){return t.facet||""}).entries(d),rt.facets_show||(Pt=[Pt[0]||{key:"",values:[]}]);Pt.label_type=function(t,e){for(var n=0,a=0,i=0;i<10&&t.length!=i;i++)te(t[i][e])?n++:a++;return a<n?"number":"discrete"}(d,"label"),Pt.label_extent=[null,null],"number"==Pt.label_type&&(Pt.label_extent=function(t,e){var n,a,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n<=n)for(a=i=n;++o<r;)null!=(n=t[o])&&(n<a&&(a=n),i<n&&(i=n))}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n<=n)for(a=i=n;++o<r;)null!=(n=e(t[o],o,t))&&(n<a&&(a=n),i<n&&(i=n));return[a,i]}(d,function(t){return Jt(t.label)})),void 0===(n=Qt(d,function(t){return Qt(t.value.map(function(t){return Jt(t)}))}))&&(n=0),void 0===(i=Kt(d,function(t){return Kt(t.value.map(function(t){return Jt(t)}))}))&&(i=Math.max(n+100,100)),Pt.value_extent=[n,i],Pt.value_extent_stack=[n,i],Pt.forEach(function(e,t){e.name=e.key,e.index=t,e.series=[],e.label_extent=Pt.label_extent.slice(),e.label_type=Pt.label_type,e.label_domain=e.values.map(function(t){return"number"==e.label_type?Jt(t.label):t.label}),e.dataset_value_extent_stack=Pt.value_extent_stack,e.dataset_value_extent=Pt.value_extent,e.value_extent=[0,0],e.value_extent_stack=[0,0];for(var n=rt.facet_by_series?t:0;n<(rt.facet_by_series?t+1:d.column_names.value.length);n++){d.column_names.value[n]||(d.column_names.value[n]="Series "+(n+1));for(var a={name:d.column_names.value[n],index:n,data_points:[],data_points_stack:[],data_points_stack_prop:[],data_points_positive_sum:0,data_point_stack_max:0},i=0;i<e.values.length;i++){var r=ee((s=e.values[i]).label),o=Jt(s.value[n]);null==r||isNaN(o)||(a.data_points.push({label:r,value:o,series:n,index:i,facet:e,row_index:s.row_index}),o<e.value_extent[0]&&(e.value_extent[0]=o),o>e.value_extent[1]&&(e.value_extent[1]=o),0<o&&(a.data_points_positive_sum+=o))}e.series.push(a)}for(i=0;i<e.values.length;i++){var s=e.values[i],c=0,l=0,f=0;for(n=rt.facet_by_series?t:0;n<(rt.facet_by_series?t+1:d.column_names.value.length);n++)f+=Math.max(0,Jt(s.value[n])||0);var u=100/f;for(n=rt.facet_by_series?t:0;n<(rt.facet_by_series?t+1:d.column_names.value.length);n++){r=ee(s.label);var h=(o=Jt(s.value[n])||0)<0?l:c;if(null!=r)(a=e.series[rt.facet_by_series?0:n]).data_points_stack.push({label:r,value:h+o,value_base:h,series:n,index:i,facet:e,row_index:s.row_index}),isFinite(u)&&a.data_points_stack_prop.push({label:r,value:u*(Math.max(0,o)+c),value_base:u*c,series:n,index:i,facet:e,row_index:s.row_index}),o<0?l+=o:c+=o,l<e.value_extent_stack[0]&&(e.value_extent_stack[0]=l),c>e.value_extent_stack[1]&&(e.value_extent_stack[1]=c),l<Pt.value_extent_stack[0]&&(Pt.value_extent_stack[0]=l),c>Pt.value_extent_stack[1]&&(Pt.value_extent_stack[1]=c)}}});var c=Kt(Pt,function(t){return Kt(t.series.map(function(t){return t.data_points_positive_sum}))});Pt.forEach(function(t){return t.dataset_max_series_sum=c,t}),Pt.series_names=d.column_names.value.map(function(t,e){return t||"Series "+e});var l={};for(var f in Pt.row_names=[],d.forEach(function(t){l[t.label]||(l[t.label]=!0)}),l)Pt.row_names.push(f);var u=[];Pt.forEach(function(e){e.series.forEach(function(t){t.facet=e,u.push(t)})}),Pt.series=u.slice(0,D.max_series),Dt=rt.facets_show,Rt=D.decimal_separator_in_data,zt=D.series_filter.toString(),qt=D.series_filter_enabled,Bt=D.max_series,h.data.processed=!0}}var ae={footer_source_label_other:!1,footer_source_label:"Source: ",footer_source_name:"",footer_source_url:"",footer_source_name_2:"",footer_source_url_2:"",footer_source_name_3:"",footer_source_url_3:"",footer_note:"",footer_size:"12",footer_color:"#aaaaaa",footer_align:"left",footer_margin:"10",footer_margin_advanced:!1,footer_margin_top:10,footer_margin_right:10,footer_margin_bottom:0,footer_margin_left:10};function ie(t,e){var n;Yt=e,function(){for(var t in ae)Yt[t]||(Yt[t]=ae[t])}(),(Ut=document.createElement("div")).className="flourish-footer",(jt=document.createElement("p")).className="flourish-footer-source",(Ht=document.createElement("p")).className="flourish-footer-note",Ut.appendChild(jt),Ut.appendChild(Ht),t.appendChild(Ut),(n=document.createElement("style")).type="text/css",n.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a {color: inherit; } .flourish-footer .flourish-footer-note {margin-left: 3px; }",document.body.appendChild(n)}function re(){var t=[{name:Yt.footer_source_name,url:Yt.footer_source_url},{name:Yt.footer_multiple_sources?Yt.footer_source_name_2:"",url:Yt.footer_multiple_sources?Yt.footer_source_url_2:""},{name:Yt.footer_multiple_sources?Yt.footer_source_name_3:"",url:Yt.footer_multiple_sources?Yt.footer_source_url_3:""}].filter(function(t){return t.name||t.url});Vt=0<t.length,Ut.style.height=Vt?null:0,Ut.style.margin=Vt?Yt.footer_margin_advanced?Yt.footer_margin_top+"px "+Yt.footer_margin_right+"px "+Yt.footer_margin_bottom+"px "+Yt.footer_margin_left+"px":Yt.footer_margin+"px "+Yt.footer_margin+"px 0 "+Yt.footer_margin+"px":0,Ut.style.fontSize=Yt.footer_size+"px",Ut.style.textAlign=Yt.footer_align,Ut.style.color=Yt.footer_color;var r=document.createElement("span");t.forEach(function(t,e){var n,a=document.createElement("p");if(0<e&&(a.innerText=", "),t.url){var i=document.createElement("a");i.innerText=t.name||t.url,i.href=0!==(n=t.url).indexOf("http://")&&0!==n.indexOf("https://")?"http://"+n:n,i.target="_blank",a.appendChild(i)}else a.innerText+=t.name||t.url;r.appendChild(a)}),jt.innerHTML=""!==r.innerHTML?Yt.footer_source_label+" "+r.outerHTML:"",Ht.innerHTML=Yt.footer_note?(""!==r.innerHTML?" ":"")+Yt.footer_note:""}function oe(){return Ut.getBoundingClientRect().height+function(){if(!Vt)return 0;return Yt.footer_margin_advanced?Yt.footer_margin_top+Yt.footer_margin_bottom:+Yt.footer_margin}()}var se={value:function(){}};function ce(){for(var t,e=arguments,n=0,a=arguments.length,i={};n<a;++n){if(!(t=e[n]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new le(i)}function le(t){this._=t}function fe(t,e){for(var n,a=0,i=t.length;a<i;++a)if((n=t[a]).name===e)return n.value}function ue(t,e,n){for(var a=0,i=t.length;a<i;++a)if(t[a].name===e){t[a]=se,t=t.slice(0,a).concat(t.slice(a+1));break}return null!=n&&t.push({name:e,value:n}),t}le.prototype=ce.prototype={constructor:le,on:function(t,e){var n,a,i=this._,r=(a=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!a.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=ue(i[n],t.name,e);else if(null==e)for(n in i)i[n]=ue(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=fe(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new le(t)},call:function(t,e){var n=arguments;if(0<(a=arguments.length-2))for(var a,i,r=new Array(a),o=0;o<a;++o)r[o]=n[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,a=(i=this._[t]).length;o<a;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],i=0,r=a.length;i<r;++i)a[i].value.apply(e,n)}};var he,de,pe=0,_e=0,be=0,ge=1e3,ve=0,me=0,ye=0,xe="object"==typeof performance&&performance.now?performance:Date,we="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Me(){return me||(we(ke),me=xe.now()+ye)}function ke(){me=0}function Ae(){this._call=this._time=this._next=null}function Ee(t,e,n){var a=new Ae;return a.restart(t,e,n),a}function Ce(){me=(ve=xe.now())+ye,pe=_e=0;try{!function(){Me(),++pe;for(var t,e=he;e;)0<=(t=me-e._time)&&e._call.call(null,t),e=e._next;--pe}()}finally{pe=0,function(){var t,e,n=he,a=1/0;for(;n;)n._call?(a>n._time&&(a=n._time),n=(t=n)._next):(e=n._next,n._next=null,n=t?t._next=e:he=e);de=t,Te(a)}(),me=0}}function Se(){var t=xe.now(),e=t-ve;ge<e&&(ye-=e,ve=t)}function Te(t){pe||(_e&&(_e=clearTimeout(_e)),24<t-me?(t<1/0&&(_e=setTimeout(Ce,t-xe.now()-ye)),be&&(be=clearInterval(be))):(be||(ve=xe.now(),be=setInterval(Se,ge)),pe=1,we(Ce)))}function Le(e,n,t){var a=new Ae;return n=null==n?0:+n,a.restart(function(t){a.stop(),e(t+n)},n,t),a}Ae.prototype=Ee.prototype={constructor:Ae,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Me():+n)+(null==e?0:+e),this._next||de===this||(de?de._next=this:he=this,de=this),this._call=t,this._time=n,Te()},stop:function(){this._call&&(this._call=null,this._time=1/0,Te())}};var Ie=ce("start","end","interrupt"),Ne=[],Oe=0,Pe=1,Fe=2,De=3,Re=4,Be=5,ze=6;function qe(t,e,n,a,i,r){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(r,o,s){var c,l=r.__transition;function f(t){var e,n,a,i;if(s.state!==Pe)return h();for(e in l)if((i=l[e]).name===s.name){if(i.state===De)return Le(f);i.state===Re?(i.state=ze,i.timer.stop(),i.on.call("interrupt",r,r.__data__,i.index,i.group),delete l[e]):+e<o&&(i.state=ze,i.timer.stop(),delete l[e])}if(Le(function(){s.state===De&&(s.state=Re,s.timer.restart(u,s.delay,s.time),u(t))}),s.state=Fe,s.on.call("start",r,r.__data__,s.index,s.group),s.state===Fe){for(s.state=De,c=new Array(a=s.tween.length),e=0,n=-1;e<a;++e)(i=s.tween[e].value.call(r,r.__data__,s.index,s.group))&&(c[++n]=i);c.length=n+1}}function u(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(h),s.state=Be,1),n=-1,a=c.length;++n<a;)c[n].call(null,e);s.state===Be&&(s.on.call("end",r,r.__data__,s.index,s.group),h())}function h(){for(var t in s.state=ze,s.timer.stop(),delete l[o],l)return;delete r.__transition}(l[o]=s).timer=Ee(function(t){s.state=Pe,s.timer.restart(f,s.delay,s.time),s.delay<=t&&f(t-s.delay)},0,s.time)}(t,n,{name:e,index:a,group:i,on:Ie,tween:Ne,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Oe})}function Ue(t,e){var n=He(t,e);if(n.state>Oe)throw new Error("too late; already scheduled");return n}function je(t,e){var n=He(t,e);if(n.state>Fe)throw new Error("too late; already started");return n}function He(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ve(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ye(t,e){var n=Object.create(t.prototype);for(var a in e)n[a]=e[a];return n}function Ge(){}var We=1/.7,Xe="\\s*([+-]?\\d+)\\s*",Ze="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$e="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ke=/^#([0-9a-f]{3})$/,Qe=/^#([0-9a-f]{6})$/,Je=new RegExp("^rgb\\("+[Xe,Xe,Xe]+"\\)$"),tn=new RegExp("^rgb\\("+[$e,$e,$e]+"\\)$"),en=new RegExp("^rgba\\("+[Xe,Xe,Xe,Ze]+"\\)$"),nn=new RegExp("^rgba\\("+[$e,$e,$e,Ze]+"\\)$"),an=new RegExp("^hsl\\("+[Ze,$e,$e]+"\\)$"),rn=new RegExp("^hsla\\("+[Ze,$e,$e,Ze]+"\\)$"),on={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function sn(t){var e;return t=(t+"").trim().toLowerCase(),(e=Ke.exec(t))?new hn((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Qe.exec(t))?cn(parseInt(e[1],16)):(e=Je.exec(t))?new hn(e[1],e[2],e[3],1):(e=tn.exec(t))?new hn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=en.exec(t))?ln(e[1],e[2],e[3],e[4]):(e=nn.exec(t))?ln(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=an.exec(t))?pn(e[1],e[2]/100,e[3]/100,1):(e=rn.exec(t))?pn(e[1],e[2]/100,e[3]/100,e[4]):on.hasOwnProperty(t)?cn(on[t]):"transparent"===t?new hn(NaN,NaN,NaN,0):null}function cn(t){return new hn(t>>16&255,t>>8&255,255&t,1)}function ln(t,e,n,a){return a<=0&&(t=e=n=NaN),new hn(t,e,n,a)}function fn(t){return t instanceof Ge||(t=sn(t)),t?new hn((t=t.rgb()).r,t.g,t.b,t.opacity):new hn}function un(t,e,n,a){return 1===arguments.length?fn(t):new hn(t,e,n,null==a?1:a)}function hn(t,e,n,a){this.r=+t,this.g=+e,this.b=+n,this.opacity=+a}function dn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function pn(t,e,n,a){return a<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new _n(t,e,n,a)}function _n(t,e,n,a){this.h=+t,this.s=+e,this.l=+n,this.opacity=+a}function bn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Ve(Ge,sn,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Ve(hn,un,Ye(Ge,{brighter:function(t){return t=null==t?We:Math.pow(We,t),new hn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new hn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+dn(this.r)+dn(this.g)+dn(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Ve(_n,function(t,e,n,a){return 1===arguments.length?function(t){if(t instanceof _n)return new _n(t.h,t.s,t.l,t.opacity);if(t instanceof Ge||(t=sn(t)),!t)return new _n;if(t instanceof _n)return t;var e=(t=t.rgb()).r/255,n=t.g/255,a=t.b/255,i=Math.min(e,n,a),r=Math.max(e,n,a),o=NaN,s=r-i,c=(r+i)/2;return s?(o=e===r?(n-a)/s+6*(n<a):n===r?(a-e)/s+2:(e-n)/s+4,s/=c<.5?r+i:2-r-i,o*=60):s=0<c&&c<1?0:o,new _n(o,s,c,t.opacity)}(t):new _n(t,e,n,null==a?1:a)},Ye(Ge,{brighter:function(t){return t=null==t?We:Math.pow(We,t),new _n(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new _n(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*e,i=2*n-a;return new hn(bn(240<=t?t-240:t+120,i,a),bn(t,i,a),bn(t<120?t+240:t-120,i,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var gn=Math.PI/180,vn=180/Math.PI,mn=.96422,yn=1,xn=.82521,wn=4/29,Mn=6/29,kn=3*Mn*Mn,An=Mn*Mn*Mn;function En(t){if(t instanceof Cn)return new Cn(t.l,t.a,t.b,t.opacity);if(t instanceof Nn){if(isNaN(t.h))return new Cn(t.l,0,0,t.opacity);var e=t.h*gn;return new Cn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof hn||(t=fn(t));var n,a,i=In(t.r),r=In(t.g),o=In(t.b),s=Sn((.2225045*i+.7168786*r+.0606169*o)/yn);return i===r&&r===o?n=a=s:(n=Sn((.4360747*i+.3850649*r+.1430804*o)/mn),a=Sn((.0139322*i+.0971045*r+.7141733*o)/xn)),new Cn(116*s-16,500*(n-s),200*(s-a),t.opacity)}function Cn(t,e,n,a){this.l=+t,this.a=+e,this.b=+n,this.opacity=+a}function Sn(t){return An<t?Math.pow(t,1/3):t/kn+wn}function Tn(t){return Mn<t?t*t*t:kn*(t-wn)}function Ln(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function In(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Nn(t,e,n,a){this.h=+t,this.c=+e,this.l=+n,this.opacity=+a}Ve(Cn,function(t,e,n,a){return 1===arguments.length?En(t):new Cn(t,e,n,null==a?1:a)},Ye(Ge,{brighter:function(t){return new Cn(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Cn(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new hn(Ln(3.1338561*(e=mn*Tn(e))-1.6168667*(t=yn*Tn(t))-.4906146*(n=xn*Tn(n))),Ln(-.9787684*e+1.9161415*t+.033454*n),Ln(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ve(Nn,function(t,e,n,a){return 1===arguments.length?function(t){if(t instanceof Nn)return new Nn(t.h,t.c,t.l,t.opacity);if(t instanceof Cn||(t=En(t)),0===t.a&&0===t.b)return new Nn(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*vn;return new Nn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Nn(t,e,n,null==a?1:a)},Ye(Ge,{brighter:function(t){return new Nn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Nn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return En(this).rgb()}}));var On=1.78277,Pn=-.29227,Fn=-.90649,Dn=1.97294,Rn=Dn*Fn,Bn=Dn*On,zn=On*Pn- -.14861*Fn;function qn(t,e,n,a){return 1===arguments.length?function(t){if(t instanceof Un)return new Un(t.h,t.s,t.l,t.opacity);t instanceof hn||(t=fn(t));var e=t.r/255,n=t.g/255,a=t.b/255,i=(zn*a+Rn*e-Bn*n)/(zn+Rn-Bn),r=a-i,o=(Dn*(n-i)-Pn*r)/Fn,s=Math.sqrt(o*o+r*r)/(Dn*i*(1-i)),c=s?Math.atan2(o,r)*vn-120:NaN;return new Un(c<0?c+360:c,s,i,t.opacity)}(t):new Un(t,e,n,null==a?1:a)}function Un(t,e,n,a){this.h=+t,this.s=+e,this.l=+n,this.opacity=+a}function jn(t){return function(){return t}}function Hn(e,n){return function(t){return e+t*n}}function Vn(r){return 1==(r=+r)?Yn:function(t,e){return e-t?(n=t,a=e,i=r,n=Math.pow(n,i),a=Math.pow(a,i)-n,i=1/i,function(t){return Math.pow(n+t*a,i)}):jn(isNaN(t)?e:t);var n,a,i}}function Yn(t,e){var n=e-t;return n?Hn(t,n):jn(isNaN(t)?e:t)}Ve(Un,qn,Ye(Ge,{brighter:function(t){return t=null==t?We:Math.pow(We,t),new Un(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Un(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*gn,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),a=Math.cos(t),i=Math.sin(t);return new hn(255*(e+n*(-.14861*a+On*i)),255*(e+n*(Pn*a+Fn*i)),255*(e+n*(Dn*a)),this.opacity)}}));var Gn=function t(e){var o=Vn(e);function n(e,t){var n=o((e=un(e)).r,(t=un(t)).r),a=o(e.g,t.g),i=o(e.b,t.b),r=Yn(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=r(t),e+""}}return n.gamma=t,n}(1);var Wn,Xn=(Wn=function(l){var f=l.length-1;return function(t){var e,n,a,i=t<=0?t=0:1<=t?f-(t=1):Math.floor(t*f),r=l[i],o=l[i+1],s=0<i?l[i-1]:2*r-o,c=i<f-1?l[i+2]:2*o-r;return((1-3*(e=(t-i/f)*f)+3*(n=e*e)-(a=n*e))*s+(4-6*n+3*a)*r+(1+3*e+3*n-3*a)*o+a*c)/6}},function(t){var e,n,a=t.length,i=new Array(a),r=new Array(a),o=new Array(a);for(e=0;e<a;++e)n=un(t[e]),i[e]=n.r||0,r[e]=n.g||0,o[e]=n.b||0;return i=Wn(i),r=Wn(r),o=Wn(o),n.opacity=1,function(t){return n.r=i(t),n.g=r(t),n.b=o(t),n+""}});function Zn(e,n){return n-=e=+e,function(t){return e+n*t}}var $n=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kn=new RegExp($n.source,"g");function Qn(t,a){var e,n,i,r,o,s=$n.lastIndex=Kn.lastIndex=0,c=-1,l=[],f=[];for(t+="",a+="";(e=$n.exec(t))&&(n=Kn.exec(a));)(i=n.index)>s&&(i=a.slice(s,i),l[c]?l[c]+=i:l[++c]=i),(e=e[0])===(n=n[0])?l[c]?l[c]+=n:l[++c]=n:(l[++c]=null,f.push({i:c,x:Zn(e,n)})),s=Kn.lastIndex;return s<a.length&&(i=a.slice(s),l[c]?l[c]+=i:l[++c]=i),l.length<2?f[0]?(o=f[0].x,function(t){return o(t)+""}):(r=a,function(){return r}):(a=f.length,function(t){for(var e,n=0;n<a;++n)l[(e=f[n]).i]=e.x(t);return l.join("")})}function Jn(t,e){var n,a=typeof e;return null==e||"boolean"===a?jn(e):("number"===a?Zn:"string"===a?(n=sn(e))?(e=n,Gn):Qn:e instanceof sn?Gn:e instanceof Date?function(e,n){var a=new Date;return n-=e=+e,function(t){return a.setTime(e+n*t),a}}:Array.isArray(e)?function(t,e){var n,a=e?e.length:0,i=t?Math.min(a,t.length):0,r=new Array(i),o=new Array(a);for(n=0;n<i;++n)r[n]=Jn(t[n],e[n]);for(;n<a;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=r[n](t);return o}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,a={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?a[n]=Jn(t[n],e[n]):i[n]=e[n];return function(t){for(n in a)i[n]=a[n](t);return i}}:Zn)(t,e)}function ta(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}}var ea,na,aa,ia,ra=180/Math.PI,oa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sa(t,e,n,a,i,r){var o,s,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*a)&&(n-=t*c,a-=e*c),(s=Math.sqrt(n*n+a*a))&&(n/=s,a/=s,c/=s),t*a<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*ra,skewX:Math.atan(c)*ra,scaleX:o,scaleY:s}}function ca(h,d,p,_){function b(t){return t.length?t.pop()+" ":""}return function(t,e){var n,a,i,r,o,s,c,l,f=[],u=[];return t=h(t),e=h(e),function(t,e,n,a,i,r){if(t!==n||e!==a){var o=i.push("translate(",null,d,null,p);r.push({i:o-4,x:Zn(t,n)},{i:o-2,x:Zn(e,a)})}else(n||a)&&i.push("translate("+n+d+a+p)}(t.translateX,t.translateY,e.translateX,e.translateY,f,u),n=t.rotate,a=e.rotate,i=f,r=u,n!==a?(180<n-a?a+=360:180<a-n&&(n+=360),r.push({i:i.push(b(i)+"rotate(",null,_)-2,x:Zn(n,a)})):a&&i.push(b(i)+"rotate("+a+_),o=t.skewX,s=e.skewX,c=f,l=u,o!==s?l.push({i:c.push(b(c)+"skewX(",null,_)-2,x:Zn(o,s)}):s&&c.push(b(c)+"skewX("+s+_),function(t,e,n,a,i,r){if(t!==n||e!==a){var o=i.push(b(i)+"scale(",null,",",null,")");r.push({i:o-4,x:Zn(t,n)},{i:o-2,x:Zn(e,a)})}else 1===n&&1===a||i.push(b(i)+"scale("+n+","+a+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,f,u),t=e=null,function(t){for(var e,n=-1,a=u.length;++n<a;)f[(e=u[n]).i]=e.x(t);return f.join("")}}}var la=ca(function(t){return"none"===t?oa:(ea||(ea=document.createElement("DIV"),na=document.documentElement,aa=document.defaultView),ea.style.transform=t,t=aa.getComputedStyle(na.appendChild(ea),null).getPropertyValue("transform"),na.removeChild(ea),sa(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),fa=ca(function(t){return null==t?oa:(ia||(ia=document.createElementNS("http://www.w3.org/2000/svg","g")),ia.setAttribute("transform",t),(t=ia.transform.baseVal.consolidate())?sa((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):oa)},", ",")",")");Math.SQRT2;function ua(s){return function t(o){function e(e,t){var n=s((e=qn(e)).h,(t=qn(t)).h),a=Yn(e.s,t.s),i=Yn(e.l,t.l),r=Yn(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=a(t),e.l=i(Math.pow(t,o)),e.opacity=r(t),e+""}}return o=+o,e.gamma=t,e}(1)}ua(function(t,e){var n=e-t;return n?Hn(t,180<n||n<-180?n-360*Math.round(n/360):n):jn(isNaN(t)?e:t)});var ha=ua(Yn);function da(t,e,n){var a=t._id;return t.each(function(){var t=je(this,a);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return He(t,a).value[e]}}function pa(t,e){var n;return("number"==typeof e?Zn:e instanceof sn?Gn:(n=sn(e))?(e=n,Gn):Qn)(t,e)}var _a=Y.prototype.constructor;var ba=0;function ga(t,e,n,a){this._groups=t,this._parents=e,this._name=n,this._id=a}function va(){return++ba}var ma=Y.prototype;ga.prototype=function(t){return Y().transition(t)}.prototype={constructor:ga,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=d(t));for(var a=this._groups,i=a.length,r=new Array(i),o=0;o<i;++o)for(var s,c,l=a[o],f=l.length,u=r[o]=new Array(f),h=0;h<f;++h)(s=l[h])&&(c=t.call(s,s.__data__,h,l))&&("__data__"in s&&(c.__data__=s.__data__),u[h]=c,qe(u[h],e,n,h,u,He(s,n)));return new ga(r,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=g(t));for(var a=this._groups,i=a.length,r=[],o=[],s=0;s<i;++s)for(var c,l=a[s],f=l.length,u=0;u<f;++u)if(c=l[u]){for(var h,d=t.call(c,c.__data__,u,l),p=He(c,n),_=0,b=d.length;_<b;++_)(h=d[_])&&qe(h,e,n,_,d,p);r.push(d),o.push(c)}return new ga(r,o,e,n)},filter:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,a=new Array(n),i=0;i<n;++i)for(var r,o=e[i],s=o.length,c=a[i]=[],l=0;l<s;++l)(r=o[l])&&t.call(r,r.__data__,l,o)&&c.push(r);return new ga(a,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,a=e.length,i=n.length,r=Math.min(a,i),o=new Array(a),s=0;s<r;++s)for(var c,l=e[s],f=n[s],u=l.length,h=o[s]=new Array(u),d=0;d<u;++d)(c=l[d]||f[d])&&(h[d]=c);for(;s<a;++s)o[s]=e[s];return new ga(o,this._parents,this._name,this._id)},selection:function(){return new _a(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=va(),a=this._groups,i=a.length,r=0;r<i;++r)for(var o,s=a[r],c=s.length,l=0;l<c;++l)if(o=s[l]){var f=He(o,e);qe(o,t,n,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ga(a,this._parents,t,n)},call:ma.call,nodes:ma.nodes,node:ma.node,size:ma.size,empty:ma.empty,each:ma.each,on:function(t,e){var n,a,i,r,o,s,c=this._id;return arguments.length<2?He(this.node(),c).on.on(t):this.each((n=c,i=e,s=((a=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?Ue:je,function(){var t=s(this,n),e=t.on;e!==r&&(o=(r=e).copy()).on(a,i),t.on=o}))},attr:function(t,e){var n=r(t),a="transform"===n?fa:pa;return this.attrTween(t,"function"==typeof e?(n.local?function(n,a,i){var r,o,s;return function(){var t,e=i(this);if(null!=e)return(t=this.getAttributeNS(n.space,n.local))===e?null:t===r&&e===o?s:s=a(r=t,o=e);this.removeAttributeNS(n.space,n.local)}}:function(n,a,i){var r,o,s;return function(){var t,e=i(this);if(null!=e)return(t=this.getAttribute(n))===e?null:t===r&&e===o?s:s=a(r=t,o=e);this.removeAttribute(n)}})(n,a,da(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,a){var i,r;return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?r:r=n(i=t,a)}}:function(e,n,a){var i,r;return function(){var t=this.getAttribute(e);return t===a?null:t===i?r:r=n(i=t,a)}})(n,a,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var a=r(t);return this.tween(n,(a.local?function(a,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttributeNS(a.space,a.local,n(t))}}return e._value=t,e}:function(a,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttribute(a,n(t))}}return e._value=t,e})(a,e))},style:function(t,e,n){var a,i,r,o,s,c,l,f,u,h,d,p,_,b,g,v,m,y="transform"==(t+="")?la:pa;return null==e?this.styleTween(t,(_=t,b=y,function(){var t=x(this,_),e=(this.style.removeProperty(_),x(this,_));return t===e?null:t===g&&e===v?m:m=b(g=t,v=e)})).on("end.style."+t,(p=t,function(){this.style.removeProperty(p)})):this.styleTween(t,"function"==typeof e?(l=y,f=da(this,"style."+(c=t),e),function(){var t=x(this,c),e=f(this);return null==e&&(this.style.removeProperty(c),e=x(this,c)),t===e?null:t===u&&e===h?d:d=l(u=t,h=e)}):(a=t,i=y,r=e+"",function(){var t=x(this,a);return t===r?null:t===o?s:s=i(o=t,r)}),n)},styleTween:function(t,e,n){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==e)return this.tween(a,null);if("function"!=typeof e)throw new Error;return this.tween(a,function(a,t,i){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.style.setProperty(a,n(t),i)}}return e._value=t,e}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=da(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var a,i=He(this.node(),n).tween,r=0,o=i.length;r<o;++r)if((a=i[r]).name===t)return a.value;return null}return this.each((null==e?function(i,r){var o,s;return function(){var t=je(this,i),e=t.tween;if(e!==o)for(var n=0,a=(s=o=e).length;n<a;++n)if(s[n].name===r){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(r,o,s){var c,l;if("function"!=typeof s)throw new Error;return function(){var t=je(this,r),e=t.tween;if(e!==c){l=(c=e).slice();for(var n={name:o,value:s},a=0,i=l.length;a<i;++a)if(l[a].name===o){l[a]=n;break}a===i&&l.push(n)}t.tween=l}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Ue(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Ue(this,t).delay=e}})(e,t)):He(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){je(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){je(this,t).duration=e}})(e,t)):He(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){je(this,t).ease=e}}(e,t)):He(this.node(),e).ease}};Math.PI,Math.PI;var ya={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function xa(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ya.time=Me(),ya;return n}Y.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,a,i,r=t.__transition,o=!0;if(r){for(i in e=null==e?null:e+"",r)(n=r[i]).name===e?(a=n.state>Fe&&n.state<Be,n.state=ze,n.timer.stop(),a&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete r[i]):o=!1;o&&delete t.__transition}}(this,t)})},Y.prototype.transition=function(t){var e,n;t instanceof ga?(e=t._id,t=t._name):(e=va(),(n=ya).time=Me(),t=null==t?null:t+"");for(var a=this._groups,i=a.length,r=0;r<i;++r)for(var o,s=a[r],c=s.length,l=0;l<c;++l)(o=s[l])&&qe(o,t,e,l,s,n||xa(o,e));return new ga(a,this._parents,t,e)};var wa=Array.prototype,Ma=wa.map,ka=wa.slice,Aa={name:"implicit"};function Ea(){var r,o,t=function t(a){var r=wt(),o=[],i=Aa;function s(t){var e=t+"",n=r.get(e);if(!n){if(i!==Aa)return i;r.set(e,n=o.push(t))}return a[(n-1)%a.length]}return a=null==a?[]:ka.call(a),s.domain=function(t){if(!arguments.length)return o.slice();o=[],r=wt();for(var e,n,a=-1,i=t.length;++a<i;)r.has(n=(e=t[a])+"")||r.set(n,o.push(e));return s},s.range=function(t){return arguments.length?(a=ka.call(t),s):a.slice()},s.unknown=function(t){return arguments.length?(i=t,s):i},s.copy=function(){return t().domain(o).range(a).unknown(i)},s}().unknown(void 0),s=t.domain,c=t.range,l=[0,1],f=!1,u=0,h=0,d=.5;function e(){var t=s().length,e=l[1]<l[0],n=l[e-0],a=l[1-e];r=(a-n)/Math.max(1,t-u+2*h),f&&(r=Math.floor(r)),n+=(a-n-r*(t-u))*d,o=r*(1-u),f&&(n=Math.round(n),o=Math.round(o));var i=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var a=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),r=new Array(i);++a<i;)r[a]=t+a*n;return r}(t).map(function(t){return n+r*t});return c(e?i.reverse():i)}return delete t.unknown,t.domain=function(t){return arguments.length?(s(t),e()):s()},t.range=function(t){return arguments.length?(l=[+t[0],+t[1]],e()):l.slice()},t.rangeRound=function(t){return l=[+t[0],+t[1]],f=!0,e()},t.bandwidth=function(){return o},t.step=function(){return r},t.round=function(t){return arguments.length?(f=!!t,e()):f},t.padding=function(t){return arguments.length?(u=h=Math.max(0,Math.min(1,t)),e()):u},t.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),e()):u},t.paddingOuter=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.copy=function(){return Ea().domain(s()).range(l).round(f).paddingInner(u).paddingOuter(h).align(d)},e()}function Ca(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Ea().paddingInner(1))}function Sa(t){return function(){return t}}function Ta(t){return+t}var La=[0,1];function Ia(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:Sa(n)}function Na(t,e,n,a){var i=t[0],r=t[1],o=e[0],s=e[1];return r<i?(i=n(r,i),o=a(s,o)):(i=n(i,r),o=a(o,s)),function(t){return o(i(t))}}function Oa(n,t,e,a){var i=Math.min(n.length,t.length)-1,r=new Array(i),o=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=e(n[s],n[s+1]),o[s]=a(t[s],t[s+1]);return function(t){var e=Ot(n,t,1,i)-1;return o[e](r[e](t))}}function Pa(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Fa(e,n){var a,r,o,s=La,c=La,l=Jn,f=!1;function i(){return a=2<Math.min(s.length,c.length)?Oa:Na,r=o=null,t}function t(t){return(r||(r=a(s,c,f?(i=e,function(e,n){var a=i(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:a(t)}}):e,l)))(+t);var i}return t.invert=function(t){return(o||(o=a(c,s,Ia,f?(i=n,function(e,n){var a=i(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:a(t)}}):n)))(+t);var i},t.domain=function(t){return arguments.length?(s=Ma.call(t,Ta),i()):s.slice()},t.range=function(t){return arguments.length?(c=ka.call(t),i()):c.slice()},t.rangeRound=function(t){return c=ka.call(t),l=ta,i()},t.clamp=function(t){return arguments.length?(f=!!t,i()):f},t.interpolate=function(t){return arguments.length?(l=t,i()):l},i()}function Da(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,a=t.slice(0,n);return[1<a.length?a[0]+a.slice(2):a,+t.slice(n+1)]}function Ra(t){return(t=Da(Math.abs(t)))?t[1]:NaN}var Ba,za=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qa(t){return new Ua(t)}function Ua(t){if(!(e=za.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function ja(t,e){var n=Da(t,e);if(!n)return t+"";var a=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}qa.prototype=Ua.prototype,Ua.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ha={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ja(100*t,e)},r:ja,s:function(t,e){var n=Da(t,e);if(!n)return t+"";var a=n[0],i=n[1],r=i-(Ba=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=a.length;return r===o?a:o<r?a+new Array(r-o+1).join("0"):0<r?a.slice(0,r)+"."+a.slice(r):"0."+new Array(1-r).join("0")+Da(t,Math.max(0,e+r-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Va(t){return t}var Ya,Ga,Wa,Xa=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Za(t){var e,s,c,w=t.grouping&&t.thousands?(s=t.grouping,c=t.thousands,function(t,e){for(var n=t.length,a=[],i=0,r=s[0],o=0;0<n&&0<r&&(e<o+r+1&&(r=Math.max(1,e-o)),a.push(t.substring(n-=r,n+r)),!((o+=r+1)>e));)r=s[i=(i+1)%s.length];return a.reverse().join(c)}):Va,a=t.currency,M=t.decimal,k=t.numerals?(e=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}):Va,i=t.percent||"%";function o(t){var l=(t=qa(t)).fill,f=t.align,u=t.sign,e=t.symbol,h=t.zero,d=t.width,p=t.comma,_=t.precision,b=t.trim,g=t.type;"n"===g?(p=!0,g="g"):Ha[g]||(null==_&&(_=12),b=!0,g="g"),(h||"0"===l&&"="===f)&&(h=!0,l="0",f="=");var v="$"===e?a[0]:"#"===e&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",m="$"===e?a[1]:/[%p]/.test(g)?i:"",y=Ha[g],x=/[defgprs%]/.test(g);function n(t){var e,n,a,i=v,r=m;if("c"===g)r=y(t)+r,t="";else{var o=(t=+t)<0;if(t=y(Math.abs(t),_),b&&(t=function(t){t:for(var e,n=t.length,a=1,i=-1;a<n;++a)switch(t[a]){case".":i=e=a;break;case"0":0===i&&(i=a),e=a;break;default:if(0<i){if(!+t[a])break t;i=0}}return 0<i?t.slice(0,i)+t.slice(e+1):t}(t)),o&&0==+t&&(o=!1),i=(o?"("===u?u:"-":"-"===u||"("===u?"":u)+i,r=("s"===g?Xa[8+Ba/3]:"")+r+(o&&"("===u?")":""),x)for(e=-1,n=t.length;++e<n;)if((a=t.charCodeAt(e))<48||57<a){r=(46===a?M+t.slice(e+1):t.slice(e))+r,t=t.slice(0,e);break}}p&&!h&&(t=w(t,1/0));var s=i.length+t.length+r.length,c=s<d?new Array(d-s+1).join(l):"";switch(p&&h&&(t=w(c+t,c.length?d-r.length:1/0),c=""),f){case"<":t=i+t+r+c;break;case"=":t=i+c+t+r;break;case"^":t=c.slice(0,s=c.length>>1)+i+t+r+c.slice(s);break;default:t=c+i+t+r}return k(t)}return _=null==_?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),n.toString=function(){return t+""},n}return{format:o,formatPrefix:function(t,e){var n=o(((t=qa(t)).type="f",t)),a=3*Math.max(-8,Math.min(8,Math.floor(Ra(e)/3))),i=Math.pow(10,-a),r=Xa[8+a/3];return function(t){return n(i*t)+r}}}}function $a(t){return Ya=Za(t),Ga=Ya.format,Wa=Ya.formatPrefix,Ya}function Ka(t,e,n){var a,i,r,o,s,c,l,f,u,h,d,p,_=t[0],b=t[t.length-1],g=(i=_,r=b,o=null==e?10:e,s=Math.abs(r-i)/Math.max(0,o),c=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),Gt<=(l=s/c)?c*=10:Wt<=l?c*=5:Xt<=l&&(c*=2),r<i?-c:c);switch((n=qa(null==n?",f":n)).type){case"s":var v=Math.max(Math.abs(_),Math.abs(b));return null!=n.precision||isNaN((d=g,p=v,a=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ra(p)/3)))-Ra(Math.abs(d)))))||(n.precision=a),Wa(n,v);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN((u=g,h=Math.max(Math.abs(_),Math.abs(b)),u=Math.abs(u),h=Math.abs(h)-u,a=Math.max(0,Ra(h)-Ra(u))+1))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN((f=g,a=Math.max(0,-Ra(Math.abs(f)))))||(n.precision=a-2*("%"===n.type))}return Ga(n)}function Qa(){var s,c,t=Fa(Ia,Zn);return t.copy=function(){return Pa(t,Qa())},c=(s=t).domain,s.ticks=function(t){var e=c();return Zt(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return Ka(c(),t,e)},s.nice=function(t){null==t&&(t=10);var e,n=c(),a=0,i=n.length-1,r=n[a],o=n[i];return o<r&&(e=r,r=o,o=e,e=a,a=i,i=e),0<(e=$t(r,o,t))?e=$t(r=Math.floor(r/e)*e,o=Math.ceil(o/e)*e,t):e<0&&(e=$t(r=Math.ceil(r*e)/e,o=Math.floor(o*e)/e,t)),0<e?(n[a]=Math.floor(r/e)*e,n[i]=Math.ceil(o/e)*e,c(n)):e<0&&(n[a]=Math.ceil(r*e)/e,n[i]=Math.floor(o*e)/e,c(n)),s},s}function Ja(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:Sa(n)}function ti(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function ei(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ni(e){return 10===e?ei:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function ai(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function ii(e){return function(t){return-e(-t)}}$a({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var ri=new Date,oi=new Date;function si(r,o,n,a){function s(t){return r(t=new Date(+t)),t}return(s.floor=s).ceil=function(t){return r(t=new Date(t-1)),o(t,1),r(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return o(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var a,i=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(a=new Date(+t)),o(t,n),r(t),a<t&&t<e;);return i},s.filter=function(n){return si(function(t){if(t<=t)for(;r(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;o(t,-1),!n(t););else for(;0<=--e;)for(;o(t,1),!n(t););})},n&&(s.count=function(t,e){return ri.setTime(+t),oi.setTime(+e),r(ri),r(oi),Math.floor(n(ri,oi))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(a?function(t){return a(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var ci=si(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});ci.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?si(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):ci:null};ci.range;var li=6e4,fi=36e5,ui=(si(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}).range,si(function(t){t.setTime(Math.floor(t/li)*li)},function(t,e){t.setTime(+t+e*li)},function(t,e){return(e-t)/li},function(t){return t.getMinutes()}).range,si(function(t){var e=t.getTimezoneOffset()*li%fi;e<0&&(e+=fi),t.setTime(Math.floor((+t-e)/fi)*fi+e)},function(t,e){t.setTime(+t+e*fi)},function(t,e){return(e-t)/fi},function(t){return t.getHours()}).range,si(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*li)/864e5},function(t){return t.getDate()-1}));ui.range;function hi(e){return si(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*li)/6048e5})}var di=hi(0),pi=hi(1),_i=(hi(2),hi(3),hi(4)),bi=(hi(5),hi(6),di.range,si(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}).range,si(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));bi.every=function(n){return isFinite(n=Math.floor(n))&&0<n?si(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};bi.range,si(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*li)},function(t,e){return(e-t)/li},function(t){return t.getUTCMinutes()}).range,si(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*fi)},function(t,e){return(e-t)/fi},function(t){return t.getUTCHours()}).range;var gi=si(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});gi.range;function vi(e){return si(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var mi=vi(0),yi=vi(1),xi=(vi(2),vi(3),vi(4)),wi=(vi(5),vi(6),mi.range,si(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}).range,si(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));wi.every=function(n){return isFinite(n=Math.floor(n))&&0<n?si(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};wi.range;function Mi(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ki(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ai(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Ei,Ci,Si,Ti={"-":"",_:" ",0:"0"},Li=/^\s*\d+/,Ii=/^%/,Ni=/[\\^$*+?|[\]().{}]/g;function Oi(t,e,n){var a=t<0?"-":"",i=(a?-t:t)+"",r=i.length;return a+(r<n?new Array(n-r+1).join(e)+i:i)}function Pi(t){return t.replace(Ni,"\\$&")}function Fi(t){return new RegExp("^(?:"+t.map(Pi).join("|")+")","i")}function Di(t){for(var e={},n=-1,a=t.length;++n<a;)e[t[n].toLowerCase()]=n;return e}function Ri(t,e,n){var a=Li.exec(e.slice(n,n+1));return a?(t.w=+a[0],n+a[0].length):-1}function Bi(t,e,n){var a=Li.exec(e.slice(n,n+1));return a?(t.u=+a[0],n+a[0].length):-1}function zi(t,e,n){var a=Li.exec(e.slice(n,n+2));return a?(t.U=+a[0],n+a[0].length):-1}function qi(t,e,n){var a=Li.exec(e.slice(n,n+2));return a?(t.V=+a[0],n+a[0].length):-1}function Ui(t,e,n){var a=Li.exec(e.slice(n,n+2));return a?(t.W=+a[0],n+a[0].length):-1}function ji(t,e,n){var a=Li.exec(e.slice(n,n+4));return a?(t.y=+a[0],n+a[0].length):-1}function Hi(t,e,n){var a=Li.exec(e.slice(n,n+2));return a?(t.y=+a[0]+(68<+a[0]?1900:2e3),n+a[0].length):-1}function Vi(t,e,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function Yi(t,e,n){var a=Li.exec(e.slice(n,n+2));return a?(t.m=a[0]-1,n+a[0].length):-1}function Gi(t,e,n){var a=Li.exec(e.slice(n,n+2));return a?(t.d=+a[0],n+a[0].length):-1}function Wi(t,e,n){var a=Li.exec(e.slice(n,n+3));return a?(t.m=0,t.d=+a[0],n+a[0].length):-1}function Xi(t,e,n){var a=Li.exec(e.slice(n,n+2));return a?(t.H=+a[0],n+a[0].length):-1}function Zi(t,e,n){var a=Li.exec(e.slice(n,n+2));return a?(t.M=+a[0],n+a[0].length):-1}function $i(t,e,n){var a=Li.exec(e.slice(n,n+2));return a?(t.S=+a[0],n+a[0].length):-1}function Ki(t,e,n){var a=Li.exec(e.slice(n,n+3));return a?(t.L=+a[0],n+a[0].length):-1}function Qi(t,e,n){var a=Li.exec(e.slice(n,n+6));return a?(t.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function Ji(t,e,n){var a=Ii.exec(e.slice(n,n+1));return a?n+a[0].length:-1}function tr(t,e,n){var a=Li.exec(e.slice(n));return a?(t.Q=+a[0],n+a[0].length):-1}function er(t,e,n){var a=Li.exec(e.slice(n));return a?(t.Q=1e3*+a[0],n+a[0].length):-1}function nr(t,e){return Oi(t.getDate(),e,2)}function ar(t,e){return Oi(t.getHours(),e,2)}function ir(t,e){return Oi(t.getHours()%12||12,e,2)}function rr(t,e){return Oi(1+ui.count(bi(t),t),e,3)}function or(t,e){return Oi(t.getMilliseconds(),e,3)}function sr(t,e){return or(t,e)+"000"}function cr(t,e){return Oi(t.getMonth()+1,e,2)}function lr(t,e){return Oi(t.getMinutes(),e,2)}function fr(t,e){return Oi(t.getSeconds(),e,2)}function ur(t){var e=t.getDay();return 0===e?7:e}function hr(t,e){return Oi(di.count(bi(t),t),e,2)}function dr(t,e){var n=t.getDay();return t=4<=n||0===n?_i(t):_i.ceil(t),Oi(_i.count(bi(t),t)+(4===bi(t).getDay()),e,2)}function pr(t){return t.getDay()}function _r(t,e){return Oi(pi.count(bi(t),t),e,2)}function br(t,e){return Oi(t.getFullYear()%100,e,2)}function gr(t,e){return Oi(t.getFullYear()%1e4,e,4)}function vr(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+Oi(e/60|0,"0",2)+Oi(e%60,"0",2)}function mr(t,e){return Oi(t.getUTCDate(),e,2)}function yr(t,e){return Oi(t.getUTCHours(),e,2)}function xr(t,e){return Oi(t.getUTCHours()%12||12,e,2)}function wr(t,e){return Oi(1+gi.count(wi(t),t),e,3)}function Mr(t,e){return Oi(t.getUTCMilliseconds(),e,3)}function kr(t,e){return Mr(t,e)+"000"}function Ar(t,e){return Oi(t.getUTCMonth()+1,e,2)}function Er(t,e){return Oi(t.getUTCMinutes(),e,2)}function Cr(t,e){return Oi(t.getUTCSeconds(),e,2)}function Sr(t){var e=t.getUTCDay();return 0===e?7:e}function Tr(t,e){return Oi(mi.count(wi(t),t),e,2)}function Lr(t,e){var n=t.getUTCDay();return t=4<=n||0===n?xi(t):xi.ceil(t),Oi(xi.count(wi(t),t)+(4===wi(t).getUTCDay()),e,2)}function Ir(t){return t.getUTCDay()}function Nr(t,e){return Oi(yi.count(wi(t),t),e,2)}function Or(t,e){return Oi(t.getUTCFullYear()%100,e,2)}function Pr(t,e){return Oi(t.getUTCFullYear()%1e4,e,4)}function Fr(){return"+0000"}function Dr(){return"%"}function Rr(t){return+t}function Br(t){return Math.floor(+t/1e3)}Ei=function(t){var a=t.dateTime,i=t.date,r=t.time,e=t.periods,n=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,l=Fi(e),f=Di(e),u=Fi(n),h=Di(n),d=Fi(o),p=Di(o),_=Fi(s),b=Di(s),g=Fi(c),v=Di(c),m={a:function(t){return o[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:nr,e:nr,f:sr,H:ar,I:ir,j:rr,L:or,m:cr,M:lr,p:function(t){return e[+(12<=t.getHours())]},Q:Rr,s:Br,S:fr,u:ur,U:hr,V:dr,w:pr,W:_r,x:null,X:null,y:br,Y:gr,Z:vr,"%":Dr},y={a:function(t){return o[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:mr,e:mr,f:kr,H:yr,I:xr,j:wr,L:Mr,m:Ar,M:Er,p:function(t){return e[+(12<=t.getUTCHours())]},Q:Rr,s:Br,S:Cr,u:Sr,U:Tr,V:Lr,w:Ir,W:Nr,x:null,X:null,y:Or,Y:Pr,Z:Fr,"%":Dr},x={a:function(t,e,n){var a=d.exec(e.slice(n));return a?(t.w=p[a[0].toLowerCase()],n+a[0].length):-1},A:function(t,e,n){var a=u.exec(e.slice(n));return a?(t.w=h[a[0].toLowerCase()],n+a[0].length):-1},b:function(t,e,n){var a=g.exec(e.slice(n));return a?(t.m=v[a[0].toLowerCase()],n+a[0].length):-1},B:function(t,e,n){var a=_.exec(e.slice(n));return a?(t.m=b[a[0].toLowerCase()],n+a[0].length):-1},c:function(t,e,n){return k(t,a,e,n)},d:Gi,e:Gi,f:Qi,H:Xi,I:Xi,j:Wi,L:Ki,m:Yi,M:Zi,p:function(t,e,n){var a=l.exec(e.slice(n));return a?(t.p=f[a[0].toLowerCase()],n+a[0].length):-1},Q:tr,s:er,S:$i,u:Bi,U:zi,V:qi,w:Ri,W:Ui,x:function(t,e,n){return k(t,i,e,n)},X:function(t,e,n){return k(t,r,e,n)},y:Hi,Y:ji,Z:Vi,"%":Ji};function w(c,l){return function(t){var e,n,a,i=[],r=-1,o=0,s=c.length;for(t instanceof Date||(t=new Date(+t));++r<s;)37===c.charCodeAt(r)&&(i.push(c.slice(o,r)),null!=(n=Ti[e=c.charAt(++r)])?e=c.charAt(++r):n="e"===e?" ":"0",(a=l[e])&&(e=a(t,n)),i.push(e),o=r+1);return i.push(c.slice(o,r)),i.join("")}}function M(i,r){return function(t){var e,n,a=Ai(1900);if(k(a,i,t+="",0)!=t.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||53<a.V)return null;"w"in a||(a.w=1),"Z"in a?(e=4<(n=(e=ki(Ai(a.y))).getUTCDay())||0===n?yi.ceil(e):yi(e),e=gi.offset(e,7*(a.V-1)),a.y=e.getUTCFullYear(),a.m=e.getUTCMonth(),a.d=e.getUTCDate()+(a.w+6)%7):(e=4<(n=(e=r(Ai(a.y))).getDay())||0===n?pi.ceil(e):pi(e),e=ui.offset(e,7*(a.V-1)),a.y=e.getFullYear(),a.m=e.getMonth(),a.d=e.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),n="Z"in a?ki(Ai(a.y)).getUTCDay():r(Ai(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(n+5)%7:a.w+7*a.U-(n+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,ki(a)):r(a)}}function k(t,e,n,a){for(var i,r,o=0,s=e.length,c=n.length;o<s;){if(c<=a)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(r=x[i in Ti?e.charAt(o++):i])||(a=r(t,n,a))<0)return-1}else if(i!=n.charCodeAt(a++))return-1}return a}return m.x=w(i,m),m.X=w(r,m),m.c=w(a,m),y.x=w(i,y),y.X=w(r,y),y.c=w(a,y),{format:function(t){var e=w(t+="",m);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",Mi);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",y);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t,ki);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ei.format,Ei.parse,Ci=Ei.utcFormat,Si=Ei.utcParse;var zr="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Ci(zr);+new Date("2000-01-01T00:00:00.000Z")||Si(zr);function qr(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}qr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),qr("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),qr("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");var Ur=qr("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");ha(qn(300,.5,0),qn(-240,.5,1));ha(qn(-100,.75,.35),qn(80,1.5,.8)),ha(qn(260,.75,.35),qn(80,1.5,.8)),qn();function jr(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}jr(qr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));jr(qr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),jr(qr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),jr(qr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Hr(t){for(var e=t.length/6|0,n=new Array(e),a=0;a<e;)n[a]="#"+t.slice(6*a,6*++a);return n}Hr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var Vr=Hr("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Yr=Hr("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Gr=Hr("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Wr=Hr("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Xr=Hr("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Zr=Hr("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),$r=Hr("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Kr=Hr("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function Qr(t){return Xn(t[t.length-1])}var Jr=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Hr);Qr(Jr);var to=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Hr);Qr(to);var eo=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Hr);Qr(eo);var no=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Hr);Qr(no);var ao=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Hr);Qr(ao);var io=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Hr);Qr(io);var ro=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Hr);Qr(ro);var oo=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Hr);Qr(oo);var so=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Hr);Qr(so);var co=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Hr);Qr(co);var lo=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Hr);Qr(lo);var fo=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Hr);Qr(fo);var uo=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Hr);Qr(uo);var ho=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Hr);Qr(ho);var po=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Hr);Qr(po);var _o=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Hr);Qr(_o);var bo=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Hr);Qr(bo);var go=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Hr);Qr(go);var vo=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Hr);Qr(vo);var mo=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Hr);Qr(mo);var yo=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Hr);Qr(yo);var xo=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Hr);Qr(xo);var wo=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Hr);Qr(wo);var Mo=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Hr);Qr(Mo);var ko=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Hr);Qr(ko);var Ao=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Hr);Qr(Ao);var Eo=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Hr);Qr(Eo),ha(qn(300,.5,0),qn(-240,.5,1));ha(qn(-100,.75,.35),qn(80,1.5,.8)),ha(qn(260,.75,.35),qn(80,1.5,.8)),qn(),un(),Math.PI,Math.PI;function Co(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}Co(Hr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Co(Hr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Co(Hr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Co(Hr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var So,To={flourish_default_1:["#1D6996","#EDAD08","#73AF48","#94346E","#38A6A5","#E17C05","#5F4690","#0F8554","#6F4070","#CC503E","#994E95","#666666"],flourish_default_2:["#11A579","#CC503E","#3969AC","#F2B701","#7F3C8D","#80BA5A","#E68310","#CF1C90","#008695","#F97B72","#4B4B8F","#A5AA99"],carto_rainbow:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#94346E","#6F4070","#994E95","#666666"],carto_pastel:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],carto_antique:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#A06177","#8C785D","#467378","#7C7C7C"]},Lo={schemeCategory20:Ur,schemeAccent:Vr,schemeDark2:Yr,schemePaired:Gr,schemePastel1:Wr,schemePastel2:Xr,schemeSet1:Zr,schemeSet2:$r,schemeSet3:Kr},Io={schemeBrBG:Jr,schemePRGn:to,schemePiYG:eo,schemePuOr:no,schemeRdBu:ao,schemeRdGy:io,schemeRdYlBu:ro,schemeRdYlGn:oo,schemeSpectral:so,schemeBuGn:co,schemeBuPu:lo,schemeGnBu:fo,schemeOrRd:uo,schemePuBuGn:ho,schemePuBu:po,schemePuRd:_o,schemeRdPu:bo,schemeYlGnBu:go,schemeYlGn:vo,schemeYlOrBr:mo,schemeYlOrRd:yo,schemeBlues:xo,schemeGreens:wo,schemeGreys:Mo,schemePurples:ko,schemeReds:Ao,schemeOranges:Eo};function No(){So=To[D.palette]?To[D.palette]:Lo[D.palette]?Lo[D.palette]:Io[D.palette]?Io[D.palette][Math.max(3,Math.min(8,Pt.series.length))]:""==D.palette.replace(/\s/g,"")?["#333"]:D.palette.replace(/\s/g,"").split(","),G("body").style("background-color","all"==D.bg_color_style?D.bg_color:null),function(){var t=[];!rt.legend_show||rt.facet_by_series&&"row"!==rt.legend_type||(t="row"===rt.legend_type?Pt.row_names:Pt.series_names);var e=G("#legend").selectAll(".series").data(t),n=e.enter().append("span").attr("class","series");n.append("span").attr("class","swatch"),n.append("span").attr("class","label");var a=e.merge(n);a.select(".swatch").style("background",function(t,e){return"row"===rt.legend_type?Po(e):Oo(e)}),a.select(".label").text(function(t){return t}),e.exit().remove()}()}function Oo(t){return So[t%So.length]}function Po(t){return So[t%So.length]}function Fo(t){for(var e,n,a=-1,i=t.length,r=t[i-1],o=r[0],s=r[1],c=0;++a<i;)e=o,n=s,e-=o=(r=t[a])[0],n-=s=r[1],c+=Math.sqrt(e*e+n*n);return c}var Do={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},Ro=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function Bo(t){return 48<=t&&t<=57}function zo(t){this.index=0,this.path=t,this.max=t.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function qo(t){for(;t.index<t.max&&(10===(e=t.path.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||5760<=e&&0<=Ro.indexOf(e));)t.index++;var e}function Uo(t){var e,n=t.index,a=n,i=t.max,r=!1,o=!1,s=!1,c=!1;if(i<=a)t.err="SvgPath: missed param (at pos "+a+")";else if(43!==(e=t.path.charCodeAt(a))&&45!==e||(e=++a<i?t.path.charCodeAt(a):0),Bo(e)||46===e){if(46!==e){if(r=48===e,e=++a<i?t.path.charCodeAt(a):0,r&&a<i&&e&&Bo(e))return void(t.err="SvgPath: numbers started with `0` such as `09` are ilegal (at pos "+n+")");for(;a<i&&Bo(t.path.charCodeAt(a));)a++,o=!0;e=a<i?t.path.charCodeAt(a):0}if(46===e){for(c=!0,a++;Bo(t.path.charCodeAt(a));)a++,s=!0;e=a<i?t.path.charCodeAt(a):0}if(101===e||69===e){if(c&&!o&&!s)return void(t.err="SvgPath: invalid float exponent (at pos "+a+")");if(43!==(e=++a<i?t.path.charCodeAt(a):0)&&45!==e||a++,!(a<i&&Bo(t.path.charCodeAt(a))))return void(t.err="SvgPath: invalid float exponent (at pos "+a+")");for(;a<i&&Bo(t.path.charCodeAt(a));)a++}t.index=a,t.param=parseFloat(t.path.slice(n,a))+0}else t.err="SvgPath: param should start with 0..9 or `.` (at pos "+a+")"}function jo(t){var e,n;n=(e=t.path[t.segmentStart]).toLowerCase();var a=t.data;if("m"===n&&2<a.length&&(t.result.push([e,a[0],a[1]]),a=a.slice(2),n="l",e="m"===e?"l":"L"),"r"===n)t.result.push([e].concat(a));else for(;a.length>=Do[n]&&(t.result.push([e].concat(a.splice(0,Do[n]))),Do[n]););}function Ho(t){var e,n,a,i=t.max;if(t.segmentStart=t.index,function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}(t.path.charCodeAt(t.index)))if(n=Do[t.path[t.index].toLowerCase()],t.index++,qo(t),t.data=[],n){for(e=!1;;){for(a=n;0<a;a--){if(Uo(t),t.err.length)return;t.data.push(t.param),qo(t),e=!1,t.index<i&&44===t.path.charCodeAt(t.index)&&(t.index++,qo(t),e=!0)}if(!e){if(t.index>=t.max)break;if(!(48<=(r=t.path.charCodeAt(t.index))&&r<=57||43===r||45===r||46===r))break}}var r;jo(t)}else jo(t);else t.err="SvgPath: bad command "+t.path[t.index]+" (at pos "+t.index+")"}var Vo=function(t){var e=new zo(t),n=e.max;for(qo(e);e.index<n&&!e.err.length;)Ho(e);return e.err.length?e.result=[]:e.result.length&&("mM".indexOf(e.result[0][0])<0?(e.err="SvgPath: string should start with `M` or `m`",e.result=[]):e.result[0][0]="M"),{err:e.err,segments:e.result}};function Yo(){if(!(this instanceof Yo))return new Yo;this.queue=[],this.cache=null}Yo.prototype.matrix=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]||(this.cache=null,this.queue.push(t)),this},Yo.prototype.translate=function(t,e){return 0===t&&0===e||(this.cache=null,this.queue.push([1,0,0,1,t,e])),this},Yo.prototype.scale=function(t,e){return 1===t&&1===e||(this.cache=null,this.queue.push([t,0,0,e,0,0])),this},Yo.prototype.rotate=function(t,e,n){var a,i,r;return 0!==t&&(this.translate(e,n),a=t*Math.PI/180,i=Math.cos(a),r=Math.sin(a),this.queue.push([i,r,-r,i,0,0]),this.cache=null,this.translate(-e,-n)),this},Yo.prototype.skewX=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,0,Math.tan(t*Math.PI/180),1,0,0])),this},Yo.prototype.skewY=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,Math.tan(t*Math.PI/180),0,1,0,0])),this},Yo.prototype.toArray=function(){var t,e;if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var n=1;n<this.queue.length;n++)this.cache=(t=this.cache,e=this.queue[n],[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]);return this.cache},Yo.prototype.calc=function(t,e,n){var a;return this.queue.length?(this.cache||(this.cache=this.toArray()),[t*(a=this.cache)[0]+e*a[2]+(n?0:a[4]),t*a[1]+e*a[3]+(n?0:a[5])]):[t,e]};var Go=Yo,Wo={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},Xo=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,Zo=/[\s,]+/,$o=2*Math.PI;function Ko(t,e,n,a){var i=t*a-e*n<0?-1:1,r=(t*n+e*a)/(Math.sqrt(t*t+e*e)*Math.sqrt(t*t+e*e));return 1<r&&(r=1),r<-1&&(r=-1),i*Math.acos(r)}var Qo=function(t,e,n,a,i,r,o,s,c){var l=Math.sin(c*$o/360),f=Math.cos(c*$o/360),u=f*(t-n)/2+l*(e-a)/2,h=-l*(t-n)/2+f*(e-a)/2;if(0===u&&0===h)return[];if(0===o||0===s)return[];o=Math.abs(o),s=Math.abs(s);var d=u*u/(o*o)+h*h/(s*s);1<d&&(o*=Math.sqrt(d),s*=Math.sqrt(d));var p,_,b,g,v,m,y,x=function(t,e,n,a,i,r,o,s,c,l){var f=l*(t-n)/2+c*(e-a)/2,u=-c*(t-n)/2+l*(e-a)/2,h=o*o,d=s*s,p=f*f,_=u*u,b=h*d-h*_-d*p;b<0&&(b=0),b/=h*_+d*p;var g=(b=Math.sqrt(b)*(i===r?-1:1))*o/s*u,v=b*-s/o*f,m=l*g-c*v+(t+n)/2,y=c*g+l*v+(e+a)/2,x=(f-g)/o,w=(u-v)/s,M=(-f-g)/o,k=(-u-v)/s,A=Ko(1,0,x,w),E=Ko(x,w,M,k);return 0===r&&0<E&&(E-=$o),1===r&&E<0&&(E+=$o),[m,y,A,E]}(t,e,n,a,i,r,o,s,l,f),w=[],M=x[2],k=x[3],A=Math.max(Math.ceil(Math.abs(k)/($o/4)),1);k/=A;for(var E=0;E<A;E++)w.push((p=M,_=k,void 0,b=4/3*Math.tan(_/4),g=Math.cos(p),v=Math.sin(p),m=Math.cos(p+_),y=Math.sin(p+_),[g,v,g-v*b,v+g*b,m+y*b,y-m*b,m,y])),M+=k;return w.map(function(t){for(var e=0;e<t.length;e+=2){var n=t[e+0],a=t[e+1],i=f*(n*=o)-l*(a*=s),r=l*n+f*a;t[e+0]=i+x[0],t[e+1]=r+x[1]}return t})},Jo=1e-10,ts=Math.PI/180;function es(t,e,n){if(!(this instanceof es))return new es(t,e,n);this.rx=t,this.ry=e,this.ax=n}es.prototype.transform=function(t){var e=Math.cos(this.ax*ts),n=Math.sin(this.ax*ts),a=[this.rx*(t[0]*e+t[2]*n),this.rx*(t[1]*e+t[3]*n),this.ry*(-t[0]*n+t[2]*e),this.ry*(-t[1]*n+t[3]*e)],i=a[0]*a[0]+a[2]*a[2],r=a[1]*a[1]+a[3]*a[3],o=((a[0]-a[3])*(a[0]-a[3])+(a[2]+a[1])*(a[2]+a[1]))*((a[0]+a[3])*(a[0]+a[3])+(a[2]-a[1])*(a[2]-a[1])),s=(i+r)/2;if(o<Jo*s)return this.rx=this.ry=Math.sqrt(s),this.ax=0,this;var c=a[0]*a[1]+a[2]*a[3],l=s+(o=Math.sqrt(o))/2,f=s-o/2;return this.ax=Math.abs(c)<Jo&&Math.abs(l-r)<Jo?90:180*Math.atan(Math.abs(c)>Math.abs(l-r)?(l-i)/c:c/(l-r))/Math.PI,0<=this.ax?(this.rx=Math.sqrt(l),this.ry=Math.sqrt(f)):(this.ax+=90,this.rx=Math.sqrt(f),this.ry=Math.sqrt(l)),this},es.prototype.isDegenerate=function(){return this.rx<Jo*this.ry||this.ry<Jo*this.rx};var ns=es;function as(t){if(!(this instanceof as))return new as(t);var e=Vo(t);this.segments=e.segments,this.err=e.err,this.__stack=[]}as.prototype.__matrix=function(f){var u,h=this;f.queue.length&&this.iterate(function(t,e,n,a){var i,r,o,s;switch(t[0]){case"v":r=0===(i=f.calc(0,t[1],!0))[0]?["v",i[1]]:["l",i[0],i[1]];break;case"V":r=(i=f.calc(n,t[1],!1))[0]===f.calc(n,a,!1)[0]?["V",i[1]]:["L",i[0],i[1]];break;case"h":r=0===(i=f.calc(t[1],0,!0))[1]?["h",i[0]]:["l",i[0],i[1]];break;case"H":r=(i=f.calc(t[1],a,!1))[1]===f.calc(n,a,!1)[1]?["H",i[0]]:["L",i[0],i[1]];break;case"a":case"A":var c=f.toArray(),l=ns(t[1],t[2],t[3]).transform(c);if(c[0]*c[3]-c[1]*c[2]<0&&(t[5]=t[5]?"0":"1"),i=f.calc(t[6],t[7],"a"===t[0]),"A"===t[0]&&t[6]===n&&t[7]===a||"a"===t[0]&&0===t[6]&&0===t[7]){r=["a"===t[0]?"l":"L",i[0],i[1]];break}r=l.isDegenerate()?["a"===t[0]?"l":"L",i[0],i[1]]:[t[0],l.rx,l.ry,l.ax,t[4],t[5],i[0],i[1]];break;case"m":s=0<e,r=["m",(i=f.calc(t[1],t[2],s))[0],i[1]];break;default:for(r=[o=t[0]],s=o.toLowerCase()===o,u=1;u<t.length;u+=2)i=f.calc(t[u],t[u+1],s),r.push(i[0],i[1])}h.segments[e]=r},!0)},as.prototype.__evaluateStack=function(){var t,e;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(t=Go(),e=this.__stack.length;0<=--e;)t.matrix(this.__stack[e].toArray());this.__matrix(t),this.__stack=[]}},as.prototype.toString=function(){var t,e,n=[];this.__evaluateStack();for(var a=0;a<this.segments.length;a++)e=this.segments[a][0],t=0<a&&"m"!==e&&"M"!==e&&e===this.segments[a-1][0],n=n.concat(t?this.segments[a].slice(1):this.segments[a]);return n.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},as.prototype.translate=function(t,e){return this.__stack.push(Go().translate(t,e||0)),this},as.prototype.scale=function(t,e){return this.__stack.push(Go().scale(t,e||0===e?e:t)),this},as.prototype.rotate=function(t,e,n){return this.__stack.push(Go().rotate(t,e||0,n||0)),this},as.prototype.skewX=function(t){return this.__stack.push(Go().skewX(t)),this},as.prototype.skewY=function(t){return this.__stack.push(Go().skewY(t)),this},as.prototype.matrix=function(t){return this.__stack.push(Go().matrix(t)),this},as.prototype.transform=function(t){return t.trim()&&this.__stack.push((e=t,i=new Go,e.split(Xo).forEach(function(t){if(t.length)if(void 0===Wo[t])switch(a=t.split(Zo).map(function(t){return+t||0}),n){case"matrix":return void(6===a.length&&i.matrix(a));case"scale":return void(1===a.length?i.scale(a[0],a[0]):2===a.length&&i.scale(a[0],a[1]));case"rotate":return void(1===a.length?i.rotate(a[0],0,0):3===a.length&&i.rotate(a[0],a[1],a[2]));case"translate":return void(1===a.length?i.translate(a[0],0):2===a.length&&i.translate(a[0],a[1]));case"skewX":return void(1===a.length&&i.skewX(a[0]));case"skewY":return void(1===a.length&&i.skewY(a[0]))}else n=t}),i)),this;var e,n,a,i},as.prototype.round=function(a){var e,i=0,r=0,o=0,s=0;return a=a||0,this.__evaluateStack(),this.segments.forEach(function(n){var t=n[0].toLowerCase()===n[0];switch(n[0]){case"H":case"h":return t&&(n[1]+=o),o=n[1]-n[1].toFixed(a),void(n[1]=+n[1].toFixed(a));case"V":case"v":return t&&(n[1]+=s),s=n[1]-n[1].toFixed(a),void(n[1]=+n[1].toFixed(a));case"Z":case"z":return o=i,void(s=r);case"M":case"m":return t&&(n[1]+=o,n[2]+=s),o=n[1]-n[1].toFixed(a),s=n[2]-n[2].toFixed(a),i=o,r=s,n[1]=+n[1].toFixed(a),void(n[2]=+n[2].toFixed(a));case"A":case"a":return t&&(n[6]+=o,n[7]+=s),o=n[6]-n[6].toFixed(a),s=n[7]-n[7].toFixed(a),n[1]=+n[1].toFixed(a),n[2]=+n[2].toFixed(a),n[3]=+n[3].toFixed(a+2),n[6]=+n[6].toFixed(a),void(n[7]=+n[7].toFixed(a));default:return e=n.length,t&&(n[e-2]+=o,n[e-1]+=s),o=n[e-2]-n[e-2].toFixed(a),s=n[e-1]-n[e-1].toFixed(a),void n.forEach(function(t,e){e&&(n[e]=+n[e].toFixed(a))})}}),this},as.prototype.iterate=function(i,t){var e,n,a,r=this.segments,o={},s=!1,c=0,l=0,f=0,u=0;if(t||this.__evaluateStack(),r.forEach(function(t,e){var n=i(t,e,c,l);Array.isArray(n)&&(o[e]=n,s=!0);var a=t[0]===t[0].toLowerCase();switch(t[0]){case"m":case"M":return c=t[1]+(a?c:0),l=t[2]+(a?l:0),f=c,void(u=l);case"h":case"H":return void(c=t[1]+(a?c:0));case"v":case"V":return void(l=t[1]+(a?l:0));case"z":case"Z":return c=f,void(l=u);default:c=t[t.length-2]+(a?c:0),l=t[t.length-1]+(a?l:0)}}),!s)return this;for(a=[],e=0;e<r.length;e++)if(void 0!==o[e])for(n=0;n<o[e].length;n++)a.push(o[e][n]);else a.push(r[e]);return this.segments=a,this},as.prototype.abs=function(){return this.iterate(function(t,e,n,a){var i,r=t[0],o=r.toUpperCase();if(r!==o)switch(t[0]=o,r){case"v":return void(t[1]+=a);case"a":return t[6]+=n,void(t[7]+=a);default:for(i=1;i<t.length;i++)t[i]+=i%2?n:a}},!0),this},as.prototype.rel=function(){return this.iterate(function(t,e,n,a){var i,r=t[0],o=r.toLowerCase();if(r!==o&&(0!==e||"M"!==r))switch(t[0]=o,r){case"V":return void(t[1]-=a);case"A":return t[6]-=n,void(t[7]-=a);default:for(i=1;i<t.length;i++)t[i]-=i%2?n:a}},!0),this},as.prototype.unarc=function(){return this.iterate(function(t,e,n,a){var i,r,o,s=[],c=t[0];return"A"!==c&&"a"!==c?null:("a"===c?(r=n+t[6],o=a+t[7]):(r=t[6],o=t[7]),0===(i=Qo(n,a,r,o,t[4],t[5],t[1],t[2],t[3])).length?[["a"===t[0]?"l":"L",t[6],t[7]]]:(i.forEach(function(t){s.push(["C",t[2],t[3],t[4],t[5],t[6],t[7]])}),s))}),this},as.prototype.unshort=function(){var s,c,l,f,u,h=this.segments;return this.iterate(function(t,e,n,a){var i,r=t[0],o=r.toUpperCase();e&&("T"===o?(i="t"===r,"Q"===(l=h[e-1])[0]?(s=l[1]-n,c=l[2]-a):"q"===l[0]?(s=l[1]-l[3],c=l[2]-l[4]):c=s=0,f=-s,u=-c,i||(f+=n,u+=a),h[e]=[i?"q":"Q",f,u,t[1],t[2]]):"S"===o&&(i="s"===r,"C"===(l=h[e-1])[0]?(s=l[3]-n,c=l[4]-a):"c"===l[0]?(s=l[3]-l[5],c=l[4]-l[6]):c=s=0,f=-s,u=-c,i||(f+=n,u+=a),h[e]=[i?"c":"C",f,u,t[1],t[2],t[3],t[4]]))}),this};var is=as,rs={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},os=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function ss(t){var r=[];return t.replace(os,function(t,e,n){var a,i=e.toLowerCase();for(n=(a=n.match(cs))?a.map(Number):[],"m"===i&&2<n.length&&(r.push([e].concat(n.splice(0,2))),i="l",e="m"===e?"l":"L");0<=n.length;){if(n.length===rs[i])return n.unshift(e),r.push(n);if(n.length<rs[i])throw new Error("malformed path data");r.push([e].concat(n.splice(0,rs[i])))}}),r}var cs=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function ls(t,e,n,a,i,r,o,s){return new fs(t,e,n,a,i,r,o,s)}function fs(t,e,n,a,i,r,o,s){this.a={x:t,y:e},this.b={x:n,y:a},this.c={x:i,y:r},this.d={x:o,y:s},null!=o&&null!=s?(this.getArcLength=xs,this.getPoint=_s,this.getDerivative=hs):(this.getArcLength=bs,this.getPoint=ps,this.getDerivative=us),this.init()}function us(t,e,n){return{x:2*(1-n)*(t[1]-t[0])+2*n*(t[2]-t[1]),y:2*(1-n)*(e[1]-e[0])+2*n*(e[2]-e[1])}}function hs(t,e,n){return ps([3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],[3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],n)}function ds(t,e,n,a,i){for(var r=1,o=t/e,s=(t-n(a,i,o))/e;.001<r;){var c=n(a,i,o+s),l=n(a,i,o-s),f=Math.abs(t-c)/e,u=Math.abs(t-l)/e;f<r?(r=f,o+=s):u<r?(r=u,o-=s):s/=2}return o}function ps(t,e,n){return{x:(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2],y:(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2]}}function _s(t,e,n){return{x:(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3],y:(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3]}}function bs(t,e,n){void 0===n&&(n=1);var a=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],r=2*t[1]-2*t[0],o=2*e[1]-2*e[0],s=4*(a*a+i*i),c=4*(a*r+i*o),l=r*r+o*o;if(0===s)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));var f=c/(2*s),u=n+f,h=l/s-f*f;return Math.sqrt(s)/2*(u*Math.sqrt(u*u+h)-f*Math.sqrt(f*f+h)+h*Math.log(Math.abs((u+Math.sqrt(u*u+h))/(f+Math.sqrt(f*f+h)))))}fs.prototype={constructor:fs,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(t){var e=ds(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e)},getTangentAtLength:function(t){var e=ds(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e),a=Math.sqrt(n.x*n.x+n.y*n.y);return 0<a?{x:n.x/a,y:n.y/a}:{x:0,y:0}},getPropertiesAtLength:function(t){var e,n=ds(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),a=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],n),i=Math.sqrt(a.x*a.x+a.y*a.y);e=0<i?{x:a.x/i,y:a.y/i}:{x:0,y:0};var r=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],n);return{x:r.x,y:r.y,tangentX:e.x,tangentY:e.y}}};var gs=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],vs=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],ms=[[1],[1,1],[1,2,1],[1,3,3,1]];function ys(t,e,n){var a,i,r,o,s=n.length-1;if(0===s)return 0;if(0===t){for(r=i=0;r<=s;r++)i+=(o=r,ms[s][o]*Math.pow(1-e,s-r)*Math.pow(e,r)*n[r]);return i}for(a=new Array(s),r=0;r<s;r++)a[r]=s*(n[r+1]-n[r]);return ys(t-1,e,a)}function xs(t,e,n){var a,i,r,o;void 0===n&&(n=1);var s,c,l,f,u;for(a=n/2,r=i=0;r<20;r++)o=a*gs[20][r]+a,i+=vs[20][r]*(s=e,void 0,l=ys(1,c=o,t),f=ys(1,c,s),u=l*l+f*f,Math.sqrt(u));return a*i}var ws=2*Math.PI;function Ms(t,e,n,a){var i=t*n+e*a;return 1<i&&(i=1),i<-1&&(i=-1),(t*a-e*n<0?-1:1)*Math.acos(i)}function ks(t,e,o,s,n,a,i,r,c){var l=Math.sin(n*ws/360),f=Math.cos(n*ws/360),u=f*(t-r)/2+l*(e-c)/2,h=-l*(t-r)/2+f*(e-c)/2;if(0===u&&0===h)return[];if(0===o||0===s)return[];o=Math.abs(o),s=Math.abs(s);var d=u*u/(o*o)+h*h/(s*s);1<d&&(o*=Math.sqrt(d),s*=Math.sqrt(d));var p,_,b,g,v,m,y,x=function(t,e,n,a,i,r,o,s,c,l){var f=l*(t-n)/2+c*(e-a)/2,u=-c*(t-n)/2+l*(e-a)/2,h=o*o,d=s*s,p=f*f,_=u*u,b=h*d-h*_-d*p;b<0&&(b=0),b/=h*_+d*p;var g=(b=Math.sqrt(b)*(i===r?-1:1))*o/s*u,v=b*-s/o*f,m=l*g-c*v+(t+n)/2,y=c*g+l*v+(e+a)/2,x=(f-g)/o,w=(u-v)/s,M=(-f-g)/o,k=(-u-v)/s,A=Ms(1,0,x,w),E=Ms(x,w,M,k);return 0===r&&0<E&&(E-=ws),1===r&&E<0&&(E+=ws),[m,y,A,E]}(t,e,r,c,a,i,o,s,l,f),w=[],M=x[2],k=x[3],A=Math.max(Math.ceil(Math.abs(k)/(ws/4)),1);k/=A;for(var E=0;E<A;E++)w.push((p=M,_=k,void 0,b=4/3*Math.tan(_/4),g=Math.cos(p),v=Math.sin(p),m=Math.cos(p+_),y=Math.sin(p+_),[g,v,g-v*b,v+g*b,m+y*b,y-m*b,m,y])),M+=k;return w.map(function(t){for(var e=0;e<t.length;e+=2){var n=t[e+0],a=t[e+1],i=f*(n*=o)-l*(a*=s),r=l*n+f*a;t[e+0]=i+x[0],t[e+1]=r+x[1]}return t})}function As(t,e,n,a,i,r,o,s,c){return new Es(t,e,n,a,i,r,o,s,c)}function Es(t,e,n,a,i,r,o,s,c){var l=0,f=[],u=[];ks(t,e,n,a,i,r,o,s,c).forEach(function(t){var e=new ls(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),n=e.getTotalLength();l+=n,f.push(n),u.push(e)}),this.length=l,this.partialLengths=f,this.curves=u}function Cs(t,e,n,a){return new Ss(t,e,n,a)}function Ss(t,e,n,a){this.x0=t,this.x1=e,this.y0=n,this.y1=a}function Ts(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function Ls(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function Is(t,n,a){var i=t.map(function(t,e){return a=t,i=n[e],function(n){return a.map(function(t,e){return t+n*(i[e]-t)})};var a,i});return function(e){var t=i.map(function(t){return t(e)});return a?"M"+t.join("L")+"Z":t}}function Ns(t){return"number"==typeof t&&isFinite(t)}function Os(t){return function(t){for(var e=0;e<t.length-2;e++){var n=t[e],a=t[e+1],i=t[e+2];if(n[0]*(a[1]-i[1])+a[0]*(i[1]-n[1])+i[0]*(n[1]-a[1]))return!0}return!1}(t)?function(t){for(var e,n,a=-1,i=t.length,r=0,o=0,s=t[i-1],c=0;++a<i;)e=s,s=t[a],c+=n=e[0]*s[1]-s[0]*e[1],r+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[r/(c*=3),o/c]}(t):[(t[0][0]+t[t.length-1][0])/2,(t[0][1]+t[t.length-1][1])/2]}Es.prototype={constructor:Es,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(t){t<0?t=0:t>this.length&&(t=this.length);for(var e=this.partialLengths.length-1;this.partialLengths[e]>=t&&0<this.partialLengths[e];)e--;e<this.partialLengths.length-1&&e++;for(var n=0,a=0;a<e;a++)n+=this.partialLengths[a];return this.curves[e].getPointAtLength(t-n)},getTangentAtLength:function(t){t<0?t=0:t>this.length&&(t=this.length);for(var e=this.partialLengths.length-1;this.partialLengths[e]>=t&&0<this.partialLengths[e];)e--;e<this.partialLengths.length-1&&e++;for(var n=0,a=0;a<e;a++)n+=this.partialLengths[a];return this.curves[e].getTangentAtLength(t-n)},getPropertiesAtLength:function(t){var e=this.getTangentAtLength(t),n=this.getPointAtLength(t);return{x:n.x,y:n.y,tangentX:e.x,tangentY:e.y}}},Ss.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))},Ss.prototype.getPointAtLength=function(t){var e=t/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),n=(this.x1-this.x0)*e,a=(this.y1-this.y0)*e;return{x:this.x0+n,y:this.y0+a}},Ss.prototype.getTangentAtLength=function(){var t=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/t,y:(this.y1-this.y0)/t}},Ss.prototype.getPropertiesAtLength=function(t){var e=this.getPointAtLength(t),n=this.getTangentAtLength();return{x:e.x,y:e.y,tangentX:n.x,tangentY:n.y}};var Ps='All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).\nExample valid ways of supplying a shape would be:\n[[0, 0], [10, 0], [10, 10]]\n"M0,0 L10,0 L10,10Z"\n';function Fs(t,e){var n=new is(t).abs();return function(t){var e=t.segments||[],n=[];if(!e.length||"M"!==e[0][0])return!1;for(var a=0;a<e.length;a++){var i=e[a],r=i[0],o=i[1],s=i[2];if("M"===r&&a||"Z"===r)break;if("M"===r||"L"===r)n.push([o,s]);else if("H"===r)n.push([o,n[n.length-1][1]]);else{if("V"!==r)return!1;n.push([n[n.length-1][0],o])}}return!!n.length&&{ring:n}}(n)||function(t,e){var n,a,i=(s=t,s.toString().split("M").map(function(t,e){return t=t.trim(),e&&t?"M"+t:t}).filter(function(t){return t}))[0],r=[],o=3;var s;if(!i)throw new TypeError(Ps);a=function(t){if("undefined"!=typeof window&&window&&window.document)try{var e=window.document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e}catch(t){}return function(t){var s=0,c=[],l=[];function f(t){if(!t)return null;for(var e,n,a=ss(t),i=[0,0],r=[0,0],o=0;o<a.length;o++)"M"===a[o][0]?(n=[(i=[a[o][1],a[o][2]])[0],i[1]],l.push(null)):"m"===a[o][0]?(n=[(i=[a[o][1]+i[0],a[o][2]+i[1]])[0],i[1]],l.push(null)):"L"===a[o][0]?(s+=Math.sqrt(Math.pow(i[0]-a[o][1],2)+Math.pow(i[1]-a[o][2],2)),l.push(new Cs(i[0],a[o][1],i[1],a[o][2])),i=[a[o][1],a[o][2]]):"l"===a[o][0]?(s+=Math.sqrt(Math.pow(a[o][1],2)+Math.pow(a[o][2],2)),l.push(new Cs(i[0],a[o][1]+i[0],i[1],a[o][2]+i[1])),i=[a[o][1]+i[0],a[o][2]+i[1]]):"H"===a[o][0]?(s+=Math.abs(i[0]-a[o][1]),l.push(new Cs(i[0],a[o][1],i[1],i[1])),i[0]=a[o][1]):"h"===a[o][0]?(s+=Math.abs(a[o][1]),l.push(new Cs(i[0],i[0]+a[o][1],i[1],i[1])),i[0]=a[o][1]+i[0]):"V"===a[o][0]?(s+=Math.abs(i[1]-a[o][1]),l.push(new Cs(i[0],i[0],i[1],a[o][1])),i[1]=a[o][1]):"v"===a[o][0]?(s+=Math.abs(a[o][1]),l.push(new Cs(i[0],i[0],i[1],i[1]+a[o][1])),i[1]=a[o][1]+i[1]):"z"===a[o][0]||"Z"===a[o][0]?(s+=Math.sqrt(Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2)),l.push(new Cs(i[0],n[0],i[1],n[1])),i=[n[0],n[1]]):"C"===a[o][0]?(e=new ls(i[0],i[1],a[o][1],a[o][2],a[o][3],a[o][4],a[o][5],a[o][6]),s+=e.getTotalLength(),i=[a[o][5],a[o][6]],l.push(e)):"c"===a[o][0]?(e=new ls(i[0],i[1],i[0]+a[o][1],i[1]+a[o][2],i[0]+a[o][3],i[1]+a[o][4],i[0]+a[o][5],i[1]+a[o][6]),s+=e.getTotalLength(),i=[a[o][5]+i[0],a[o][6]+i[1]],l.push(e)):"S"===a[o][0]?(e=0<o&&-1<["C","c","S","s"].indexOf(a[o-1][0])?new ls(i[0],i[1],2*i[0]-a[o-1][a[o-1].length-4],2*i[1]-a[o-1][a[o-1].length-3],a[o][1],a[o][2],a[o][3],a[o][4]):new ls(i[0],i[1],i[0],i[1],a[o][1],a[o][2],a[o][3],a[o][4]),s+=e.getTotalLength(),i=[a[o][3],a[o][4]],l.push(e)):"s"===a[o][0]?(e=0<o&&-1<["C","c","S","s"].indexOf(a[o-1][0])?new ls(i[0],i[1],i[0]+e.d.x-e.c.x,i[1]+e.d.y-e.c.y,i[0]+a[o][1],i[1]+a[o][2],i[0]+a[o][3],i[1]+a[o][4]):new ls(i[0],i[1],i[0],i[1],i[0]+a[o][1],i[1]+a[o][2],i[0]+a[o][3],i[1]+a[o][4]),s+=e.getTotalLength(),i=[a[o][3]+i[0],a[o][4]+i[1]],l.push(e)):"Q"===a[o][0]?(e=i[0]!=a[o][1]&&i[1]!=a[o][2]?new ls(i[0],i[1],a[o][1],a[o][2],a[o][3],a[o][4]):new Cs(a[o][1],a[o][3],a[o][2],a[o][4]),s+=e.getTotalLength(),l.push(e),i=[a[o][3],a[o][4]],r=[a[o][1],a[o][2]]):"q"===a[o][0]?(e=0!=a[o][1]||0!=a[o][2]?new ls(i[0],i[1],i[0]+a[o][1],i[1]+a[o][2],i[0]+a[o][3],i[1]+a[o][4]):new Cs(i[0]+a[o][1],i[0]+a[o][3],i[1]+a[o][2],i[1]+a[o][4]),s+=e.getTotalLength(),r=[i[0]+a[o][1],i[1]+a[o][2]],i=[a[o][3]+i[0],a[o][4]+i[1]],l.push(e)):"T"===a[o][0]?(e=0<o&&-1<["Q","q","T","t"].indexOf(a[o-1][0])?new ls(i[0],i[1],2*i[0]-r[0],2*i[1]-r[1],a[o][1],a[o][2]):new Cs(i[0],a[o][1],i[1],a[o][2]),l.push(e),s+=e.getTotalLength(),r=[2*i[0]-r[0],2*i[1]-r[1]],i=[a[o][1],a[o][2]]):"t"===a[o][0]?(e=0<o&&-1<["Q","q","T","t"].indexOf(a[o-1][0])?new ls(i[0],i[1],2*i[0]-r[0],2*i[1]-r[1],i[0]+a[o][1],i[1]+a[o][2]):new Cs(i[0],i[0]+a[o][1],i[1],i[1]+a[o][2]),s+=e.getTotalLength(),r=[2*i[0]-r[0],2*i[1]-r[1]],i=[a[o][1]+i[0],a[o][2]+i[0]],l.push(e)):"A"===a[o][0]?(e=new As(i[0],i[1],a[o][1],a[o][2],a[o][3],a[o][4],a[o][5],a[o][6],a[o][7]),s+=e.getTotalLength(),i=[a[o][6],a[o][7]],l.push(e)):"a"===a[o][0]&&(e=new As(i[0],i[1],a[o][1],a[o][2],a[o][3],a[o][4],a[o][5],i[0]+a[o][6],i[1]+a[o][7]),s+=e.getTotalLength(),i=[i[0]+a[o][6],i[1]+a[o][7]],l.push(e)),c.push(s);return f}f.getTotalLength=function(){return s},f.getPointAtLength=function(t){var e=n(t);return l[e.i].getPointAtLength(e.fraction)},f.getTangentAtLength=function(t){var e=n(t);return l[e.i].getTangentAtLength(e.fraction)},f.getPropertiesAtLength=function(t){var e=n(t);return l[e.i].getPropertiesAtLength(e.fraction)};var n=function(t){t<0?t=0:s<t&&(t=s);for(var e=c.length-1;c[e]>=t&&0<c[e];)e--;return{fraction:t-c[++e-1],i:e}};return f(t)}(t)}(i),n=a.getTotalLength(),e&&Ns(e)&&0<e&&(o=Math.max(o,Math.ceil(n/e)));for(var c=0;c<o;c++){var l=a.getPointAtLength(n*c/o);r.push([l.x,l.y])}return{ring:r,skipBisect:!0}}(n,e)}function Ds(t,e){for(var n=t.length+e,a=Fo(t)/e,i=0,r=0,o=a/2;t.length<n;){var s=t[i],c=t[(i+1)%t.length],l=Ts(s,c);o<=r+l?(t.splice(i+1,0,l?Ls(s,c,(o-r)/l):s.slice(0)),o+=a):(r+=l,i++)}}function Rs(t,e){var n,a,i,r;if("string"==typeof t){var o=Fs(t,e);t=o.ring,a=o.skipBisect}else if(!Array.isArray(t))throw new TypeError(Ps);if(n=t.slice(0),!n.every(function(t){return Array.isArray(t)&&2<=t.length&&Ns(t[0])&&Ns(t[1])}))throw new TypeError(Ps);return 1<n.length&&(i=n[0],r=n[n.length-1],Ts(i,r)<1e-9)&&n.pop(),0<function(t){for(var e,n=-1,a=t.length,i=t[a-1],r=0;++n<a;)e=i,i=t[n],r+=e[1]*i[0]-e[0]*i[1];return r/2}(n)&&n.reverse(),!a&&e&&Ns(e)&&0<e&&function(t,e){void 0===e&&(e=1/0);for(var n=0;n<t.length;n++)for(var a=t[n],i=n===t.length-1?t[0]:t[n+1];Ts(a,i)>e;)i=Ls(a,i,.5),t.splice(n+1,0,i)}(n,e),n}function Bs(e,n,t){void 0===t&&(t={});var a=t.maxSegmentLength;void 0===a&&(a=10);var i=t.string;void 0===i&&(i=!0);var r,o,s,c,l=Rs(e,a),f=Rs(n,a),u=(o=f,s=i,c=(r=l).length-o.length,Ds(r,c<0?-1*c:0),Ds(o,0<c?c:0),function(i,t){for(var e,r,n,o=i.length,s=1/0,a=function(a){r=0,t.forEach(function(t,e){var n=Ts(i[(a+e)%o],t);r+=n*n}),r<s&&(s=r,e=a)},c=0;c<o;c++)a(c);e&&(n=i.splice(0,e),i.splice.apply(i,[i.length,0].concat(n)))}(r,o),Is(r,o,s));return!i||"string"!=typeof e&&"string"!=typeof n?u:function(t){return t<1e-4&&"string"==typeof e?e:1-t<1e-4&&"string"==typeof n?n:u(t)}}function zs(t,e,n,a,i){return js((f=t,u=e,h=n,function(a){var t=Os(a),i=Fo(a.concat([a[0]])),r=Math.atan2(a[0][1]-t[1],a[0][0]-t[0]),o=0;return a.map(function(t,e){var n;return e&&(o+=Ts(t,a[e-1])),n=r+2*Math.PI*(i?o/i:e/a.length),[Math.cos(n)*h+f,Math.sin(n)*h+u]})}),a,"M"+(c=(r=t)-(s=n)+","+(o=e))+(l="A"+s+","+s+",0,1,1,")+(r+s)+","+o+l+c+"Z",2*Math.PI*n,i);var r,o,s,c,l,f,u,h}function qs(t,e,n,a,i,r){return js((f=t,u=e,h=n,d=a,function(i){var t=Os(i),r=Fo(i.concat([i[0]])),e=Math.atan2(i[0][1]-t[1],i[0][0]-t[0]),o=0;e<0&&(e=2*Math.PI+e);var s=e/(2*Math.PI);return i.map(function(t,e){e&&(o+=Ts(t,i[e-1]));var n,a=(n=(s+(r?o/r:e/i.length))%1)<=1/8?[1,.5+4*n]:n<=3/8?[1.5-4*n,1]:n<=5/8?[0,2.5-4*n]:n<=7/8?[4*n-2.5,0]:[1,4*n-3.5];return[f+a[0]*h,u+a[1]*d]})}),i,"M"+(o=t)+","+(s=e)+"L"+(c=o+n)+","+s+"L"+c+","+(l=s+a)+"L"+o+","+l+"Z",2*n+2*a,r);var o,s,c,l,f,u,h,d}function Us(t,e,n,a,i,r){var o=qs(e,n,a,i,t,r);return function(t){return o(1-t)}}function js(t,e,n,a,i){void 0===i&&(i={});var r=i.maxSegmentLength;void 0===r&&(r=10);var o=i.string;void 0===o&&(o=!0);var s,c,l=Rs(e,r);return Ns(a)&&l.length<a/r&&Ds(l,Math.ceil(a/r-l.length)),s=t(l),c=Is(s,l,o),o?function(t){return t<1e-4?n:c(t)}:c}function Hs(t){var e=t.split(/[A-Z]/).filter(function(t){return""!=t});return 2==e.length?t="M"+e[0]+"L"+e[0]+"L"+e[1]+"Z":1==e.length&&(t="M"+e[0]+"L"+e[0]+"L"+e[0]+"Z"),t}function Vs(t){return D.y_axis_log&&t<=0?.01:t}function Ys(t,e,n){var a=Math.max(D.dot_radius,.1);return D.dot_radius_last&&e==n.parentNode.__data__.data_points.length-1&&(a=D.dot_radius_last),a}function Gs(t,e,n){var a=t.selectAll(".data-point").data(function(t){return t[rt.data_points]}),i=a.enter().append("path").attr("class","data-point").attr("fill",function(t){return Oo(t.series)}).attr("data-type","point").attr("transform","translate(0, 0)").attr("d",function(t,e){var n=Ys(0,e,this),a=t.facet.scales.label(t.label),i=t.facet.scales.value(Vs(t.value)),r=a-n+","+i,o="A"+n+","+n+",0,1,1,";return"M"+r+o+(a+n+","+i)+o+r+"Z"}).on("mouseout",If).on("click",Tf);a.merge(i).on("mouseover",Lf).attr("id",function(t){return"point-"+t.series+"-"+t.row_index}).transition().duration(e?0:D.data_trans_duration).delay(n).attr("transform","translate(0, 0)").attr("opacity",D.dot_opacity).attr("fill",function(t){return Oo(t.series)}).attrTween("d",function(t,e){var n,a,i,r,o,s=Hs(this.getAttribute("d"));return n=s,a=t.facet.scales.label(t.label),i=t.facet.scales.value(Vs(t.value)),r=Ys(0,e,this),o=zs(a,i,r,n,{maxSegmentLength:1}),function(t){return o(1-t)}}).on("end",function(){this.setAttribute("data-type","point")}),a.exit().remove()}function Ws(t,e,n){var a=t.selectAll(".data-point").data(function(t){return t[rt.data_points]}),i=a.enter().append("path").attr("class","data-point").attr("data-type","bar").attr("opacity",D.bar_opacity).attr("fill",function(t){return Oo(t.series)}).attr("d",function(t,e){var n=l(t);return u(t.facet.scales.value(0),n,0,t.facet.scales.col_w)}).attr("transform","translate(0, 0)").on("click",Tf).on("mouseout",If);function l(t){if(rt.stack)return t.facet.scales.label(t.label);var e=rt.facet_by_series?0:t.series;return t.facet.scales.label(t.label)+e*t.facet.scales.col_w}function f(t){return Math.abs(t.facet.scales.value(rt.stack?t.value_base:0)-t.facet.scales.value(t.value))}function u(t,e,n,a){var i=t+n,r=e+a;return"M"+t+","+e+"L"+i+","+e+"L"+i+","+r+"L"+t+","+r+"Z"}a.merge(i).on("mouseover",Lf).attr("id",function(t){return"point-"+t.series+"-"+t.row_index}).transition().duration(e?0:D.data_trans_duration).delay(n).attr("transform","translate(0, 0)").attr("opacity",D.bar_opacity).attr("fill",function(t){return Oo(t.series)}).attrTween("d",function(t,e){var n=this.getAttribute("d"),a=(s=t,c=s.value<0,rt.stack?c?s.facet.scales.value(0)-f(s):s.facet.scales.value(s.value_base):c?s.facet.scales.value(0)-f(s):s.facet.scales.value(0)),i=l(t),r=t.facet.scales.col_w,o=f(t);var s,c;if("bar"==this.getAttribute("data-type"))return Jn(n,u(a,i,o,r));return Us(Hs(n),a,i,o,r,{maxSegmentLength:1})}).on("end",function(){this.setAttribute("data-type","bar")}),a.exit().remove()}function Xs(t,e,n){var a=t.selectAll(".data-point").data(function(t){return t[rt.data_points]}),i=a.enter().append("path").attr("class","data-point").attr("data-type","column").attr("opacity",D.column_opacity).attr("fill",function(t){return Oo(t.series)}).attr("d",function(t,e){return c(s(t),t.facet.scales.value(0),t.facet.scales.col_w,0)}).attr("transform","translate(0, 0)").on("click",Tf).on("mouseout",If);function s(t){if(rt.stack)return t.facet.scales.label(t.label);var e=rt.facet_by_series?0:t.series;return t.facet.scales.label(t.label)+e*t.facet.scales.col_w}function c(t,e,n,a){var i=t+n,r=e+a;return"M"+t+","+e+"L"+i+","+e+"L"+i+","+r+"L"+t+","+r+"Z"}a.merge(i).on("mouseover",Lf).attr("id",function(t){return"point-"+t.series+"-"+t.row_index}).transition().duration(e?0:D.data_trans_duration).delay(n).attr("transform","translate(0, 0)").attr("opacity",D.column_opacity).attr("fill",function(t){return Oo(t.series)}).attrTween("d",function(t,e){var n=this.getAttribute("d"),a=s(t),i=function(t){var e=t.facet.scales.value.domain(),n=e[0]>e[1],a=t.value<0;if(rt.stack)return a===n?t.facet.scales.value(t.value_base)-(t.facet.scales.value(t.value_base)-t.facet.scales.value(t.value)):t.facet.scales.value(t.value_base);return a===n?t.facet.scales.h-(t.facet.scales.value(t.facet.scales.value.domain()[0])-t.facet.scales.value(t.value)):t.facet.scales.value(0)}(t),r=t.facet.scales.col_w,o=Math.abs(t.facet.scales.value(rt.stack?t.value_base:0)-t.facet.scales.value(t.value));if("column"==this.getAttribute("data-type"))return Jn(n,c(a,i,r,o));return Us(Hs(n),a,i,r,o,{maxSegmentLength:1})}).on("end",function(){this.setAttribute("data-type","column")}),a.exit().remove()}var Zs=Math.PI,$s=2*Zs,Ks=1e-6,Qs=$s-Ks;function Js(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function tc(){return new Js}function ec(t){return function(){return t}}Js.prototype=tc.prototype={constructor:Js,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,a){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+a)},bezierCurveTo:function(t,e,n,a,i,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +a+","+(this._x1=+i)+","+(this._y1=+r)},arcTo:function(t,e,n,a,i){t=+t,e=+e,n=+n,a=+a,i=+i;var r=this._x1,o=this._y1,s=n-t,c=a-e,l=r-t,f=o-e,u=l*l+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(Ks<u)if(Math.abs(f*s-c*l)>Ks&&i){var h=n-r,d=a-o,p=s*s+c*c,_=h*h+d*d,b=Math.sqrt(p),g=Math.sqrt(u),v=i*Math.tan((Zs-Math.acos((p+u-_)/(2*b*g)))/2),m=v/g,y=v/b;Math.abs(m-1)>Ks&&(this._+="L"+(t+m*l)+","+(e+m*f)),this._+="A"+i+","+i+",0,0,"+ +(l*d<f*h)+","+(this._x1=t+y*s)+","+(this._y1=e+y*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,a,i,r){t=+t,e=+e;var o=(n=+n)*Math.cos(a),s=n*Math.sin(a),c=t+o,l=e+s,f=1^r,u=r?a-i:i-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>Ks||Math.abs(this._y1-l)>Ks)&&(this._+="L"+c+","+l),n&&(u<0&&(u=u%$s+$s),Qs<u?this._+="A"+n+","+n+",0,1,"+f+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+f+","+(this._x1=c)+","+(this._y1=l):Ks<u&&(this._+="A"+n+","+n+",0,"+ +(Zs<=u)+","+f+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,a){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +a+"h"+-n+"Z"},toString:function(){return this._}};var nc=Math.abs,ac=Math.atan2,ic=Math.cos,rc=Math.max,oc=Math.min,sc=Math.sin,cc=Math.sqrt,lc=1e-12,fc=Math.PI,uc=fc/2,hc=2*fc;function dc(t){return 1<=t?uc:t<=-1?-uc:Math.asin(t)}function pc(t){return t.innerRadius}function _c(t){return t.outerRadius}function bc(t){return t.startAngle}function gc(t){return t.endAngle}function vc(t){return t&&t.padAngle}function mc(t,e,n,a,i,r,o){var s=t-n,c=e-a,l=(o?r:-r)/cc(s*s+c*c),f=l*c,u=-l*s,h=t+f,d=e+u,p=n+f,_=a+u,b=(h+p)/2,g=(d+_)/2,v=p-h,m=_-d,y=v*v+m*m,x=i-r,w=h*_-p*d,M=(m<0?-1:1)*cc(rc(0,x*x*y-w*w)),k=(w*m-v*M)/y,A=(-w*v-m*M)/y,E=(w*m+v*M)/y,C=(-w*v+m*M)/y,S=k-b,T=A-g,L=E-b,I=C-g;return L*L+I*I<S*S+T*T&&(k=E,A=C),{cx:k,cy:A,x01:-f,y01:-u,x11:k*(i/x-1),y11:A*(i/x-1)}}function yc(){var X=pc,Z=_c,$=ec(0),K=null,Q=bc,J=gc,tt=vc,et=null;function e(){var t,e,n,a,i,r,o,s,c,l,f,u,h=+X.apply(this,arguments),d=+Z.apply(this,arguments),p=Q.apply(this,arguments)-uc,_=J.apply(this,arguments)-uc,b=nc(_-p),g=p<_;if(et||(et=t=tc()),d<h&&(e=d,d=h,h=e),lc<d)if(hc-lc<b)et.moveTo(d*ic(p),d*sc(p)),et.arc(0,0,d,p,_,!g),lc<h&&(et.moveTo(h*ic(_),h*sc(_)),et.arc(0,0,h,_,p,g));else{var v,m,y=p,x=_,w=p,M=_,k=b,A=b,E=tt.apply(this,arguments)/2,C=lc<E&&(K?+K.apply(this,arguments):cc(h*h+d*d)),S=oc(nc(d-h)/2,+$.apply(this,arguments)),T=S,L=S;if(lc<C){var I=dc(C/h*sc(E)),N=dc(C/d*sc(E));(k-=2*I)>lc?(w+=I*=g?1:-1,M-=I):(k=0,w=M=(p+_)/2),(A-=2*N)>lc?(y+=N*=g?1:-1,x-=N):(A=0,y=x=(p+_)/2)}var O=d*ic(y),P=d*sc(y),F=h*ic(M),D=h*sc(M);if(lc<S){var R=d*ic(x),B=d*sc(x),z=h*ic(w),q=h*sc(w);if(b<fc){var U=lc<k?[(a=O)+(u=((l=F-(r=R))*((i=P)-(o=B))-(f=D-o)*(a-r))/(f*(s=z-a)-l*(c=q-i)))*s,i+u*c]:[F,D],j=O-U[0],H=P-U[1],V=R-U[0],Y=B-U[1],G=1/sc((1<(n=(j*V+H*Y)/(cc(j*j+H*H)*cc(V*V+Y*Y)))?0:n<-1?fc:Math.acos(n))/2),W=cc(U[0]*U[0]+U[1]*U[1]);T=oc(S,(h-W)/(G-1)),L=oc(S,(d-W)/(G+1))}}lc<A?lc<L?(v=mc(z,q,O,P,d,L,g),m=mc(R,B,F,D,d,L,g),et.moveTo(v.cx+v.x01,v.cy+v.y01),L<S?et.arc(v.cx,v.cy,L,ac(v.y01,v.x01),ac(m.y01,m.x01),!g):(et.arc(v.cx,v.cy,L,ac(v.y01,v.x01),ac(v.y11,v.x11),!g),et.arc(0,0,d,ac(v.cy+v.y11,v.cx+v.x11),ac(m.cy+m.y11,m.cx+m.x11),!g),et.arc(m.cx,m.cy,L,ac(m.y11,m.x11),ac(m.y01,m.x01),!g))):(et.moveTo(O,P),et.arc(0,0,d,y,x,!g)):et.moveTo(O,P),lc<h&&lc<k?lc<T?(v=mc(F,D,R,B,h,-T,g),m=mc(O,P,z,q,h,-T,g),et.lineTo(v.cx+v.x01,v.cy+v.y01),T<S?et.arc(v.cx,v.cy,T,ac(v.y01,v.x01),ac(m.y01,m.x01),!g):(et.arc(v.cx,v.cy,T,ac(v.y01,v.x01),ac(v.y11,v.x11),!g),et.arc(0,0,h,ac(v.cy+v.y11,v.cx+v.x11),ac(m.cy+m.y11,m.cx+m.x11),g),et.arc(m.cx,m.cy,T,ac(m.y11,m.x11),ac(m.y01,m.x01),!g))):et.arc(0,0,h,M,w,g):et.lineTo(F,D)}else et.moveTo(0,0);if(et.closePath(),t)return et=null,t+""||null}return e.centroid=function(){var t=(+X.apply(this,arguments)+ +Z.apply(this,arguments))/2,e=(+Q.apply(this,arguments)+ +J.apply(this,arguments))/2-fc/2;return[ic(e)*t,sc(e)*t]},e.innerRadius=function(t){return arguments.length?(X="function"==typeof t?t:ec(+t),e):X},e.outerRadius=function(t){return arguments.length?(Z="function"==typeof t?t:ec(+t),e):Z},e.cornerRadius=function(t){return arguments.length?($="function"==typeof t?t:ec(+t),e):$},e.padRadius=function(t){return arguments.length?(K=null==t?null:"function"==typeof t?t:ec(+t),e):K},e.startAngle=function(t){return arguments.length?(Q="function"==typeof t?t:ec(+t),e):Q},e.endAngle=function(t){return arguments.length?(J="function"==typeof t?t:ec(+t),e):J},e.padAngle=function(t){return arguments.length?(tt="function"==typeof t?t:ec(+t),e):tt},e.context=function(t){return arguments.length?(et=null==t?null:t,e):et},e}function xc(t){this._context=t}function wc(t){return new xc(t)}function Mc(t){return t[0]}function kc(t){return t[1]}function Ac(){var o=Mc,s=kc,c=ec(!0),l=null,f=wc,u=null;function e(t){var e,n,a,i=t.length,r=!1;for(null==l&&(u=f(a=tc())),e=0;e<=i;++e)!(e<i&&c(n=t[e],e,t))===r&&((r=!r)?u.lineStart():u.lineEnd()),r&&u.point(+o(n,e,t),+s(n,e,t));if(a)return u=null,a+""||null}return e.x=function(t){return arguments.length?(o="function"==typeof t?t:ec(+t),e):o},e.y=function(t){return arguments.length?(s="function"==typeof t?t:ec(+t),e):s},e.defined=function(t){return arguments.length?(c="function"==typeof t?t:ec(!!t),e):c},e.curve=function(t){return arguments.length?(f=t,null!=l&&(u=f(l)),e):f},e.context=function(t){return arguments.length?(null==t?l=u=null:u=f(l=t),e):l},e}function Ec(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function Cc(t){return t}function Sc(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Tc(t){this._context=t}function Lc(t,e){this._basis=new Tc(t),this._beta=e}xc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Tc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sc(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Lc.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var a,i=t[0],r=e[0],o=t[n]-i,s=e[n]-r,c=-1;++c<=n;)a=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+a*o),this._beta*e[c]+(1-this._beta)*(r+a*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Ic=function e(n){function t(t){return 1===n?new Tc(t):new Lc(t,n)}return t.beta=function(t){return e(+t)},t}(.85);function Nc(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Oc(t,e){this._context=t,this._k=(1-e)/6}Oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Nc(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Nc(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Pc=function e(n){function t(t){return new Oc(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Fc(t,e){this._context=t,this._alpha=e}Fc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(t,e,n){var a=t._x1,i=t._y1,r=t._x2,o=t._y2;if(t._l01_a>lc){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);a=(a*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>lc){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);r=(r*l+t._x1*t._l23_2a-e*t._l12_2a)/f,o=(o*l+t._y1*t._l23_2a-n*t._l12_2a)/f}t._context.bezierCurveTo(a,i,r,o,t._x2,t._y2)}(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Dc=function e(n){function t(t){return n?new Fc(t,n):new Oc(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Rc(t){return t<0?-1:1}function Bc(t,e,n){var a=t._x1-t._x0,i=e-t._x1,r=(t._y1-t._y0)/(a||i<0&&-0),o=(n-t._y1)/(i||a<0&&-0),s=(r*i+o*a)/(a+i);return(Rc(r)+Rc(o))*Math.min(Math.abs(r),Math.abs(o),.5*Math.abs(s))||0}function zc(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function qc(t,e,n){var a=t._x0,i=t._y0,r=t._x1,o=t._y1,s=(r-a)/3;t._context.bezierCurveTo(a+s,i+s*e,r-s,o-s*n,r,o)}function Uc(t){this._context=t}function jc(t){this._context=new Hc(t)}function Hc(t){this._context=t}function Vc(t){this._context=t}function Yc(t){var e,n,a=t.length-1,i=new Array(a),r=new Array(a),o=new Array(a);for(r[i[0]=0]=2,o[0]=t[0]+2*t[1],e=1;e<a-1;++e)i[e]=1,r[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[a-1]=2,r[a-1]=7,o[a-1]=8*t[a-1]+t[a],e=1;e<a;++e)n=i[e]/r[e-1],r[e]-=n,o[e]-=n*o[e-1];for(i[a-1]=o[a-1]/r[a-1],e=a-2;0<=e;--e)i[e]=(o[e]-i[e+1])/r[e];for(r[a-1]=(t[a]+i[a-1])/2,e=0;e<a-1;++e)r[e]=2*t[e+1]-i[e+1];return[i,r]}function Gc(t,e){this._context=t,this._t=e}Uc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qc(this,this._t0,zc(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qc(this,zc(this,n=Bc(this,t,e)),n);break;default:qc(this,this._t0,n=Bc(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(jc.prototype=Object.create(Uc.prototype)).point=function(t,e){Uc.prototype.point.call(this,e,t)},Hc.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,a,i,r){this._context.bezierCurveTo(e,t,a,n,r,i)}},Vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var a=Yc(t),i=Yc(e),r=0,o=1;o<n;++r,++o)this._context.bezierCurveTo(a[0][r],i[0][r],a[1][r],i[1][r],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Gc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Wc=function(){var p=Cc,_=Ec,b=null,g=ec(0),v=ec(hc),m=ec(0);function e(n){var t,e,a,i,r,o=n.length,s=0,c=new Array(o),l=new Array(o),f=+g.apply(this,arguments),u=Math.min(hc,Math.max(-hc,v.apply(this,arguments)-f)),h=Math.min(Math.abs(u)/o,m.apply(this,arguments)),d=h*(u<0?-1:1);for(t=0;t<o;++t)0<(r=l[c[t]=t]=+p(n[t],t,n))&&(s+=r);for(null!=_?c.sort(function(t,e){return _(l[t],l[e])}):null!=b&&c.sort(function(t,e){return b(n[t],n[e])}),t=0,a=s?(u-o*d)/s:0;t<o;++t,f=i)e=c[t],i=f+(0<(r=l[e])?r*a:0)+d,l[e]={data:n[e],index:t,value:r,startAngle:f,endAngle:i,padAngle:h};return l}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:ec(+t),e):p},e.sortValues=function(t){return arguments.length?(_=t,b=null,e):_},e.sort=function(t){return arguments.length?(b=t,_=null,e):b},e.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:ec(+t),e):g},e.endAngle=function(t){return arguments.length?(v="function"==typeof t?t:ec(+t),e):v},e.padAngle=function(t){return arguments.length?(m="function"==typeof t?t:ec(+t),e):m},e}().value(function(t){return t.value}).sort(null);function Xc(t,e,n,a){var i=Jn((e=e||this)._current,{startAngle:t.startAngle,endAngle:t.endAngle});e._current=i(0);var r=Jn(e._prev_r,n);return function(t){var e=r(t);return a.outerRadius(e).innerRadius(e*D.donut_inner_radius/100),a(i(t))}}function Zc(t){return"translate("+t.data.facet.scales.w/2+","+t.data.facet.scales.h/2+")"}function $c(t){return Math.min(t.data.facet.scales.h,t.data.facet.scales.w)/2*Math.sqrt(t.data.facet.scales.sum_scale_ratio)}var Kc={area:function(){var f=Mc,u=null,h=ec(0),d=kc,p=ec(!0),_=null,b=wc,g=null;function e(t){var e,n,a,i,r,o=t.length,s=!1,c=new Array(o),l=new Array(o);for(null==_&&(g=b(r=tc())),e=0;e<=o;++e){if(!(e<o&&p(i=t[e],e,t))===s)if(s=!s)n=e,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),a=e-1;n<=a;--a)g.point(c[a],l[a]);g.lineEnd(),g.areaEnd()}s&&(c[e]=+f(i,e,t),l[e]=+h(i,e,t),g.point(u?+u(i,e,t):c[e],d?+d(i,e,t):l[e]))}if(r)return g=null,r+""||null}function t(){return Ac().defined(p).curve(b).context(_)}return e.x=function(t){return arguments.length?(f="function"==typeof t?t:ec(+t),u=null,e):f},e.x0=function(t){return arguments.length?(f="function"==typeof t?t:ec(+t),e):f},e.x1=function(t){return arguments.length?(u=null==t?null:"function"==typeof t?t:ec(+t),e):u},e.y=function(t){return arguments.length?(h="function"==typeof t?t:ec(+t),d=null,e):h},e.y0=function(t){return arguments.length?(h="function"==typeof t?t:ec(+t),e):h},e.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:ec(+t),e):d},e.lineX0=e.lineY0=function(){return t().x(f).y(h)},e.lineY1=function(){return t().x(f).y(d)},e.lineX1=function(){return t().x(u).y(h)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:ec(!!t),e):p},e.curve=function(t){return arguments.length?(b=t,null!=_&&(g=b(_)),e):b},e.context=function(t){return arguments.length?(null==t?_=g=null:g=b(_=t),e):_},e},line:Ac,curveBasis:function(t){return new Tc(t)},curveBundle:Ic,curveCardinal:Pc,curveCatmullRom:Dc,curveLinear:wc,curveMonotoneX:function(t){return new Uc(t)},curveMonotoneY:function(t){return new jc(t)},curveNatural:function(t){return new Vc(t)},curveStep:function(t){return new Gc(t,.5)},curveStepAfter:function(t){return new Gc(t,1)},curveStepBefore:function(t){return new Gc(t,0)}};function Qc(t){return D.y_axis_log&&t<=0?.01:t}function Jc(t){return"translate("+t.facet.layout.x+","+t.facet.layout.y+")"}function tl(t,e,n){var a=Kc.area().x(function(t){return t.facet.scales.label(t.label)}).y0(function(t){return t.facet.scales.value(Qc(t.value))}).y1(function(t){return t.facet.scales.value(Qc((e=t,"area"==D.chart_type?0:e.hasOwnProperty("value_base")?e.value_base:e.value)));var e}).curve(Kc[D.line_curve]||Kc.curveLinear),i=G("#areas").selectAll(".series").data(t),r=i.enter().append("g").attr("class","series").attr("pointer-events","none");r.append("path").attr("class","area").attr("transform",Jc).attr("fill-opacity",rt.area?D.area_opacity:0).attr("fill",function(t){return Oo(t.index)}).attr("clip-path",function(t,e){return"url(#clip-"+t.facet.index+"-"+e+")"}),i.merge(r).select("path.area").transition().duration(e?0:D.data_trans_duration).delay(n).attr("transform",Jc).attr("fill-opacity",rt.area?D.area_opacity:0).attr("fill",function(t){return Oo(t.index)}).attr("d",function(t){return a(t[rt.data_points])}),i.exit().remove()}function el(t,e,n,a){!function(t,e,n,a){var i=Kc.line().x(function(t){return t.facet.scales.label(t.label)}).y(function(t){return t.facet.scales.value(Qc(t.value))}).curve(Kc[D.line_curve]||Kc.curveLinear),r=G("#lines").selectAll(".series").data(t),o=r.enter().append("g").attr("class","series");o.append("clipPath").attr("id",function(t,e){return"clip-"+t.facet.index+"-"+e}).append("rect").attr("width",0).attr("y",-D.margin_top).attr("height",function(t){return t.facet.scales.h+D.margin_top+D.margin_bottom}),o.append("path").attr("class","line").attr("opacity",D.line_opacity).attr("fill","none").attr("stroke",function(t){return Oo(t.index)}).attr("stroke-width",D.line_width).attr("transform",Jc).attr("clip-path",function(t,e){return"url(#clip-"+t.facet.index+"-"+e+")"}),o.append("text").attr("class","label").attr("font-size",11).attr("alignment-baseline","middle").attr("opacity",0).attr("x",(D.dot_radius_last||D.dot_radius)+2).attr("fill",function(t){return Oo(t.index)}).attr("transform",c);var s=r.merge(o);function c(t){var e=t[rt.data_points],n=e[e.length-1]||null;return n?"translate("+(t.facet.scales.label(n.label)+t.facet.layout.x)+","+(t.facet.scales.value(n.value)+t.facet.layout.y)+")":null}s.select("clipPath rect").transition().duration(e?0:D.data_trans_duration).delay(e?0:a).attr("y",-D.margin_top).attr("height",function(t){return t.facet.scales.h+D.margin_top+D.margin_bottom}).attr("width",function(t){return t.facet.scales.w}).attr("width",function(t){return"line"==rt.mode?t.facet.scales.w:0}).on("interrupt",function(t){G(this).attr("height",t.facet.scales.h+D.margin_top+D.margin_bottom).attr("width","line"==rt.mode?t.facet.scales.w:0)}),s.select("path.line").transition().duration(e?0:D.data_trans_duration).delay(n).attr("opacity",D.line_opacity).attr("fill","none").attr("stroke",function(t){return Oo(t.index)}).attr("stroke-width",D.line_width).attr("transform",Jc).attr("d",function(t){return i(t[rt.data_points])}),s.select(".label").text(function(t){return D.line_end_labels?t.name:""}).transition().duration(e?0:D.data_trans_duration).delay(n).attr("fill",function(t){return Oo(t.index)}).attr("x",(D.dot_radius_last||D.dot_radius)+2).attr("opacity","line"==rt.mode?1:0).attr("transform",c),r.exit().remove()}(t,e,n,a),tl(t,e,n)}var nl=Array.prototype.slice;function al(t){return t}var il=1,rl=2,ol=3,sl=4,cl=1e-6;function ll(t){return"translate("+(t+.5)+",0)"}function fl(t){return"translate(0,"+(t+.5)+")"}function ul(){return!this.__axis}function hl(_,b){var g=[],v=null,m=null,y=6,x=6,w=3,M=_===il||_===sl?-1:1,k=_===sl||_===rl?"x":"y",A=_===il||_===ol?ll:fl;function e(t){var e=null==v?b.ticks?b.ticks.apply(b,g):b.domain():v,n=null==m?b.tickFormat?b.tickFormat.apply(b,g):al:m,a=Math.max(y,0)+w,i=b.range(),r=+i[0]+.5,o=+i[i.length-1]+.5,s=(b.bandwidth?function(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}:function(e){return function(t){return+e(t)}})(b.copy()),c=t.selection?t.selection():t,l=c.selectAll(".domain").data([null]),f=c.selectAll(".tick").data(e,b).order(),u=f.exit(),h=f.enter().append("g").attr("class","tick"),d=f.select("line"),p=f.select("text");l=l.merge(l.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),f=f.merge(h),d=d.merge(h.append("line").attr("stroke","#000").attr(k+"2",M*y)),p=p.merge(h.append("text").attr("fill","#000").attr(k,M*a).attr("dy",_===il?"0em":_===ol?"0.71em":"0.32em")),t!==c&&(l=l.transition(t),f=f.transition(t),d=d.transition(t),p=p.transition(t),u=u.transition(t).attr("opacity",cl).attr("transform",function(t){return isFinite(t=s(t))?A(t):this.getAttribute("transform")}),h.attr("opacity",cl).attr("transform",function(t){var e=this.parentNode.__axis;return A(e&&isFinite(e=e(t))?e:s(t))})),u.remove(),l.attr("d",_===sl||_==rl?"M"+M*x+","+r+"H0.5V"+o+"H"+M*x:"M"+r+","+M*x+"V0.5H"+o+"V"+M*x),f.attr("opacity",1).attr("transform",function(t){return A(s(t))}),d.attr(k+"2",M*y),p.attr(k,M*a).text(n),c.filter(ul).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",_===rl?"start":_===sl?"end":"middle"),c.each(function(){this.__axis=s})}return e.scale=function(t){return arguments.length?(b=t,e):b},e.ticks=function(){return g=nl.call(arguments),e},e.tickArguments=function(t){return arguments.length?(g=null==t?[]:nl.call(t),e):g.slice()},e.tickValues=function(t){return arguments.length?(v=null==t?null:nl.call(t),e):v&&v.slice()},e.tickFormat=function(t){return arguments.length?(m=t,e):m},e.tickSize=function(t){return arguments.length?(y=x=+t,e):y},e.tickSizeInner=function(t){return arguments.length?(y=+t,e):y},e.tickSizeOuter=function(t){return arguments.length?(x=+t,e):x},e.tickPadding=function(t){return arguments.length?(w=+t,e):w},e}function dl(t){D.multiplier&&(t*=D.multiplier);var e=Math.pow(10,D.decimals),n=Math.round(t*e)/e;$a({decimal:D.decimal_separator,thousands:"."==D.decimal_separator?",":".",grouping:[3],currency:["",""]});var a=rt.proportional?"%":D.number_suffix;return D.number_prefix+Ga(",")(n)+a}var pl,_l,bl=500;function gl(t){var e=t.selectAll("text"),n=-1/0;e.style("visibility",function(){var t=this.getBoundingClientRect(),e="hidden";return n<=t.left-2&&(0!==t.left&&0!==t.right&&(n=t.right),e="visible"),e})}function vl(t,c){var e=t.selectAll("text"),l=null;e.style("visibility",function(){var t,e,n,a=(e=(t=this).getBBox(),{x:(n=G(t.parentNode).attr("transform").match(/.*translate\((\d[.\d]*)/))?parseFloat(n[1]):NaN,width:e.width,height:e.height});if(!l)return l=a,"visible";var i=a.x-l.x,r=.5*(a.height+l.height),o=a.width,s="hidden";return(r<i*Math.sin(c)||o<i*Math.cos(c))&&(l=a,s="visible"),s})}function ml(t,e,n,a,i){var r,o,s,c,l,f,u="none"!=D.y_axis_tick_style&&rt.has_axes?[e]:[],h="gridlines"==D.y_axis_tick_style,d=h&&D.y_axis_ticks_inline,p=hl(sl,r).scale(rt.values_on_x?n.label:n.value).tickFormat(function(t){return rt.values_on_x?t:dl(t)}).tickSizeOuter(0).tickSizeInner(h?-n.w:6).tickPadding(d?-3:3).ticks(null==D.y_axis_num_ticks?null:D.y_axis_num_ticks),_=t.select(".axes").selectAll(".y.axis").data(u),b=_.enter().append("g").attr("class","y axis").call(p);_.merge(b).transition().duration(a?0:D.data_trans_duration).delay(i).call(p).on("end",function(){var e=1/0,t=G(this).selectAll(".tick");setTimeout(function(){t.style("visibility",function(){var t=this.getBoundingClientRect();return e<t.bottom+2?"hidden":(0!=t.top&&0!=t.bottom&&(e=t.top),"visible")})},0)}),_.exit().transition().duration(bl).delay(i).attr("opacity",0).remove(),o=e,s=h,c=d,l=a,(f=t.select(".y.axis")).selectAll(".tick").select("text").attr("opacity",o.layout.has_y_axis?1:0).attr("text-anchor",c?"start":"end").transition("style").duration(l?0:D.data_trans_duration).attr("font-size",D.y_axis_tick_font_size).attr("fill",D.y_axis_color).attr("dy",c?"-0.33em":"0.33em"),f.selectAll("line, path").attr("stroke",D.y_axis_tick_color).attr("stroke-dasharray",D.y_axis_tick_dashed),f.select(".domain").style("visibility",s?"hidden":null),function(t,e,n,a,i,r){var o=e.select(".axes").selectAll(".y.axis-label").data(D.y_axis_label&&t.layout.has_y_axis?[D.y_axis_label]:[]),s=o.enter().append("text").attr("class","y axis-label").attr("transform",c).attr("fill",D.y_axis_color).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size",D.y_axis_label_font_size);function c(){var t="none"==D.y_axis_tick_style||a?0:D.y_axis_tick_w;return"rotate(-90) translate("+-n.h/2+","+-(D.y_axis_label_font_size+t)+")"}o.merge(s).text(function(t){return t}).transition().duration(i?0:D.data_trans_duration).delay(r).attr("fill",D.y_axis_color).attr("transform",c).attr("font-size",D.y_axis_label_font_size),o.exit().transition().duration(bl).delay(r).attr("opacity",0).remove()}(e,t,n,d,a,i)}function yl(t,e,n,a,i){var r,o,s="none"!=D.x_axis_tick_style&&rt.has_axes?[e]:[],c="gridlines"==D.x_axis_tick_style,l=c&&D.x_axis_ticks_inline,f=hl(ol,r).scale(rt.values_on_x?n.value:n.label).tickFormat(function(t){return rt.values_on_x?dl(t):t}).tickSizeOuter(0).tickSizeInner(c?-n.h:6).tickPadding(l?2:3).ticks(null==D.x_axis_num_ticks?null:D.x_axis_num_ticks),u=t.select(".axes").selectAll(".x.axis").data(s);o=rt.values_on_x?n.h:"column"==rt.mode&&n.value.domain()[0]<0||"gridlines"==D.x_axis_tick_style?n.value(n.value.domain()[0]):n.value(Math.max(0,n.value.domain()[0]));var h,d,p,_,b,g,v,m,y=u.enter().append("g").attr("class","x axis").attr("transform","translate(0,"+o+")").call(f),x=parseFloat(D.x_axis_tick_angle)*(Math.PI/180),w=x?vl:gl;u.merge(y).transition().duration(a?0:D.data_trans_duration).delay(i).attr("transform","translate(0,"+o+")").call(f).on("end",function(){var t=G(this);setTimeout(function(){w(t,x)},0)}),u.exit().transition().duration(bl).delay(i).attr("opacity",0).remove(),h=e,d=c,p=l,_=a,b=t.selectAll(".x.axis"),g=b.selectAll(".tick"),v=g.size(),m=p?"-90":-D.x_axis_tick_angle,g.select("text").attr("dy",function(t,e){return p?e==v-1?"-0.33em":"0":"-9"}).transition("style").duration(_?0:D.data_trans_duration).attr("opacity",h.layout.has_x_axis?1:0).attr("dominant-baseline",function(t,e){return p?e==v-1?"ideographic":"hanging":p?"hanging":"central"}).style("text-anchor",function(){return p?"start":0==m?"middle":"end"}).attr("font-size",D.x_axis_tick_font_size).attr("fill",D.x_axis_color).attr("transform","translate(0,15) rotate("+m+")").attr("dx",function(){return p?"17":0==m?0:"5"}),b.selectAll("line, path").attr("stroke",D.x_axis_tick_color).attr("stroke-dasharray",D.x_axis_tick_dashed),b.select(".domain").style("visibility",d?"hidden":null),function(t,e,n,a,i,r){var o=e.select(".axes").selectAll(".x.axis-label").data(D.x_axis_label&&t.layout.has_x_axis?[D.x_axis_label]:[]),s=o.enter().append("text").attr("class","x axis-label").attr("transform",c).attr("fill",D.y_axis_color).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size",D.x_axis_label_font_size);function c(){var t="none"==D.x_axis_tick_style||a?0:D.x_axis_tick_h;return"translate("+n.w/2+","+(n.h+D.x_axis_label_font_size+t)+")"}o.merge(s).text(function(t){return t}).attr("fill",D.x_axis_color).transition().duration(i?0:D.data_trans_duration).delay(r).attr("font-size",D.x_axis_label_font_size).attr("transform",c),o.exit().transition().duration(bl).delay(r).attr("opacity",0).remove()}(e,t,n,l,a,i)}function xl(t){return Math.min(12,Math.max(9,t/25))}function wl(t){return t.replace(/\s*::\s*/,"::").split("::")}function Ml(t){return t.replace(/\s*>>\s*/,">>").split(">>")}function kl(t,e,n){var a=G(".annotations."+n).selectAll("g.axis-highlights").data(Pt),i=a.enter().append("g").attr("class","axis-highlights").attr("transform",function(t){return"translate("+t.layout.x+", "+t.layout.y+")"}).style("opacity",0);a.merge(i).transition().duration(e?0:D.data_trans_duration).style("opacity",1).attr("transform",function(t){return"translate("+t.layout.x+", "+t.layout.y+")"}).each(function(t){!function(t,e,n,a){var i=e.scales,r=i.h,o=D.anno_x_label_align,s=rt.values_on_x?i.value:i.label,c=rt.values_on_x?"number":Pt.label_type,l=[];D.anno_x_enabled&&rt.has_axes&&D.anno_x_lines&&a==D.anno_x_stack&&D.anno_x_lines.split("\n").forEach(function(t){var e=wl(t),n=e[0],a=e[1];if(void 0!==a){var i="number"===c?parseFloat(a.replace(pl,"")):NaN;l.push({label:n,x:isNaN(i)?a:i})}});var f=G(t).selectAll("g.line.x").data(l),u=f.enter().append("g").attr("class","line x").attr("transform",function(t){return"translate("+(s(t.x)||0)+", 0)"});u.append("line").attr("width",0),u.append("text").attr("transform","rotate(-90)");var h=f.merge(u);h.transition().duration(_l).attr("transform",function(t){return"translate("+(s(t.x)||0)+", 0)"}),h.select("line").attr("stroke-dasharray",D.anno_x_line_dash+" "+D.anno_x_line_dash).attr("stroke",D.anno_x_line_color).attr("stroke-width",D.anno_x_line_width).attr("y2",r),h.select("text").text(function(t){return t.label}).attr("fill",D.anno_x_line_color).attr("transform",function(){return"translate(0, "+("left"==o?r-6:"right"==o?6:r/2)+") rotate(-90)"}).attr("text-anchor","left"==o?"start":"right"==o?"end":"middle").attr("dy",function(t){return(s(t.x)||0)<xl(i.w)?"1.25em":"-0.5em"}).attr("font-size",xl(i.w)),f.exit().remove()}(this,t,0,n),function(t,e,n,a){var i=e.scales,r=i.h,o=D.anno_x_label_align,s=rt.values_on_x?i.value:i.label,c=rt.values_on_x?"number":Pt.label_type,l=[];D.anno_x_enabled&&rt.has_axes&&D.anno_x_areas&&a==D.anno_x_stack&&D.anno_x_areas.split("\n").map(function(t){var e=wl(t);if(!(e.length<2)){var n=e[0],a=Ml(e[1]).map(function(t){var e="number"===c?parseFloat(t.replace(pl,"")):NaN;return isNaN(e)?t:e});1<a.length&&l.push({label:n,range:a})}});var f=G(t).selectAll("g.area.x").data(l),u=f.enter().append("g").attr("class","area x").attr("transform",function(t){return"translate("+(Math.min(s(t.range[0]),s(t.range[1]))||0)+", 0)"});u.append("rect").attr("height",r).attr("width",function(t){return Math.abs(s(t.range[1])-s(t.range[0]))||0}),u.append("text").attr("transform","rotate(-90)");var h=f.merge(u);h.transition().duration(_l).attr("transform",function(t){return"translate("+(Math.min(s(t.range[0]),s(t.range[1]))||0)+", 0)"}),h.select("rect").attr("width",function(t){return Math.abs(s(t.range[1])-s(t.range[0]))||0}).attr("fill",D.anno_x_fill_color).attr("opacity",D.anno_x_fill_opacity).attr("height",r),h.select("text").text(function(t){return t.label}).attr("fill",D.anno_x_label_color).attr("transform",function(){return"translate(0, "+("left"==o?r-6:"right"==o?6:r/2)+") rotate(-90)"}).attr("text-anchor","left"==o?"start":"right"==o?"end":"middle").attr("dominant-baseline","hanging").attr("dy","0.33em").attr("font-size",xl(i.w)),f.exit().remove()}(this,t,0,n),function(t,e,n,a){var i=e.scales,r=i.w,o=D.anno_y_label_align,s=rt.values_on_x?i.label:i.value,c=rt.values_on_x?Pt.label_type:"number",l=[];D.anno_y_enabled&&rt.has_axes&&D.anno_y_lines&&a==D.anno_y_stack&&D.anno_y_lines.split("\n").forEach(function(t){var e=wl(t),n=e[0],a=e[1];if(void 0!==a){var i="number"===c?parseFloat(a.replace(pl,"")):NaN;l.push({label:n,y:isNaN(i)?a:i})}});var f=G(t).selectAll("g.line.y").data(l),u=f.enter().append("g").attr("class","line y").attr("transform",function(t){return"translate(0, "+s(t.y)+")"});u.append("line").attr("width",0),u.append("text");var h=f.merge(u);h.transition().duration(_l).attr("transform",function(t){return"translate(0, "+s(t.y)+")"}),h.select("line").attr("stroke-dasharray",D.anno_y_line_dash+" "+D.anno_y_line_dash).attr("stroke",D.anno_y_line_color).attr("stroke-width",D.anno_y_line_width).attr("x2",r),h.select("text").text(function(t){return t.label}).attr("fill",D.anno_y_line_color).attr("x","left"==o?10:"right"==o?r-6:r/2).attr("text-anchor","left"==o?"start":"right"==o?"end":"middle").attr("dy","-0.5em").attr("font-size",xl(r)),f.exit().remove()}(this,t,0,n),function(t,e,n,a){var i=e.scales,r=i.w,o=D.anno_y_label_align,s=rt.values_on_x?i.label:i.value,c=rt.values_on_x?Pt.label_type:"number",l=[];D.anno_y_enabled&&rt.has_axes&&D.anno_y_areas&&a==D.anno_y_stack&&D.anno_y_areas.split("\n").map(function(t){var e=wl(t);if(!(e.length<2)){var n=e[0],a=Ml(e[1]).map(function(t){var e="number"===c?parseFloat(t.replace(pl,"")):NaN;return isNaN(e)?t:e});1<a.length&&l.push({label:n,range:a})}});var f=G(t).selectAll("g.area.y").data(l),u=f.enter().append("g").attr("class","area y").attr("transform",function(t){return"translate(0, "+Math.min(s(t.range[0]),s(t.range[1]))+")"});u.append("rect").attr("width",r).attr("height",function(t){return Math.abs(s(t.range[1])-s(t.range[0]))}),u.append("text");var h=f.merge(u);h.transition().duration(_l).attr("transform",function(t){return"translate(0, "+Math.min(s(t.range[0]),s(t.range[1]))+")"}),h.select("rect").attr("height",function(t){return Math.abs(s(t.range[1])-s(t.range[0]))}).attr("fill",D.anno_y_fill_color).attr("opacity",D.anno_y_fill_opacity).attr("width",r),h.select("text").text(function(t){return t.label}).attr("fill",D.anno_y_label_color).attr("x","left"==o?10:"right"==o?r-6:r/2).attr("text-anchor","left"==o?"start":"right"==o?"end":"middle").attr("dominant-baseline","hanging").attr("dy","0.33em").attr("font-size",xl(r)),f.exit().remove()}(this,t,0,n)}),a.exit().remove()}function Al(t){return function(){return t}}function El(t){return t[0]}function Cl(t){return t[1]}function Sl(){this._=null}function Tl(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ll(t,e){var n=e,a=e.R,i=n.U;i?i.L===n?i.L=a:i.R=a:t._=a,a.U=i,n.U=a,n.R=a.L,n.R&&(n.R.U=n),a.L=n}function Il(t,e){var n=e,a=e.L,i=n.U;i?i.L===n?i.L=a:i.R=a:t._=a,a.U=i,n.U=a,n.L=a.R,n.L&&(n.L.U=n),a.R=n}function Nl(t){for(;t.L;)t=t.L;return t}function Ol(t,e,n,a){var i=[null,null],r=ef.push(i)-1;return i.left=t,i.right=e,n&&Fl(i,t,e,n),a&&Fl(i,e,t,a),Jl[t.index].halfedges.push(r),Jl[e.index].halfedges.push(r),i}function Pl(t,e,n){var a=[e,n];return a.left=t,a}function Fl(t,e,n,a){t[0]||t[1]?t.left===n?t[1]=a:t[0]=a:(t[0]=a,t.left=e,t.right=n)}function Dl(t,e,n,a,i){var r,o=t[0],s=t[1],c=o[0],l=o[1],f=0,u=1,h=s[0]-c,d=s[1]-l;if(r=e-c,h||!(0<r)){if(r/=h,h<0){if(r<f)return;r<u&&(u=r)}else if(0<h){if(u<r)return;f<r&&(f=r)}if(r=a-c,h||!(r<0)){if(r/=h,h<0){if(u<r)return;f<r&&(f=r)}else if(0<h){if(r<f)return;r<u&&(u=r)}if(r=n-l,d||!(0<r)){if(r/=d,d<0){if(r<f)return;r<u&&(u=r)}else if(0<d){if(u<r)return;f<r&&(f=r)}if(r=i-l,d||!(r<0)){if(r/=d,d<0){if(u<r)return;f<r&&(f=r)}else if(0<d){if(r<f)return;r<u&&(u=r)}return(0<f||u<1)&&(0<f&&(t[0]=[c+f*h,l+f*d]),u<1&&(t[1]=[c+u*h,l+u*d])),!0}}}}}function Rl(t,e,n,a,i){var r=t[1];if(r)return!0;var o,s,c=t[0],l=t.left,f=t.right,u=l[0],h=l[1],d=f[0],p=f[1],_=(u+d)/2,b=(h+p)/2;if(p===h){if(_<e||a<=_)return;if(d<u){if(c){if(c[1]>=i)return}else c=[_,n];r=[_,i]}else{if(c){if(c[1]<n)return}else c=[_,i];r=[_,n]}}else if(s=b-(o=(u-d)/(p-h))*_,o<-1||1<o)if(d<u){if(c){if(c[1]>=i)return}else c=[(n-s)/o,n];r=[(i-s)/o,i]}else{if(c){if(c[1]<n)return}else c=[(i-s)/o,i];r=[(n-s)/o,n]}else if(h<p){if(c){if(c[0]>=a)return}else c=[e,o*e+s];r=[a,o*a+s]}else{if(c){if(c[0]<e)return}else c=[a,o*a+s];r=[e,o*e+s]}return t[0]=c,t[1]=r,!0}function Bl(t,e){return e[+(e.left!==t.site)]}Sl.prototype={constructor:Sl,insert:function(t,e){var n,a,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Nl(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(a=n.U).L?(i=a.R)&&i.C?(n.C=i.C=!1,a.C=!0,t=a):(t===n.R&&(Ll(this,n),n=(t=n).U),n.C=!1,a.C=!0,Il(this,a)):(i=a.L)&&i.C?(n.C=i.C=!1,a.C=!0,t=a):(t===n.L&&(Il(this,n),n=(t=n).U),n.C=!1,a.C=!0,Ll(this,a)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,a,i=t.U,r=t.L,o=t.R;if(n=r?o?Nl(o):r:o,i?i.L===t?i.L=n:i.R=n:this._=n,r&&o?(a=n.C,n.C=t.C,((n.L=r).U=n)!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,(n.R=o).U=n):(n.U=i,t=(i=n).R)):(a=t.C,t=n),t&&(t.U=i),!a)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ll(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Il(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ll(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Il(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ll(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Il(this,i),t=this._;break}e.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}};var zl,ql=[];function Ul(){Tl(this),this.x=this.y=this.arc=this.site=this.cy=null}function jl(t){var e=t.P,n=t.N;if(e&&n){var a=e.site,i=t.site,r=n.site;if(a!==r){var o=i[0],s=i[1],c=a[0]-o,l=a[1]-s,f=r[0]-o,u=r[1]-s,h=2*(c*u-l*f);if(!(-af<=h)){var d=c*c+l*l,p=f*f+u*u,_=(u*d-l*p)/h,b=(c*p-f*d)/h,g=ql.pop()||new Ul;g.arc=t,g.site=i,g.x=_+o,g.y=(g.cy=b+s)+Math.sqrt(_*_+b*b),t.circle=g;for(var v=null,m=tf._;m;)if(g.y<m.y||g.y===m.y&&g.x<=m.x){if(!m.L){v=m.P;break}m=m.L}else{if(!m.R){v=m;break}m=m.R}tf.insert(v,g),v||(zl=g)}}}}function Hl(t){var e=t.circle;e&&(e.P||(zl=e.N),tf.remove(e),ql.push(e),Tl(e),t.circle=null)}var Vl=[];function Yl(){Tl(this),this.edge=this.site=this.circle=null}function Gl(t){var e=Vl.pop()||new Yl;return e.site=t,e}function Wl(t){Hl(t),Ql.remove(t),Vl.push(t),Tl(t)}function Xl(t){var e=t.circle,n=e.x,a=e.cy,i=[n,a],r=t.P,o=t.N,s=[t];Wl(t);for(var c=r;c.circle&&Math.abs(n-c.circle.x)<nf&&Math.abs(a-c.circle.cy)<nf;)r=c.P,s.unshift(c),Wl(c),c=r;s.unshift(c),Hl(c);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<nf&&Math.abs(a-l.circle.cy)<nf;)o=l.N,s.push(l),Wl(l),l=o;s.push(l),Hl(l);var f,u=s.length;for(f=1;f<u;++f)l=s[f],c=s[f-1],Fl(l.edge,c.site,l.site,i);c=s[0],(l=s[u-1]).edge=Ol(c.site,l.site,null,i),jl(c),jl(l)}function Zl(t){for(var e,n,a,i,r,o=t[0],s=t[1],c=Ql._;c;)if(a=$l(c,s)-o,nf<a)c=c.L;else{if(i=o-Kl(c,s),!(nf<i)){-nf<a?(e=c.P,n=c):-nf<i?n=(e=c).N:e=n=c;break}if(!c.R){e=c;break}c=c.R}Jl[(r=t).index]={site:r,halfedges:[]};var l=Gl(t);if(Ql.insert(e,l),e||n){if(e===n)return Hl(e),n=Gl(e.site),Ql.insert(l,n),l.edge=n.edge=Ol(e.site,l.site),jl(e),void jl(n);if(n){Hl(e),Hl(n);var f=e.site,u=f[0],h=f[1],d=t[0]-u,p=t[1]-h,_=n.site,b=_[0]-u,g=_[1]-h,v=2*(d*g-p*b),m=d*d+p*p,y=b*b+g*g,x=[(g*m-p*y)/v+u,(d*y-b*m)/v+h];Fl(n.edge,f,_,x),l.edge=Ol(f,t,null,x),n.edge=Ol(t,_,null,x),jl(e),jl(n)}else l.edge=Ol(e.site,l.site)}}function $l(t,e){var n=t.site,a=n[0],i=n[1],r=i-e;if(!r)return a;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],c=n[1],l=c-e;if(!l)return s;var f=s-a,u=1/r-1/l,h=f/l;return u?(-h+Math.sqrt(h*h-2*u*(f*f/(-2*l)-c+l/2+i-r/2)))/u+a:(a+s)/2}function Kl(t,e){var n=t.N;if(n)return $l(n,e);var a=t.site;return a[1]===e?a[0]:1/0}var Ql,Jl,tf,ef,nf=1e-6,af=1e-12;function rf(t,e){return e[1]-t[1]||e[0]-t[0]}function of(t,e){var n,a,i,r=t.sort(rf).pop();for(ef=[],Jl=new Array(t.length),Ql=new Sl,tf=new Sl;;)if(i=zl,r&&(!i||r[1]<i.y||r[1]===i.y&&r[0]<i.x))r[0]===n&&r[1]===a||(Zl(r),n=r[0],a=r[1]),r=t.pop();else{if(!i)break;Xl(i.arc)}if(function(){for(var t,e,n,a,i=0,r=Jl.length;i<r;++i)if((t=Jl[i])&&(a=(e=t.halfedges).length)){var o=new Array(a),s=new Array(a);for(n=0;n<a;++n)o[n]=n,s[n]=(c=t,l=ef[e[n]],h=u=void 0,f=c.site,u=l.left,h=l.right,f===h&&(h=u,u=f),h?Math.atan2(h[1]-u[1],h[0]-u[0]):(f===u?(u=l[1],h=l[0]):(u=l[0],h=l[1]),Math.atan2(u[0]-h[0],h[1]-u[1])));for(o.sort(function(t,e){return s[e]-s[t]}),n=0;n<a;++n)s[n]=e[o[n]];for(n=0;n<a;++n)e[n]=s[n]}var c,l,f,u,h}(),e){var o=+e[0][0],s=+e[0][1],c=+e[1][0],l=+e[1][1];!function(t,e,n,a){for(var i,r=ef.length;r--;)Rl(i=ef[r],t,e,n,a)&&Dl(i,t,e,n,a)&&(Math.abs(i[0][0]-i[1][0])>nf||Math.abs(i[0][1]-i[1][1])>nf)||delete ef[r]}(o,s,c,l),function(t,e,n,a){var i,r,o,s,c,l,f,u,h,d,p,_,b,g,v=Jl.length,m=!0;for(i=0;i<v;++i)if(r=Jl[i]){for(o=r.site,s=(c=r.halfedges).length;s--;)ef[c[s]]||c.splice(s,1);for(s=0,l=c.length;s<l;)b=r,p=(d=(g=ef[c[s]])[+(g.left===b.site)])[0],_=d[1],u=(f=Bl(r,ef[c[++s%l]]))[0],h=f[1],(Math.abs(p-u)>nf||Math.abs(_-h)>nf)&&(c.splice(s,0,ef.push(Pl(o,d,Math.abs(p-t)<nf&&nf<a-_?[t,Math.abs(u-t)<nf?h:a]:Math.abs(_-a)<nf&&nf<n-p?[Math.abs(h-a)<nf?u:n,a]:Math.abs(p-n)<nf&&nf<_-e?[n,Math.abs(u-n)<nf?h:e]:Math.abs(_-e)<nf&&nf<p-t?[Math.abs(h-e)<nf?u:t,e]:null))-1),++l);l&&(m=!1)}if(m){var y,x,w,M=1/0;for(i=0,m=null;i<v;++i)(r=Jl[i])&&(w=(y=(o=r.site)[0]-t)*y+(x=o[1]-e)*x)<M&&(M=w,m=r);if(m){var k=[t,e],A=[t,a],E=[n,a],C=[n,e];m.halfedges.push(ef.push(Pl(o=m.site,k,A))-1,ef.push(Pl(o,A,E))-1,ef.push(Pl(o,E,C))-1,ef.push(Pl(o,C,k))-1)}}for(i=0;i<v;++i)(r=Jl[i])&&(r.halfedges.length||delete Jl[i])}(o,s,c,l)}this.edges=ef,this.cells=Jl,Ql=tf=ef=Jl=null}of.prototype={constructor:of,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return Bl(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var h=[],d=this.edges;return this.cells.forEach(function(t,e){if(a=(n=t.halfedges).length)for(var n,a,i,r,o,s,c=t.site,l=-1,f=d[n[a-1]],u=f.left===c?f.right:f.left;++l<a;)i=u,u=(f=d[n[l]]).left===c?f.right:f.left,i&&u&&e<i.index&&e<u.index&&(o=i,s=u,((r=c)[0]-s[0])*(o[1]-r[1])-(r[0]-o[0])*(s[1]-r[1])<0)&&h.push([c.data,i.data,u.data])}),h},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(o,s,t){for(var e,c,l=this,f=l._found||0,n=l.cells.length;!(c=l.cells[f]);)if(++f>=n)return null;for(var a=o-c.site[0],i=s-c.site[1],u=a*a+i*i;c=l.cells[e=f],f=null,c.halfedges.forEach(function(t){var e=l.edges[t],n=e.left;if(n!==c.site&&n||(n=e.right)){var a=o-n[0],i=s-n[1],r=a*a+i*i;r<u&&(u=r,f=n.index)}}),null!==f;);return l._found=e,null==t||u<=t*t?c.site:null}};var sf=function(){var i=El,r=Cl,e=null;function n(a){return new of(a.map(function(t,e){var n=[Math.round(i(t,e,a)/nf)*nf,Math.round(r(t,e,a)/nf)*nf];return n.index=e,n.data=t,n}),e)}return n.polygons=function(t){return n(t).polygons()},n.links=function(t){return n(t).links()},n.triangles=function(t){return n(t).triangles()},n.x=function(t){return arguments.length?(i="function"==typeof t?t:Al(+t),n):i},n.y=function(t){return arguments.length?(r="function"==typeof t?t:Al(+t),n):r},n.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],n):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},n.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],n):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},n}();function cf(t){return D.labels_responsive?"bar"==rt.mode?Math.min(D.labels_font_size,Math.max(D.labels_font_size_min,t.facet.scales.h/10)):Math.min(D.labels_font_size_max,Math.max(D.labels_font_size_min,t.facet.scales.w/45)):D.labels_font_size}function lf(t){return"off"==D.labels_bg_mode?0:cf(t)/(100/D.labels_bg_size)}function ff(t,e){var n,a,i,r,o=(a=e,i=this,r=Math.max(D.dot_radius,.1),D.dot_radius_last&&a==i.parentNode.__data__.data_points.length-1&&(r=D.dot_radius_last),r),s=this.getBBox().width,c=t.facet.scales.label(t.label),l=t.facet.scales.value((n=t.value,D.y_axis_log&&n<=0?.01:n))+1.2*cf(t),f=rt.facet_by_series?0:t.series;if("line"==rt.mode&&((c-=o/2)<s/2&&(c+=s/2),c>t.facet.scales.w-s/2&&(c-=s/2)),"column"==rt.mode&&(rt.stack?c+=t.facet.scales.col_w/2:c+=f*t.facet.scales.col_w+t.facet.scales.col_w/2),"donut"==rt.mode){var u="point-"+t.series+"-"+t.row_index,h=document.getElementById(u).__centroid__;return"translate("+(h[0]+t.facet.scales.w/2)+","+(h[1]+t.facet.scales.h/2)+")"}return"bar"==rt.mode&&((c=t.facet.scales.value(t.value)-cf(t)/4-s/2)<s&&(c+=s+cf(t)/2),l=t.facet.scales.label(t.label)+.33*cf(t),rt.stack?l+=t.facet.scales.label.bandwidth()/2:l+=f*t.facet.scales.col_w+t.facet.scales.col_w/2),"translate("+c+","+l+")"}function uf(t){return t.label}function hf(t){return rt.stack?dl(t.value-t.value_base):dl(t.value)}function df(t,e,n){return"donut"==rt.mode?Po(n):Oo(t.parentNode.__data__.series)}function pf(t,e){return"auto"==D.labels_color_mode?"line"==D.chart_type?df(this,0,e):"black":"series"==D.labels_color_mode?df(this,0,e):D.labels_fixed_color}function _f(t){if(D.highlighted){var e=document.getElementById(D.highlighted);Pf(),setTimeout(function(){e&&function(t){if(!D.show_popups)return;"arc"==t.getAttribute("data-type")?Of(t):Nf(t)}(e)},t)}}function bf(t,e){var n;if(0<(n=rt.proportional?[0,100]:D.y_axis_matching?rt.stack?t.dataset_value_extent_stack.slice():t.dataset_value_extent.slice():rt.stack?t.value_extent_stack.slice():t.value_extent.slice())[0]&&(n[0]=0),D.y_axis_log&&(n[0]=1),null!=D.y_axis_min&&(n[0]=D.y_axis_min),null!=D.y_axis_max&&(n[1]=D.y_axis_max),"line"==D.chart_type&&D.y_axis_log){if(n[0]<=0||n[1]<=0)throw new Error("With a log scale, axis min cannot be set at or below zero!");e.value=function t(){var e=Fa(Ja,ti).domain([1,10]),h=e.domain,d=10,p=ai(10),_=ni(10);function n(){return p=ai(d),_=ni(d),h()[0]<0&&(p=ii(p),_=ii(_)),e}return e.base=function(t){return arguments.length?(d=+t,n()):d},e.domain=function(t){return arguments.length?(h(t),n()):h()},e.ticks=function(t){var e,n=h(),a=n[0],i=n[n.length-1];(e=i<a)&&(c=a,a=i,i=c);var r,o,s,c=p(a),l=p(i),f=null==t?10:+t,u=[];if(!(d%1)&&l-c<f){if(c=Math.round(c)-1,l=Math.round(l)+1,0<a){for(;c<l;++c)for(o=1,r=_(c);o<d;++o)if(!((s=r*o)<a)){if(i<s)break;u.push(s)}}else for(;c<l;++c)for(o=d-1,r=_(c);1<=o;--o)if(!((s=r*o)<a)){if(i<s)break;u.push(s)}}else u=Zt(c,l,Math.min(l-c,f)).map(_);return e?u.reverse():u},e.tickFormat=function(t,n){if(null==n&&(n=10===d?".0e":","),"function"!=typeof n&&(n=Ga(n)),t===1/0)return n;null==t&&(t=10);var a=Math.max(1,d*t/e.ticks().length);return function(t){var e=t/_(Math.round(p(t)));return e*d<d-.5&&(e*=d),e<=a?n(t):""}},e.nice=function(){return h((t=h(),e={floor:function(t){return _(Math.floor(p(t)))},ceil:function(t){return _(Math.ceil(p(t)))}},a=0,i=(t=t.slice()).length-1,r=t[a],(o=t[i])<r&&(n=a,a=i,i=n,n=r,r=o,o=n),t[a]=e.floor(r),t[i]=e.ceil(o),t));var t,e,n,a,i,r,o},e.copy=function(){return Pa(e,t().base(d))},e}()}else e.value=Qa();e.value.range(function(t){if(rt.values_on_x)return[0,t.w];return[t.h,0]}(e)).domain(n),null==D.y_axis_min&&null==D.y_axis_max&&e.value.nice()}function gf(t){return rt.values_on_x?[t.h,"gridlines"==D.y_axis_tick_style&&D.y_axis_ticks_inline?D.y_axis_tick_w:0]:["gridlines"==D.y_axis_tick_style&&D.y_axis_ticks_inline?D.y_axis_tick_w:0,t.w]}function vf(t,e){e.label=Ea().range(gf(e)).domain(t.label_domain).paddingOuter(D.column_padding_outer/100).paddingInner(D.column_padding_inner/100)}function mf(t,e,n,a){var i=e.scales,r=G(t);t.hasOwnProperty("_mode")||(t._mode=rt.mode);var o,s,c,l,f,u,h,d,p,_=rt.single_series?D.current_series:0,b=rt.single_series?_+1:void 0,g=e.series.slice(_,b),v=0;switch("line"==rt.prev_mode&&"line"!=rt.mode&&(v=D.data_trans_duration),bf(e,i),rt.mode){case"bar":case"column":vf(e,i),i.num_series=e.series.length,i.col_w=i.label.bandwidth()/(rt.stack?1:i.num_series);break;case"line":"number"==i.label_type?(c=i,l=e.label_extent.slice(),null!=D.x_axis_min&&(l[0]=D.x_axis_min),null!=D.x_axis_max&&(l[1]=D.x_axis_max),c.label=Qa().range(gf(c)).domain(l),null==D.x_axis_min&&null==D.x_axis_max&&c.label.nice()):(o=e,(s=i).label=Ca().range(gf(s)).domain(o.label_domain));break;case"donut":i.label||vf(e,i),i.sum_scale_ratio=D.donut_auto_scale?g[0].data_points_positive_sum/e.dataset_max_series_sum:1}!function(t,e,n,a){var i=a.select(".interaction").selectAll(".series").data(t),r=i.enter().append("g").attr("class","series"),o=i.merge(r);i.exit().remove();var s=[];"line"==rt.mode&&o.each(function(t){s=s.concat(t[rt.data_points])}),sf.extent([[0,0],[e.w,e.h]]).x(function(t){return e.label(t.label)}).y(function(t){return e.value(t.value)});var c=sf.polygons(s).filter(function(t){return t}),l=o.selectAll("path").data(c),f=l.enter().append("path").style("opacity",0).on("mouseover",function(){Lf(this.getAttribute("data-target"))}).on("click",function(){Tf(this.getAttribute("data-target"))}).on("mouseout",If);l.merge(f).attr("data-target",function(t){return"point-"+t.data.series+"-"+t.data.row_index}).attr("d",function(t){return null==t?null:"M"+t.join("L")+"Z"}),l.exit().remove()}(g,i,0,r),ml(f=r,u=e,h=i,d=a,p=v),yl(f,u,h,d,p)}function yf(t){return"translate("+t.facet.layout.x+","+t.facet.layout.y+")"}function xf(t,e){var n=e&&"except-data-points"!=e,a=rt.single_series&&!rt.facet_by_series,i=t.series.filter(function(t){return!a||t.index==D.current_series}),r=0,o=0;"line"!=rt.prev_mode&&"line"==rt.mode&&(o=D.data_trans_duration),"line"==rt.prev_mode&&"line"!=rt.mode&&(r=D.data_trans_duration);var s,c,l,f,u,h,d=G("#data-points").selectAll(".series").data(i,function(t,e){return rt.facets_show?rt.facet_by_series?e:"series-"+t.facet.index+"-"+t.index:e}),p=d.enter().append("g").attr("class","series").attr("transform",yf),_=d.merge(p);switch(_.transition().duration(e?0:D.data_trans_duration).delay(r).attr("transform",yf),d.exit().transition().duration(e?0:D.data_trans_duration).delay(r).style("opacity",0).remove(),rt.mode){case"bar":Ws(_,n,r);break;case"column":Xs(_,n,r);break;case"line":Gs(_,n,r);break;case"donut":s=_,c=n,l=r,f=yc().outerRadius(function(t){return $c(t)}).innerRadius(function(t){return $c(t)*D.donut_inner_radius/100}).cornerRadius(D.donut_corner_radius).padAngle(D.donut_pad_angle*Math.PI/180),u=s.selectAll(".data-point").data(function(t){return Wc(t.data_points)}),h=u.enter().append("path").attr("class","data-point").attr("data-type","arc").each(function(t){this._current={startAngle:0,endAngle:0},this._prev_r=$c(t)}).attr("fill",function(t){return Po(t.data.index)}).attr("opacity",0).attr("d",f).attr("transform",Zc).on("click",Tf).on("mouseout",If),u.merge(h).on("mouseover",Lf).each(function(t){this.__centroid__=f.centroid(t)}).attr("id",function(t){return"point-"+t.data.series+"-"+t.data.row_index}).transition().duration(c?0:D.data_trans_duration).delay(l).attr("fill",function(t){return Po(t.data.index)}).attr("transform",Zc).attr("opacity",1).attrTween("d",function(t){var e=$c(t);return"arc"==this.getAttribute("data-type")?Xc(t,this,e,f,t.data.facet.index):Bs(this.getAttribute("d"),Hs(f(t)),{maxSegmentLength:1})}).on("end",function(t){this.setAttribute("data-type","arc"),this._prev_r=$c(t),this._current=t}),u.exit().transition().duration(c?0:D.data_trans_duration).attrTween("d",function(t){return Xc({startAngle:2*Math.PI,endAngle:2*Math.PI},this,$c(t),f)}).remove()}el(t.series,n,r,o),function(t,e,n){var a=t.selectAll(".data-label").data(function(t){return D.labels?t[rt.data_points]:[]}),i=a.enter().append("g").attr("class","data-label").attr("text-anchor","middle").attr("font-size",cf).attr("pointer-events","none").attr("opacity",0),r=i.append("text").attr("class","back").attr("stroke-width",lf).attr("stroke",D.bg_color),o=i.append("text").attr("class","front").attr("fill",pf),s=!1;"always"==D.labels_show_label&&(s=!0),"auto"==D.labels_show_label&&"donut"==rt.mode&&(s=!0);var c="never"!=D.labels_show_value;o.append("tspan").attr("class","label").text(s?uf:""),o.append("tspan").attr("class","value").text(c?hf:"").attr("x",0).attr("dy",s?"1.05em":0),r.append("tspan").attr("class","label").text(s?uf:""),r.append("tspan").attr("class","value").text(c?hf:"").attr("x",0).attr("dy",s?"1.05em":0),i.attr("transform",ff);var l=a.merge(i),f=l.select(".back").attr("stroke-width",lf).attr("stroke",D.bg_color),u=l.select(".front").attr("fill",pf);u.select("tspan.label").text(s?uf:""),u.select("tspan.value").text(c?hf:"").attr("x",0).attr("dy",s?"1.05em":0),f.select("tspan.label").text(s?uf:""),f.select("tspan.value").text(c?hf:"").attr("x",0).attr("dy",s?"1.05em":0),l.transition().duration(e?0:D.data_trans_duration).delay(n).attr("text-anchor","middle").attr("font-size",cf).attr("opacity",1).attr("transform",ff),a.exit().remove()}(_,n,r),_f(e?0:r+D.data_trans_duration)}function wf(t,e){var n;_l=(n=e)?0:D.data_trans_duration,pl=new RegExp("[^-0-9eE"+D.decimal_separator+"]","g"),kl(0,n,"above"),kl(0,n,"below")}function Mf(t){return"translate("+t.layout.x+","+t.layout.y+")"}var kf=!1,Af=!1;var Ef=D.line_curve;function Cf(t){var e,n,a;e=it[D.chart_type],n=e.proportional?"data_points_stack_prop":e.stack?"data_points_stack":"data_points",a="facets"===D.layout,rt={mode:e.mode,area:e.area,stack:e.stack,proportional:e.proportional,has_axes:e.has_axes,single_series:e.single_series,legend_show:D.legend_show,legend_type:e.legend_type||"column",facets_show:a,facet_by_series:a&&!h.data.column_names.hasOwnProperty("facet"),values_on_x:e.values_on_x,data_points:n,prev_mode:ot},ot=e.mode;var i,r=t||"line"===rt.mode&&D.line_curve!==Ef;Ef=D.line_curve,mt(),ne(),(i=G("#nav").style("color",D.title_color).style("padding",D.title_padding+"px")).select("h1").text(D.title),i.select("h2").text(D.subtitle),re(),No(),function(n){var t=window.innerWidth,e=window.innerHeight,a=Pt.length,i=(""!=D.y_axis_label&&rt.has_axes?2*D.y_axis_label_font_size:0)+(!rt.has_axes||"none"==D.y_axis_tick_style||"gridlines"==D.y_axis_tick_style&&D.y_axis_ticks_inline?0:D.y_axis_tick_w),r=(""!=D.x_axis_label&&rt.has_axes?2*D.x_axis_label_font_size:0)+(!rt.has_axes||"none"==D.x_axis_tick_style||"gridlines"==D.x_axis_tick_style&&D.x_axis_ticks_inline?0:D.x_axis_tick_h),o=D.facet_gutter_w,s=D.y_axis_first_col_only&&D.y_axis_matching;s||(o+=i);var c,l="line"==rt.mode&&D.line_end_labels?D.line_end_labels_width:0,f=t-i-D.margin_right-D.margin_left;if("facets"==D.layout&&D.facet_fixed_cols)c=Math.floor(D.facet_cols);else{var u=Math.floor((f+o)/(D.facet_min_w+o));a%(c=Math.max(1,Math.min(u,a)))==1&&2<c&&c--}var h=a%c!=0&&c<a,d=(f-o*(c-1))/c-l,p=D.facet_gutter_h,_=D.x_axis_last_row_only&&D.x_axis_matching&&!h;_||(p+=r);var b,g,v=Math.ceil(a/c),m=_?1:v,y=""==Pt[0].name?0:1.5*D.facet_header_font_size,x=document.getElementById("nav").getBoundingClientRect().height,w=oe(),M=d*D.facet_aspect/100,k=v*(M+y+p)+r-p+D.margin_top+D.margin_bottom,A=Math.max(e-x-w,1),E=(Math.max(A-D.margin_top-D.margin_bottom,1)-r*m-v*y-(v-1)*p)/v,C=d<D.facet_min_w||E<100;if(Flourish.fixed_height||"fill_space"==D.layout_mode||"auto"==D.layout_mode&&(!C||k<A)){if(Af)return Af=!1,Flourish.setHeight(null),setTimeout(bt,100);g=A,b=E}else b=M,g=k,Af=!0,Flourish.setHeight(x+g+w);d=Math.max(d,0),b=Math.max(b,0),G("#graphic").transition().duration(n?0:D.data_trans_duration).attr("width",t).attr("height",g);for(var S=0;S<a;S++){var T=Math.ceil(S%c),L=Math.floor(S/c),I=Pt[S].layout={};I.has_y_axis=0==T||!s,I.has_x_axis=L==v-1||!_,I.x=D.margin_left+i+T*(d+o+l),I.y=D.margin_top+y+L*(b+y+p),I.w=d+I.has_y_axis?i:0,I.h=y+b+I.has_x_axis?r:0}var N=G("#facets").selectAll(".facet").data(Pt),O=N.enter().append("g").attr("class","facet").attr("transform",function(t){return Mf(kf?Pt[0]:t)}).attr("opacity",0);O.append("text").attr("class","facet-title").attr("y",-y/2).attr("font-size",D.facet_header_font_size).attr("font-weight","bold").attr("dominant-baseline","middle");var P=O.append("g").attr("class","plot");P.append("clipPath").attr("class","facet-clip").append("rect").attr("width",d+o).attr("height",y+b+p).attr("transform","translate("+-o/2+","+-(y+p/2)+")"),P.append("g").attr("class","bg").append("rect").attr("fill","none"),P.append("g").attr("class","interaction"),P.append("g").attr("class","axes");var F=N.merge(O);F.transition().duration(n?0:D.data_trans_duration).attr("transform",Mf).attr("opacity",1),F.select(".facet-title").attr("font-size",D.facet_header_font_size).text(function(t){return t.name}).attr("clip-path",function(t,e){return"url(#facet-clip-"+e+")"}).attr("fill",function(t,e){return rt.facet_by_series&&"row"!==rt.legend_type?Oo(e):"black"}).attr("y",-y/2),F.select(".facet-clip").attr("id",function(t,e){return"facet-clip-"+e}).select("rect").transition().duration(n?0:D.data_trans_duration).attr("width",d+o+l).attr("height",y+b+p).attr("transform","translate("+-o/2+","+-(y+p/2)+")"),F.select(".data-points").attr("clip-path",function(t,e){return"url(#facet-clip-"+e+")"}),F.select(".data-labels").attr("clip-path",function(t,e){return"url(#facet-clip-"+e+")"}),F.select(".annotations").attr("clip-path",function(t,e){return"url(#facet-clip-"+e+")"}),F.select(".bg rect").style("fill","chart"==D.bg_color_style?D.bg_color:"none").attr("width",d).attr("height",b),F.select(".plot").each(function(t,e){t.scales={},t.scales.w=d,t.scales.h=b,t.scales.label_type=Pt.label_type,mf(this,t,0,n)}),N.exit().transition().duration(n?0:D.data_trans_duration).attr("transform",function(){return Mf(Pt[Pt.length-1])}).style("opacity",0).remove(),xf(Pt,n),wf(0,n),kf=1==Pt.length}(r)}var Sf=at();function Tf(t){if(R.stopPropagation(),D.highlighted)Pf(),D.highlighted=null;else{var e=this||document.getElementById(t);if(!D.show_popups)return;if(!e.getAttribute("data-type"))return;D.highlighted=e.id,Cf(!0)}}function Lf(t){if(D.show_popups&&!D.highlighted){var e=this||document.getElementById(t);"arc"==e.getAttribute("data-type")?Of(e):Nf(e)}}function If(){D.show_popups&&!D.highlighted&&Pf()}function Nf(t){var e=t.__data__,n=t.parentNode.__data__,a=t.getBoundingClientRect(),i=a.left+a.width/2,r=a.top,o="row"==rt.legend_type?Po(e.index):Oo(n.index),s="<div style='font-size: "+D.popup_font_size+"px'>";s+="<h1 style='color: "+o+"'>"+n.name+"</h1>",s+="<h2><span class='name'>"+e.label+"</span>: "+dl(e.value-(e.value_base||0))+"</h2>",s+="</div>",Sf.point(i,r).html(s).draw()}function Of(t){var e=t.__data__,n=t.parentNode.__data__,a=e.startAngle+(e.endAngle-e.startAngle)/2,i=t.parentNode.getBoundingClientRect(),r=t.__centroid__,o=i.left+i.width/2+r[0],s=i.top+i.height/2+r[1],c="row"===rt.legend_type?Po(e.data.index):Oo(n.index),l="<div style='font-size: "+D.popup_font_size+"px'>";l+="<h1 style='color: "+c+"'>"+n.name+"</h1>",l+="<h2><span class='name'>"+e.data.label+"</span>: "+dl(e.data.value)+"</h2>",l+="</div>";var f,u,h=Sf.directions();Sf.point(o,s).directions((f=a,u=f*(8/Math.PI),u<1||15<u?["bottom","top"]:u<3?["bottomLeft","topRight"]:u<5?["left","right"]:u<7?["topLeft","bottomRight"]:u<9?["top","bottom"]:u<11?["topRight","bottomLeft"]:u<13?["right","left"]:["bottomRight","topLeft"])).html(l).draw().directions(h)}function Pf(){Sf.hide()}return t.data=h,t.state=D,t.draw=function(){var t=G("body").on("click",Tf).append("div").attr("id","wrapper"),e=t.append("div").attr("id","nav");e.append("h1"),e.append("h2"),e.append("select").attr("id","series-filter").attr("multiple",!0),e.append("div").attr("id","legend");var n=t.append("svg").attr("id","graphic");n.append("g").attr("id","facets"),n.append("g").attr("class","annotations below"),n.append("g").attr("id","areas"),n.append("g").attr("id","lines"),n.append("g").attr("id","data-points"),n.append("g").attr("id","data-labels"),n.append("g").attr("class","annotations above"),ie(t.node(),D),Sf.container(document.querySelector("#wrapper")),Cf(!D.animate_on_load||"except-data-points");var a,i=(a=window.innerWidth,function(){var t=window.innerWidth;(a!==t||Flourish.fixed_height)&&(a=t,Cf(!0))});window.addEventListener("resize",i,!1)},t.update=bt,t}({});
//# sourceMappingURL=template.js.map
</script><script>
var path = document.location.href.match(/\/visualisation\/(\d+)/);
if (path) {
	path = path[0];
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga("create", "UA-44635456-19", "auto", { storage: "none" });
	ga("set", "transport", "beacon");
	ga("set", "dimension1", path.substr(1));
	ga("set", "dimension2", new Date().toISOString());
	ga("send", "pageview", path);
}</script><script src="https://public.flourish.studio/resources/v3/embedded.js"></script><script>
window.addEventListener("message", function(event) {
	var a = document.createElement("a");
	a.href = event.origin;
	var origin_okay = (a.hostname == window.location.hostname)
		|| window.location.hostname === "localhost"
		|| (a.hostname.match(/\.flourish\.local$/) && window.location.hostname.match(/\.flourish\.local$/))
		|| (a.hostname.match(/\.flourish\.rocks$/) && window.location.hostname.match(/\.flourish\.rocks$/))
		|| (a.hostname.match(/\.flourish\.studio$/) && window.location.hostname.match(/\.flourish\.studio$/));

	if (!origin_okay) return;
	var message = event.data;
	var port = event.ports[0];
	if (!port || typeof message !== "object" || message.sender !== "Flourish") return;
	var result = null;
	function assign(target, source) {
		for (var k in source) {
			target[k] = source[k];
		}
	}
	function deepAssign(target, source) {
		for (var k in source) {
			if (
				typeof target[k] === "object" && target[k] != null && !Array.isArray(target[k])
				&& typeof source[k] === "object" && source[k] != null && !Array.isArray(source[k])
			) {
				deepAssign(target[k], source[k]);
			}
			else target[k] = source[k];
		}
	}
	try {
		var i, a;
		switch(message.method) {
			case "getState":
			result = window.template.state;
			if (message.argument) for (a = message.argument.split("."), i = 0; i < a.length; i++) {
				result = result[a[i]];
			}
			break;

			case "setState":
			deepAssign(window.template.state, message.argument);
			break;

			case "hasData":
			result = !!window.template.data;
			break;

			case "setData":
			assign(window.template.data, message.argument);
			break;

			case "getData":
			result = window.template.data;
			break;

			case "draw":
			window.template.draw();
			break;

			case "update":
			window.template.update();
			break;

			case "snapshot":
			result = window.snapshot(message.argument, port);
			break;

			case "setFixedHeight":
			if (window.Flourish) {
				window.Flourish.fixed_height = message.argument != null;
				window.Flourish.__container_height = message.argument;
				if (window.Flourish.checkHeight) window.Flourish.checkHeight();
			}
			break;

			case "sync":
			var spec = message.argument;
			if (spec.data) {
				assign(window.template.data, spec.data);
			}
			if (spec.state) {
				deepAssign(window.template.state, spec.state);
			}
			// only allow draw or update, not both
			if (spec.draw) {
				window.template.draw();
			}
			else if (spec.update) {
				window.template.update();
			}
			result = "success";
			break;
		}

		port.postMessage({result: result});
	}
	catch (e) {
		port.postMessage({error: e.message});
		throw e;
	}
}, false);
</script></body></html>